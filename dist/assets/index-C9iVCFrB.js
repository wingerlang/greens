(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Lp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gc={exports:{}},ka={},Kc={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),Rp=Symbol.for("react.portal"),Ip=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Op=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),$p=Symbol.for("react.suspense"),Bp=Symbol.for("react.memo"),Up=Symbol.for("react.lazy"),go=Symbol.iterator;function Wp(e){return e===null||typeof e!="object"?null:(e=go&&e[go]||e["@@iterator"],typeof e=="function"?e:null)}var Hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qc=Object.assign,Yc={};function ar(e,t,n){this.props=e,this.context=t,this.refs=Yc,this.updater=n||Hc}ar.prototype.isReactComponent={};ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qc(){}qc.prototype=ar.prototype;function ml(e,t,n){this.props=e,this.context=t,this.refs=Yc,this.updater=n||Hc}var fl=ml.prototype=new qc;fl.constructor=ml;Qc(fl,ar.prototype);fl.isPureReactComponent=!0;var xo=Array.isArray,Jc=Object.prototype.hasOwnProperty,hl={current:null},Xc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,n){var s,a={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Jc.call(t,s)&&!Xc.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var d=Array(o),u=0;u<o;u++)d[u]=arguments[u+2];a.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:ts,type:e,key:i,ref:l,props:a,_owner:hl.current}}function Vp(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function Gp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vo=/\/+/g;function Oa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gp(""+e.key):t.toString(36)}function Rs(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ts:case Rp:l=!0}}if(l)return l=e,a=a(l),e=s===""?"."+Oa(l,0):s,xo(a)?(n="",e!=null&&(n=e.replace(vo,"$&/")+"/"),Rs(a,t,n,"",function(u){return u})):a!=null&&(gl(a)&&(a=Vp(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(vo,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=s===""?".":s+":",xo(e))for(var o=0;o<e.length;o++){i=e[o];var d=s+Oa(i,o);l+=Rs(i,t,n,d,a)}else if(d=Wp(e),typeof d=="function")for(e=d.call(e),o=0;!(i=e.next()).done;)i=i.value,d=s+Oa(i,o++),l+=Rs(i,t,n,d,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ds(e,t,n){if(e==null)return e;var s=[],a=0;return Rs(e,s,"","",function(i){return t.call(n,i,a++)}),s}function Kp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Is={transition:null},Hp={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Is,ReactCurrentOwner:hl};function ed(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:ds,forEach:function(e,t,n){ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ds(e,function(){t++}),t},toArray:function(e){return ds(e,function(t){return t})||[]},only:function(e){if(!gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=ar;le.Fragment=Ip;le.Profiler=Fp;le.PureComponent=ml;le.StrictMode=Dp;le.Suspense=$p;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hp;le.act=ed;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Qc({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=hl.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)Jc.call(t,d)&&!Xc.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){o=Array(d);for(var u=0;u<d;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:ts,type:e.type,key:a,ref:i,props:s,_owner:l}};le.createContext=function(e){return e={$$typeof:Op,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_p,_context:e},e.Consumer=e};le.createElement=Zc;le.createFactory=function(e){var t=Zc.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:zp,render:e}};le.isValidElement=gl;le.lazy=function(e){return{$$typeof:Up,_payload:{_status:-1,_result:e},_init:Kp}};le.memo=function(e,t){return{$$typeof:Bp,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Is.transition;Is.transition={};try{e()}finally{Is.transition=t}};le.unstable_act=ed;le.useCallback=function(e,t){return Ve.current.useCallback(e,t)};le.useContext=function(e){return Ve.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ve.current.useEffect(e,t)};le.useId=function(){return Ve.current.useId()};le.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ve.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};le.useRef=function(e){return Ve.current.useRef(e)};le.useState=function(e){return Ve.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Ve.current.useTransition()};le.version="18.3.1";Kc.exports=le;var v=Kc.exports;const Hs=Lp(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qp=v,Yp=Symbol.for("react.element"),qp=Symbol.for("react.fragment"),Jp=Object.prototype.hasOwnProperty,Xp=Qp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zp={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,n){var s,a={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)Jp.call(t,s)&&!Zp.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Yp,type:e,key:i,ref:l,props:a,_owner:Xp.current}}ka.Fragment=qp;ka.jsx=td;ka.jsxs=td;Gc.exports=ka;var r=Gc.exports,nd={exports:{}},rt={},rd={exports:{}},sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,_){var A=L.length;L.push(_);e:for(;0<A;){var O=A-1>>>1,Y=L[O];if(0<a(Y,_))L[O]=_,L[A]=Y,A=O;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var _=L[0],A=L.pop();if(A!==_){L[0]=A;e:for(var O=0,Y=L.length,U=Y>>>1;O<U;){var J=2*(O+1)-1,Q=L[J],te=J+1,R=L[te];if(0>a(Q,A))te<Y&&0>a(R,Q)?(L[O]=R,L[te]=A,O=te):(L[O]=Q,L[J]=A,O=J);else if(te<Y&&0>a(R,A))L[O]=R,L[te]=A,O=te;else break e}}return _}function a(L,_){var A=L.sortIndex-_.sortIndex;return A!==0?A:L.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var d=[],u=[],m=1,c=null,f=3,y=!1,j=!1,k=!1,T=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var _=n(u);_!==null;){if(_.callback===null)s(u);else if(_.startTime<=L)s(u),_.sortIndex=_.expirationTime,t(d,_);else break;_=n(u)}}function b(L){if(k=!1,g(L),!j)if(n(d)!==null)j=!0,X(C);else{var _=n(u);_!==null&&Z(b,_.startTime-L)}}function C(L,_){j=!1,k&&(k=!1,p(w),w=-1),y=!0;var A=f;try{for(g(_),c=n(d);c!==null&&(!(c.expirationTime>_)||L&&!M());){var O=c.callback;if(typeof O=="function"){c.callback=null,f=c.priorityLevel;var Y=O(c.expirationTime<=_);_=e.unstable_now(),typeof Y=="function"?c.callback=Y:c===n(d)&&s(d),g(_)}else s(d);c=n(d)}if(c!==null)var U=!0;else{var J=n(u);J!==null&&Z(b,J.startTime-_),U=!1}return U}finally{c=null,f=A,y=!1}}var E=!1,x=null,w=-1,S=5,P=-1;function M(){return!(e.unstable_now()-P<S)}function D(){if(x!==null){var L=e.unstable_now();P=L;var _=!0;try{_=x(!0,L)}finally{_?G():(E=!1,x=null)}}else E=!1}var G;if(typeof h=="function")G=function(){h(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$=V.port2;V.port1.onmessage=D,G=function(){$.postMessage(null)}}else G=function(){T(D,0)};function X(L){x=L,E||(E=!0,G())}function Z(L,_){w=T(function(){L(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,X(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var _=3;break;default:_=f}var A=f;f=_;try{return L()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,_){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var A=f;f=L;try{return _()}finally{f=A}},e.unstable_scheduleCallback=function(L,_,A){var O=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?O+A:O):A=O,L){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=A+Y,L={id:m++,callback:_,priorityLevel:L,startTime:A,expirationTime:Y,sortIndex:-1},A>O?(L.sortIndex=A,t(u,L),n(d)===null&&L===n(u)&&(k?(p(w),w=-1):k=!0,Z(b,A-O))):(L.sortIndex=Y,t(d,L),j||y||(j=!0,X(C))),L},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(L){var _=f;return function(){var A=f;f=_;try{return L.apply(this,arguments)}finally{f=A}}}})(sd);rd.exports=sd;var em=rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=v,nt=em;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ad=new Set,_r={};function Pn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(_r[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xi=Object.prototype.hasOwnProperty,nm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yo={},ko={};function rm(e){return xi.call(ko,e)?!0:xi.call(yo,e)?!1:nm.test(e)?ko[e]=!0:(yo[e]=!0,!1)}function sm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function am(e,t,n,s){if(t===null||typeof t>"u"||sm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,n,s,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xl,vl);De[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xl,vl);De[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xl,vl);De[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function yl(e,t,n,s){var a=De.hasOwnProperty(t)?De[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(am(t,n,a,s)&&(n=null),s||a===null?rm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Ut=tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),In=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),kl=Symbol.for("react.strict_mode"),vi=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),ld=Symbol.for("react.context"),jl=Symbol.for("react.forward_ref"),yi=Symbol.for("react.suspense"),ki=Symbol.for("react.suspense_list"),bl=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),od=Symbol.for("react.offscreen"),jo=Symbol.iterator;function mr(e){return e===null||typeof e!="object"?null:(e=jo&&e[jo]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,za;function Nr(e){if(za===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);za=t&&t[1]||""}return`
`+za+e}var $a=!1;function Ba(e,t){if(!e||$a)return"";$a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=s.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var d=`
`+a[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=o);break}}}finally{$a=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nr(e):""}function im(e){switch(e.tag){case 5:return Nr(e.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 2:case 15:return e=Ba(e.type,!1),e;case 11:return e=Ba(e.type.render,!1),e;case 1:return e=Ba(e.type,!0),e;default:return""}}function ji(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dn:return"Fragment";case In:return"Portal";case vi:return"Profiler";case kl:return"StrictMode";case yi:return"Suspense";case ki:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ld:return(e.displayName||"Context")+".Consumer";case id:return(e._context.displayName||"Context")+".Provider";case jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bl:return t=e.displayName||null,t!==null?t:ji(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return ji(e(t))}catch{}}return null}function lm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ji(t);case 8:return t===kl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function om(e){var t=cd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=om(e))}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=cd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bi(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bo(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ud(e,t){t=t.checked,t!=null&&yl(e,"checked",t,!1)}function Ni(e,t){ud(e,t);var n=cn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wi(e,t.type,n):t.hasOwnProperty("defaultValue")&&wi(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function No(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wi(e,t,n){(t!=="number"||Qs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wr=Array.isArray;function Kn(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Si(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(wr(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function pd(e,t){var n=cn(t.value),s=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function So(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function md(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ti(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?md(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,fd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cm=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(e){cm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cr[t]=Cr[e]})});function hd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cr.hasOwnProperty(e)&&Cr[e]?(""+t).trim():t+"px"}function gd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=hd(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var dm=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ci(e,t){if(t){if(dm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function Ei(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pi=null;function Nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,Hn=null,Qn=null;function To(e){if(e=ss(e)){if(typeof Ai!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Sa(t),Ai(e.stateNode,e.type,t))}}function xd(e){Hn?Qn?Qn.push(e):Qn=[e]:Hn=e}function vd(){if(Hn){var e=Hn,t=Qn;if(Qn=Hn=null,To(e),t)for(e=0;e<t.length;e++)To(t[e])}}function yd(e,t){return e(t)}function kd(){}var Ua=!1;function jd(e,t,n){if(Ua)return e(t,n);Ua=!0;try{return yd(e,t,n)}finally{Ua=!1,(Hn!==null||Qn!==null)&&(kd(),vd())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var s=Sa(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Mi=!1;if(_t)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Mi=!1}function um(e,t,n,s,a,i,l,o,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Er=!1,Ys=null,qs=!1,Li=null,pm={onError:function(e){Er=!0,Ys=e}};function mm(e,t,n,s,a,i,l,o,d){Er=!1,Ys=null,um.apply(pm,arguments)}function fm(e,t,n,s,a,i,l,o,d){if(mm.apply(this,arguments),Er){if(Er){var u=Ys;Er=!1,Ys=null}else throw Error(z(198));qs||(qs=!0,Li=u)}}function An(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Co(e){if(An(e)!==e)throw Error(z(188))}function hm(e){var t=e.alternate;if(!t){if(t=An(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Co(a),e;if(i===s)return Co(a),t;i=i.sibling}throw Error(z(188))}if(n.return!==s.return)n=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,s=i;break}if(o===s){l=!0,s=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,s=a;break}if(o===s){l=!0,s=i,n=a;break}o=o.sibling}if(!l)throw Error(z(189))}}if(n.alternate!==s)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Nd(e){return e=hm(e),e!==null?wd(e):null}function wd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wd(e);if(t!==null)return t;e=e.sibling}return null}var Sd=nt.unstable_scheduleCallback,Eo=nt.unstable_cancelCallback,gm=nt.unstable_shouldYield,xm=nt.unstable_requestPaint,we=nt.unstable_now,vm=nt.unstable_getCurrentPriorityLevel,wl=nt.unstable_ImmediatePriority,Td=nt.unstable_UserBlockingPriority,Js=nt.unstable_NormalPriority,ym=nt.unstable_LowPriority,Cd=nt.unstable_IdlePriority,ja=null,Ct=null;function km(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ja,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Nm,jm=Math.log,bm=Math.LN2;function Nm(e){return e>>>=0,e===0?32:31-(jm(e)/bm|0)|0}var fs=64,hs=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?s=Sr(o):(i&=l,i!==0&&(s=Sr(i)))}else l=n&~a,l!==0?s=Sr(l):i!==0&&(s=Sr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-vt(t),a=1<<n,s|=e[n],t&=~a;return s}function wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-vt(i),o=1<<l,d=a[l];d===-1?(!(o&n)||o&s)&&(a[l]=wm(o,t)):d<=t&&(e.expiredLanes|=o),i&=~o}}function Ri(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ed(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function Wa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ns(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=n}function Tm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-vt(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function Sl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vt(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var ue=0;function Pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ad,Tl,Md,Ld,Rd,Ii=!1,gs=[],en=null,tn=null,nn=null,$r=new Map,Br=new Map,qt=[],Cm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Po(e,t){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":$r.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(t.pointerId)}}function hr(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ss(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Em(e,t,n,s,a){switch(t){case"focusin":return en=hr(en,e,t,n,s,a),!0;case"dragenter":return tn=hr(tn,e,t,n,s,a),!0;case"mouseover":return nn=hr(nn,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return $r.set(i,hr($r.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,Br.set(i,hr(Br.get(i)||null,e,t,n,s,a)),!0}return!1}function Id(e){var t=xn(e.target);if(t!==null){var n=An(t);if(n!==null){if(t=n.tag,t===13){if(t=bd(n),t!==null){e.blockedOn=t,Rd(e.priority,function(){Md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ds(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Di(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Pi=s,n.target.dispatchEvent(s),Pi=null}else return t=ss(n),t!==null&&Tl(t),e.blockedOn=n,!1;t.shift()}return!0}function Ao(e,t,n){Ds(e)&&n.delete(t)}function Pm(){Ii=!1,en!==null&&Ds(en)&&(en=null),tn!==null&&Ds(tn)&&(tn=null),nn!==null&&Ds(nn)&&(nn=null),$r.forEach(Ao),Br.forEach(Ao)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ii||(Ii=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Pm)))}function Ur(e){function t(a){return gr(a,e)}if(0<gs.length){gr(gs[0],e);for(var n=1;n<gs.length;n++){var s=gs[n];s.blockedOn===e&&(s.blockedOn=null)}}for(en!==null&&gr(en,e),tn!==null&&gr(tn,e),nn!==null&&gr(nn,e),$r.forEach(t),Br.forEach(t),n=0;n<qt.length;n++)s=qt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Id(n),n.blockedOn===null&&qt.shift()}var Yn=Ut.ReactCurrentBatchConfig,Zs=!0;function Am(e,t,n,s){var a=ue,i=Yn.transition;Yn.transition=null;try{ue=1,Cl(e,t,n,s)}finally{ue=a,Yn.transition=i}}function Mm(e,t,n,s){var a=ue,i=Yn.transition;Yn.transition=null;try{ue=4,Cl(e,t,n,s)}finally{ue=a,Yn.transition=i}}function Cl(e,t,n,s){if(Zs){var a=Di(e,t,n,s);if(a===null)Za(e,t,s,ea,n),Po(e,s);else if(Em(a,e,t,n,s))s.stopPropagation();else if(Po(e,s),t&4&&-1<Cm.indexOf(e)){for(;a!==null;){var i=ss(a);if(i!==null&&Ad(i),i=Di(e,t,n,s),i===null&&Za(e,t,s,ea,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Za(e,t,s,null,n)}}var ea=null;function Di(e,t,n,s){if(ea=null,e=Nl(s),e=xn(e),e!==null)if(t=An(e),t===null)e=null;else if(n=t.tag,n===13){if(e=bd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ea=e,null}function Dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vm()){case wl:return 1;case Td:return 4;case Js:case ym:return 16;case Cd:return 536870912;default:return 16}default:return 16}}var Xt=null,El=null,Fs=null;function Fd(){if(Fs)return Fs;var e,t=El,n=t.length,s,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===a[i-s];s++);return Fs=a.slice(e,1<s?1-s:void 0)}function _s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function Mo(){return!1}function st(e){function t(n,s,a,i,l){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xs:Mo,this.isPropagationStopped=Mo,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=st(ir),rs=be({},ir,{view:0,detail:0}),Lm=st(rs),Va,Ga,xr,ba=be({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Va=e.screenX-xr.screenX,Ga=e.screenY-xr.screenY):Ga=Va=0,xr=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:Ga}}),Lo=st(ba),Rm=be({},ba,{dataTransfer:0}),Im=st(Rm),Dm=be({},rs,{relatedTarget:0}),Ka=st(Dm),Fm=be({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=st(Fm),Om=be({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=st(Om),$m=be({},ir,{data:0}),Ro=st($m),Bm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Um={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wm[e])?!!t[e]:!1}function Al(){return Vm}var Gm=be({},rs,{key:function(e){if(e.key){var t=Bm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Um[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?_s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Km=st(Gm),Hm=be({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=st(Hm),Qm=be({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),Ym=st(Qm),qm=be({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jm=st(qm),Xm=be({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zm=st(Xm),ef=[9,13,27,32],Ml=_t&&"CompositionEvent"in window,Pr=null;_t&&"documentMode"in document&&(Pr=document.documentMode);var tf=_t&&"TextEvent"in window&&!Pr,_d=_t&&(!Ml||Pr&&8<Pr&&11>=Pr),Do=" ",Fo=!1;function Od(e,t){switch(e){case"keyup":return ef.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function nf(e,t){switch(e){case"compositionend":return zd(t);case"keypress":return t.which!==32?null:(Fo=!0,Do);case"textInput":return e=t.data,e===Do&&Fo?null:e;default:return null}}function rf(e,t){if(Fn)return e==="compositionend"||!Ml&&Od(e,t)?(e=Fd(),Fs=El=Xt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _d&&t.locale!=="ko"?null:t.data;default:return null}}var sf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sf[e.type]:t==="textarea"}function $d(e,t,n,s){xd(s),t=ta(t,"onChange"),0<t.length&&(n=new Pl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ar=null,Wr=null;function af(e){Jd(e,0)}function Na(e){var t=zn(e);if(dd(t))return e}function lf(e,t){if(e==="change")return t}var Bd=!1;if(_t){var Ha;if(_t){var Qa="oninput"in document;if(!Qa){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),Qa=typeof Oo.oninput=="function"}Ha=Qa}else Ha=!1;Bd=Ha&&(!document.documentMode||9<document.documentMode)}function zo(){Ar&&(Ar.detachEvent("onpropertychange",Ud),Wr=Ar=null)}function Ud(e){if(e.propertyName==="value"&&Na(Wr)){var t=[];$d(t,Wr,e,Nl(e)),jd(af,t)}}function of(e,t,n){e==="focusin"?(zo(),Ar=t,Wr=n,Ar.attachEvent("onpropertychange",Ud)):e==="focusout"&&zo()}function cf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Na(Wr)}function df(e,t){if(e==="click")return Na(t)}function uf(e,t){if(e==="input"||e==="change")return Na(t)}function pf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:pf;function Vr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!xi.call(t,a)||!kt(e[a],t[a]))return!1}return!0}function $o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bo(e,t){var n=$o(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$o(n)}}function Wd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vd(){for(var e=window,t=Qs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qs(e.document)}return t}function Ll(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mf(e){var t=Vd(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wd(n.ownerDocument.documentElement,n)){if(s!==null&&Ll(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=Bo(n,i);var l=Bo(n,s);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ff=_t&&"documentMode"in document&&11>=document.documentMode,_n=null,Fi=null,Mr=null,_i=!1;function Uo(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_i||_n==null||_n!==Qs(s)||(s=_n,"selectionStart"in s&&Ll(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Mr&&Vr(Mr,s)||(Mr=s,s=ta(Fi,"onSelect"),0<s.length&&(t=new Pl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=_n)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var On={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Ya={},Gd={};_t&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function wa(e){if(Ya[e])return Ya[e];if(!On[e])return e;var t=On[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gd)return Ya[e]=t[n];return e}var Kd=wa("animationend"),Hd=wa("animationiteration"),Qd=wa("animationstart"),Yd=wa("transitionend"),qd=new Map,Wo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){qd.set(e,t),Pn(t,[e])}for(var qa=0;qa<Wo.length;qa++){var Ja=Wo[qa],hf=Ja.toLowerCase(),gf=Ja[0].toUpperCase()+Ja.slice(1);un(hf,"on"+gf)}un(Kd,"onAnimationEnd");un(Hd,"onAnimationIteration");un(Qd,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Yd,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Vo(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,fm(s,t,void 0,e),e.currentTarget=null}function Jd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],d=o.instance,u=o.currentTarget;if(o=o.listener,d!==i&&a.isPropagationStopped())break e;Vo(a,o,u),i=d}else for(l=0;l<s.length;l++){if(o=s[l],d=o.instance,u=o.currentTarget,o=o.listener,d!==i&&a.isPropagationStopped())break e;Vo(a,o,u),i=d}}}if(qs)throw e=Li,qs=!1,Li=null,e}function ge(e,t){var n=t[Ui];n===void 0&&(n=t[Ui]=new Set);var s=e+"__bubble";n.has(s)||(Xd(t,e,2,!1),n.add(s))}function Xa(e,t,n){var s=0;t&&(s|=4),Xd(n,e,s,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[ys]){e[ys]=!0,ad.forEach(function(n){n!=="selectionchange"&&(xf.has(n)||Xa(n,!1,e),Xa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,Xa("selectionchange",!1,t))}}function Xd(e,t,n,s){switch(Dd(t)){case 1:var a=Am;break;case 4:a=Mm;break;default:a=Cl}n=a.bind(null,t,n,e),a=void 0,!Mi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Za(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=s.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;l=l.return}for(;o!==null;){if(l=xn(o),l===null)return;if(d=l.tag,d===5||d===6){s=i=l;continue e}o=o.parentNode}}s=s.return}jd(function(){var u=i,m=Nl(n),c=[];e:{var f=qd.get(e);if(f!==void 0){var y=Pl,j=e;switch(e){case"keypress":if(_s(n)===0)break e;case"keydown":case"keyup":y=Km;break;case"focusin":j="focus",y=Ka;break;case"focusout":j="blur",y=Ka;break;case"beforeblur":case"afterblur":y=Ka;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Ym;break;case Kd:case Hd:case Qd:y=_m;break;case Yd:y=Jm;break;case"scroll":y=Lm;break;case"wheel":y=Zm;break;case"copy":case"cut":case"paste":y=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Io}var k=(t&4)!==0,T=!k&&e==="scroll",p=k?f!==null?f+"Capture":null:f;k=[];for(var h=u,g;h!==null;){g=h;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,p!==null&&(b=zr(h,p),b!=null&&k.push(Kr(h,b,g)))),T)break;h=h.return}0<k.length&&(f=new y(f,j,null,n,m),c.push({event:f,listeners:k}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==Pi&&(j=n.relatedTarget||n.fromElement)&&(xn(j)||j[Ot]))break e;if((y||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,y?(j=n.relatedTarget||n.toElement,y=u,j=j?xn(j):null,j!==null&&(T=An(j),j!==T||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=u),y!==j)){if(k=Lo,b="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(k=Io,b="onPointerLeave",p="onPointerEnter",h="pointer"),T=y==null?f:zn(y),g=j==null?f:zn(j),f=new k(b,h+"leave",y,n,m),f.target=T,f.relatedTarget=g,b=null,xn(m)===u&&(k=new k(p,h+"enter",j,n,m),k.target=g,k.relatedTarget=T,b=k),T=b,y&&j)t:{for(k=y,p=j,h=0,g=k;g;g=Ln(g))h++;for(g=0,b=p;b;b=Ln(b))g++;for(;0<h-g;)k=Ln(k),h--;for(;0<g-h;)p=Ln(p),g--;for(;h--;){if(k===p||p!==null&&k===p.alternate)break t;k=Ln(k),p=Ln(p)}k=null}else k=null;y!==null&&Go(c,f,y,k,!1),j!==null&&T!==null&&Go(c,T,j,k,!0)}}e:{if(f=u?zn(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var C=lf;else if(_o(f))if(Bd)C=uf;else{C=cf;var E=of}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=df);if(C&&(C=C(e,u))){$d(c,C,n,m);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&wi(f,"number",f.value)}switch(E=u?zn(u):window,e){case"focusin":(_o(E)||E.contentEditable==="true")&&(_n=E,Fi=u,Mr=null);break;case"focusout":Mr=Fi=_n=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,Uo(c,n,m);break;case"selectionchange":if(ff)break;case"keydown":case"keyup":Uo(c,n,m)}var x;if(Ml)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Fn?Od(e,n)&&(w="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(_d&&n.locale!=="ko"&&(Fn||w!=="onCompositionStart"?w==="onCompositionEnd"&&Fn&&(x=Fd()):(Xt=m,El="value"in Xt?Xt.value:Xt.textContent,Fn=!0)),E=ta(u,w),0<E.length&&(w=new Ro(w,e,null,n,m),c.push({event:w,listeners:E}),x?w.data=x:(x=zd(n),x!==null&&(w.data=x)))),(x=tf?nf(e,n):rf(e,n))&&(u=ta(u,"onBeforeInput"),0<u.length&&(m=new Ro("onBeforeInput","beforeinput",null,n,m),c.push({event:m,listeners:u}),m.data=x))}Jd(c,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=zr(e,n),i!=null&&s.unshift(Kr(e,i,a)),i=zr(e,t),i!=null&&s.push(Kr(e,i,a))),e=e.return}return s}function Ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Go(e,t,n,s,a){for(var i=t._reactName,l=[];n!==null&&n!==s;){var o=n,d=o.alternate,u=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&u!==null&&(o=u,a?(d=zr(n,i),d!=null&&l.unshift(Kr(n,d,o))):a||(d=zr(n,i),d!=null&&l.push(Kr(n,d,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var vf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function Ko(e){return(typeof e=="string"?e:""+e).replace(vf,`
`).replace(yf,"")}function ks(e,t,n){if(t=Ko(t),Ko(e)!==t&&n)throw Error(z(425))}function na(){}var Oi=null,zi=null;function $i(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bi=typeof setTimeout=="function"?setTimeout:void 0,kf=typeof clearTimeout=="function"?clearTimeout:void 0,Ho=typeof Promise=="function"?Promise:void 0,jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ho<"u"?function(e){return Ho.resolve(null).then(e).catch(bf)}:Bi;function bf(e){setTimeout(function(){throw e})}function ei(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),Ur(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);Ur(t)}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+lr,Hr="__reactProps$"+lr,Ot="__reactContainer$"+lr,Ui="__reactEvents$"+lr,Nf="__reactListeners$"+lr,wf="__reactHandles$"+lr;function xn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qo(e);e!==null;){if(n=e[Tt])return n;e=Qo(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[Tt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Sa(e){return e[Hr]||null}var Wi=[],$n=-1;function pn(e){return{current:e}}function xe(e){0>$n||(e.current=Wi[$n],Wi[$n]=null,$n--)}function he(e,t){$n++,Wi[$n]=e.current,e.current=t}var dn={},Be=pn(dn),Ye=pn(!1),Nn=dn;function Zn(e,t){var n=e.type.contextTypes;if(!n)return dn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function qe(e){return e=e.childContextTypes,e!=null}function ra(){xe(Ye),xe(Be)}function Yo(e,t,n){if(Be.current!==dn)throw Error(z(168));he(Be,t),he(Ye,n)}function Zd(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(z(108,lm(e)||"Unknown",a));return be({},n,s)}function sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,Nn=Be.current,he(Be,e),he(Ye,Ye.current),!0}function qo(e,t,n){var s=e.stateNode;if(!s)throw Error(z(169));n?(e=Zd(e,t,Nn),s.__reactInternalMemoizedMergedChildContext=e,xe(Ye),xe(Be),he(Be,e)):xe(Ye),he(Ye,n)}var Lt=null,Ta=!1,ti=!1;function eu(e){Lt===null?Lt=[e]:Lt.push(e)}function Sf(e){Ta=!0,eu(e)}function mn(){if(!ti&&Lt!==null){ti=!0;var e=0,t=ue;try{var n=Lt;for(ue=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Lt=null,Ta=!1}catch(a){throw Lt!==null&&(Lt=Lt.slice(e+1)),Sd(wl,mn),a}finally{ue=t,ti=!1}}return null}var Bn=[],Un=0,aa=null,ia=0,it=[],lt=0,wn=null,Rt=1,It="";function hn(e,t){Bn[Un++]=ia,Bn[Un++]=aa,aa=e,ia=t}function tu(e,t,n){it[lt++]=Rt,it[lt++]=It,it[lt++]=wn,wn=e;var s=Rt;e=It;var a=32-vt(s)-1;s&=~(1<<a),n+=1;var i=32-vt(t)+a;if(30<i){var l=a-a%5;i=(s&(1<<l)-1).toString(32),s>>=l,a-=l,Rt=1<<32-vt(t)+a|n<<a|s,It=i+e}else Rt=1<<i|n<<a|s,It=e}function Rl(e){e.return!==null&&(hn(e,1),tu(e,1,0))}function Il(e){for(;e===aa;)aa=Bn[--Un],Bn[Un]=null,ia=Bn[--Un],Bn[Un]=null;for(;e===wn;)wn=it[--lt],it[lt]=null,It=it[--lt],it[lt]=null,Rt=it[--lt],it[lt]=null}var tt=null,et=null,ve=!1,xt=null;function nu(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wn!==null?{id:Rt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function Vi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gi(e){if(ve){var t=et;if(t){var n=t;if(!Jo(e,t)){if(Vi(e))throw Error(z(418));t=rn(n.nextSibling);var s=tt;t&&Jo(e,t)?nu(s,n):(e.flags=e.flags&-4097|2,ve=!1,tt=e)}}else{if(Vi(e))throw Error(z(418));e.flags=e.flags&-4097|2,ve=!1,tt=e}}}function Xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function js(e){if(e!==tt)return!1;if(!ve)return Xo(e),ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$i(e.type,e.memoizedProps)),t&&(t=et)){if(Vi(e))throw ru(),Error(z(418));for(;t;)nu(e,t),t=rn(t.nextSibling)}if(Xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=rn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?rn(e.stateNode.nextSibling):null;return!0}function ru(){for(var e=et;e;)e=rn(e.nextSibling)}function er(){et=tt=null,ve=!1}function Dl(e){xt===null?xt=[e]:xt.push(e)}var Tf=Ut.ReactCurrentBatchConfig;function vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var s=n.stateNode}if(!s)throw Error(z(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zo(e){var t=e._init;return t(e._payload)}function su(e){function t(p,h){if(e){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function s(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function a(p,h){return p=on(p,h),p.index=0,p.sibling=null,p}function i(p,h,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,h,g,b){return h===null||h.tag!==6?(h=oi(g,p.mode,b),h.return=p,h):(h=a(h,g),h.return=p,h)}function d(p,h,g,b){var C=g.type;return C===Dn?m(p,h,g.props.children,b,g.key):h!==null&&(h.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Qt&&Zo(C)===h.type)?(b=a(h,g.props),b.ref=vr(p,h,g),b.return=p,b):(b=Vs(g.type,g.key,g.props,null,p.mode,b),b.ref=vr(p,h,g),b.return=p,b)}function u(p,h,g,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=ci(g,p.mode,b),h.return=p,h):(h=a(h,g.children||[]),h.return=p,h)}function m(p,h,g,b,C){return h===null||h.tag!==7?(h=bn(g,p.mode,b,C),h.return=p,h):(h=a(h,g),h.return=p,h)}function c(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=oi(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case us:return g=Vs(h.type,h.key,h.props,null,p.mode,g),g.ref=vr(p,null,h),g.return=p,g;case In:return h=ci(h,p.mode,g),h.return=p,h;case Qt:var b=h._init;return c(p,b(h._payload),g)}if(wr(h)||mr(h))return h=bn(h,p.mode,g,null),h.return=p,h;bs(p,h)}return null}function f(p,h,g,b){var C=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:o(p,h,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case us:return g.key===C?d(p,h,g,b):null;case In:return g.key===C?u(p,h,g,b):null;case Qt:return C=g._init,f(p,h,C(g._payload),b)}if(wr(g)||mr(g))return C!==null?null:m(p,h,g,b,null);bs(p,g)}return null}function y(p,h,g,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(g)||null,o(h,p,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case us:return p=p.get(b.key===null?g:b.key)||null,d(h,p,b,C);case In:return p=p.get(b.key===null?g:b.key)||null,u(h,p,b,C);case Qt:var E=b._init;return y(p,h,g,E(b._payload),C)}if(wr(b)||mr(b))return p=p.get(g)||null,m(h,p,b,C,null);bs(h,b)}return null}function j(p,h,g,b){for(var C=null,E=null,x=h,w=h=0,S=null;x!==null&&w<g.length;w++){x.index>w?(S=x,x=null):S=x.sibling;var P=f(p,x,g[w],b);if(P===null){x===null&&(x=S);break}e&&x&&P.alternate===null&&t(p,x),h=i(P,h,w),E===null?C=P:E.sibling=P,E=P,x=S}if(w===g.length)return n(p,x),ve&&hn(p,w),C;if(x===null){for(;w<g.length;w++)x=c(p,g[w],b),x!==null&&(h=i(x,h,w),E===null?C=x:E.sibling=x,E=x);return ve&&hn(p,w),C}for(x=s(p,x);w<g.length;w++)S=y(x,p,w,g[w],b),S!==null&&(e&&S.alternate!==null&&x.delete(S.key===null?w:S.key),h=i(S,h,w),E===null?C=S:E.sibling=S,E=S);return e&&x.forEach(function(M){return t(p,M)}),ve&&hn(p,w),C}function k(p,h,g,b){var C=mr(g);if(typeof C!="function")throw Error(z(150));if(g=C.call(g),g==null)throw Error(z(151));for(var E=C=null,x=h,w=h=0,S=null,P=g.next();x!==null&&!P.done;w++,P=g.next()){x.index>w?(S=x,x=null):S=x.sibling;var M=f(p,x,P.value,b);if(M===null){x===null&&(x=S);break}e&&x&&M.alternate===null&&t(p,x),h=i(M,h,w),E===null?C=M:E.sibling=M,E=M,x=S}if(P.done)return n(p,x),ve&&hn(p,w),C;if(x===null){for(;!P.done;w++,P=g.next())P=c(p,P.value,b),P!==null&&(h=i(P,h,w),E===null?C=P:E.sibling=P,E=P);return ve&&hn(p,w),C}for(x=s(p,x);!P.done;w++,P=g.next())P=y(x,p,w,P.value,b),P!==null&&(e&&P.alternate!==null&&x.delete(P.key===null?w:P.key),h=i(P,h,w),E===null?C=P:E.sibling=P,E=P);return e&&x.forEach(function(D){return t(p,D)}),ve&&hn(p,w),C}function T(p,h,g,b){if(typeof g=="object"&&g!==null&&g.type===Dn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case us:e:{for(var C=g.key,E=h;E!==null;){if(E.key===C){if(C=g.type,C===Dn){if(E.tag===7){n(p,E.sibling),h=a(E,g.props.children),h.return=p,p=h;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Qt&&Zo(C)===E.type){n(p,E.sibling),h=a(E,g.props),h.ref=vr(p,E,g),h.return=p,p=h;break e}n(p,E);break}else t(p,E);E=E.sibling}g.type===Dn?(h=bn(g.props.children,p.mode,b,g.key),h.return=p,p=h):(b=Vs(g.type,g.key,g.props,null,p.mode,b),b.ref=vr(p,h,g),b.return=p,p=b)}return l(p);case In:e:{for(E=g.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=a(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=ci(g,p.mode,b),h.return=p,p=h}return l(p);case Qt:return E=g._init,T(p,h,E(g._payload),b)}if(wr(g))return j(p,h,g,b);if(mr(g))return k(p,h,g,b);bs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=a(h,g),h.return=p,p=h):(n(p,h),h=oi(g,p.mode,b),h.return=p,p=h),l(p)):n(p,h)}return T}var tr=su(!0),au=su(!1),la=pn(null),oa=null,Wn=null,Fl=null;function _l(){Fl=Wn=oa=null}function Ol(e){var t=la.current;xe(la),e._currentValue=t}function Ki(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){oa=e,Fl=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Fl!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(oa===null)throw Error(z(308));Wn=e,oa.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var vn=null;function zl(e){vn===null?vn=[e]:vn.push(e)}function iu(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,zl(t)):(n.next=a.next,a.next=n),t.interleaved=n,zt(e,s)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yt=!1;function $l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ce&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,zt(e,n)}return a=s.interleaved,a===null?(t.next=t,zl(s)):(t.next=a.next,a.next=t),s.interleaved=t,zt(e,n)}function Os(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Sl(e,n)}}function ec(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ca(e,t,n,s){var a=e.updateQueue;Yt=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,u=d.next;d.next=null,l===null?i=u:l.next=u,l=d;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=d))}if(i!==null){var c=a.baseState;l=0,m=u=d=null,o=i;do{var f=o.lane,y=o.eventTime;if((s&f)===f){m!==null&&(m=m.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var j=e,k=o;switch(f=t,y=n,k.tag){case 1:if(j=k.payload,typeof j=="function"){c=j.call(y,c,f);break e}c=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=k.payload,f=typeof j=="function"?j.call(y,c,f):j,f==null)break e;c=be({},c,f);break e;case 2:Yt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=y,d=c):m=m.next=y,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(m===null&&(d=c),a.baseState=d,a.firstBaseUpdate=u,a.lastBaseUpdate=m,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Tn|=l,e.lanes=l,e.memoizedState=c}}function tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(z(191,a));a.call(s)}}}var as={},Et=pn(as),Qr=pn(as),Yr=pn(as);function yn(e){if(e===as)throw Error(z(174));return e}function Bl(e,t){switch(he(Yr,t),he(Qr,e),he(Et,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ti(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ti(t,e)}xe(Et),he(Et,t)}function nr(){xe(Et),xe(Qr),xe(Yr)}function ou(e){yn(Yr.current);var t=yn(Et.current),n=Ti(t,e.type);t!==n&&(he(Qr,e),he(Et,n))}function Ul(e){Qr.current===e&&(xe(Et),xe(Qr))}var ye=pn(0);function da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function Wl(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var zs=Ut.ReactCurrentDispatcher,ri=Ut.ReactCurrentBatchConfig,Sn=0,ke=null,Pe=null,Me=null,ua=!1,Lr=!1,qr=0,Cf=0;function Oe(){throw Error(z(321))}function Vl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Gl(e,t,n,s,a,i){if(Sn=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?Mf:Lf,e=n(s,a),Lr){i=0;do{if(Lr=!1,qr=0,25<=i)throw Error(z(301));i+=1,Me=Pe=null,t.updateQueue=null,zs.current=Rf,e=n(s,a)}while(Lr)}if(zs.current=pa,t=Pe!==null&&Pe.next!==null,Sn=0,Me=Pe=ke=null,ua=!1,t)throw Error(z(300));return e}function Kl(){var e=qr!==0;return qr=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ke.memoizedState=Me=e:Me=Me.next=e,Me}function pt(){if(Pe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?ke.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(z(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?ke.memoizedState=Me=e:Me=Me.next=e}return Me}function Jr(e,t){return typeof t=="function"?t(e):t}function si(e){var t=pt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=Pe,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var o=l=null,d=null,u=i;do{var m=u.lane;if((Sn&m)===m)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var c={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(o=d=c,l=s):d=d.next=c,ke.lanes|=m,Tn|=m}u=u.next}while(u!==null&&u!==i);d===null?l=s:d.next=o,kt(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=d,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,ke.lanes|=i,Tn|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ai(e){var t=pt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);kt(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function cu(){}function du(e,t){var n=ke,s=pt(),a=t(),i=!kt(s.memoizedState,a);if(i&&(s.memoizedState=a,Qe=!0),s=s.queue,Hl(mu.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Xr(9,pu.bind(null,n,s,a,t),void 0,null),Le===null)throw Error(z(349));Sn&30||uu(n,t,a)}return a}function uu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pu(e,t,n,s){t.value=n,t.getSnapshot=s,fu(t)&&hu(e)}function mu(e,t,n){return n(function(){fu(t)&&hu(e)})}function fu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function hu(e){var t=zt(e,1);t!==null&&yt(t,e,1,-1)}function nc(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},t.queue=e,e=e.dispatch=Af.bind(null,ke,e),[t.memoizedState,e]}function Xr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function gu(){return pt().memoizedState}function $s(e,t,n,s){var a=St();ke.flags|=e,a.memoizedState=Xr(1|t,n,void 0,s===void 0?null:s)}function Ca(e,t,n,s){var a=pt();s=s===void 0?null:s;var i=void 0;if(Pe!==null){var l=Pe.memoizedState;if(i=l.destroy,s!==null&&Vl(s,l.deps)){a.memoizedState=Xr(t,n,i,s);return}}ke.flags|=e,a.memoizedState=Xr(1|t,n,i,s)}function rc(e,t){return $s(8390656,8,e,t)}function Hl(e,t){return Ca(2048,8,e,t)}function xu(e,t){return Ca(4,2,e,t)}function vu(e,t){return Ca(4,4,e,t)}function yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ku(e,t,n){return n=n!=null?n.concat([e]):null,Ca(4,4,yu.bind(null,t,e),n)}function Ql(){}function ju(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Vl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function bu(e,t){var n=pt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Vl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Nu(e,t,n){return Sn&21?(kt(n,t)||(n=Ed(),ke.lanes|=n,Tn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Ef(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var s=ri.transition;ri.transition={};try{e(!1),t()}finally{ue=n,ri.transition=s}}function wu(){return pt().memoizedState}function Pf(e,t,n){var s=ln(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Su(e))Tu(t,n);else if(n=iu(e,t,n,s),n!==null){var a=We();yt(n,e,s,a),Cu(n,t,s)}}function Af(e,t,n){var s=ln(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Su(e))Tu(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,kt(o,l)){var d=t.interleaved;d===null?(a.next=a,zl(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}n=iu(e,t,a,s),n!==null&&(a=We(),yt(n,e,s,a),Cu(n,t,s))}}function Su(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Tu(e,t){Lr=ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cu(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Sl(e,n)}}var pa={readContext:ut,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Mf={readContext:ut,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:rc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$s(4194308,4,yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){return $s(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=St();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Pf.bind(null,ke,e),[s.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:nc,useDebugValue:Ql,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=nc(!1),t=e[0];return e=Ef.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ke,a=St();if(ve){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Le===null)throw Error(z(349));Sn&30||uu(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,rc(mu.bind(null,s,i,e),[e]),s.flags|=2048,Xr(9,pu.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=St(),t=Le.identifierPrefix;if(ve){var n=It,s=Rt;n=(s&~(1<<32-vt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=qr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Cf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lf={readContext:ut,useCallback:ju,useContext:ut,useEffect:Hl,useImperativeHandle:ku,useInsertionEffect:xu,useLayoutEffect:vu,useMemo:bu,useReducer:si,useRef:gu,useState:function(){return si(Jr)},useDebugValue:Ql,useDeferredValue:function(e){var t=pt();return Nu(t,Pe.memoizedState,e)},useTransition:function(){var e=si(Jr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:cu,useSyncExternalStore:du,useId:wu,unstable_isNewReconciler:!1},Rf={readContext:ut,useCallback:ju,useContext:ut,useEffect:Hl,useImperativeHandle:ku,useInsertionEffect:xu,useLayoutEffect:vu,useMemo:bu,useReducer:ai,useRef:gu,useState:function(){return ai(Jr)},useDebugValue:Ql,useDeferredValue:function(e){var t=pt();return Pe===null?t.memoizedState=e:Nu(t,Pe.memoizedState,e)},useTransition:function(){var e=ai(Jr)[0],t=pt().memoizedState;return[e,t]},useMutableSource:cu,useSyncExternalStore:du,useId:wu,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hi(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ea={isMounted:function(e){return(e=e._reactInternals)?An(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=We(),a=ln(e),i=Dt(s,a);i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,a),t!==null&&(yt(t,e,a,s),Os(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=We(),a=ln(e),i=Dt(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=sn(e,i,a),t!==null&&(yt(t,e,a,s),Os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),s=ln(e),a=Dt(n,s);a.tag=2,t!=null&&(a.callback=t),t=sn(e,a,s),t!==null&&(yt(t,e,s,n),Os(t,e,s))}};function sc(e,t,n,s,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!Vr(n,s)||!Vr(a,i):!0}function Eu(e,t,n){var s=!1,a=dn,i=t.contextType;return typeof i=="object"&&i!==null?i=ut(i):(a=qe(t)?Nn:Be.current,s=t.contextTypes,i=(s=s!=null)?Zn(e,a):dn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ea,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ac(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ea.enqueueReplaceState(t,t.state,null)}function Qi(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$l(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ut(i):(i=qe(t)?Nn:Be.current,a.context=Zn(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Hi(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ea.enqueueReplaceState(a,a.state,null),ca(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",s=t;do n+=im(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ii(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var If=typeof WeakMap=="function"?WeakMap:Map;function Pu(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){fa||(fa=!0,al=s),Yi(e,t)},n}function Au(e,t,n){n=Dt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Yi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yi(e,t),typeof s!="function"&&(an===null?an=new Set([this]):an.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ic(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new If;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=Qf.bind(null,e,t,n),t.then(e,e))}function lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,sn(n,t,1))),n.lanes|=1),e)}var Df=Ut.ReactCurrentOwner,Qe=!1;function Ue(e,t,n,s){t.child=e===null?au(t,null,n,s):tr(t,e.child,n,s)}function cc(e,t,n,s,a){n=n.render;var i=t.ref;return qn(t,a),s=Gl(e,t,n,s,i,a),n=Kl(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$t(e,t,a)):(ve&&n&&Rl(t),t.flags|=1,Ue(e,t,s,a),t.child)}function dc(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!no(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Mu(e,t,i,s,a)):(e=Vs(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vr,n(l,s)&&e.ref===t.ref)return $t(e,t,a)}return t.flags|=1,e=on(i,s),e.ref=t.ref,e.return=t,t.child=e}function Mu(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(Vr(i,s)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,$t(e,t,a)}return qi(e,t,n,s,a)}function Lu(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Gn,Ze),Ze|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,he(Gn,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,he(Gn,Ze),Ze|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,he(Gn,Ze),Ze|=s;return Ue(e,t,a,n),t.child}function Ru(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qi(e,t,n,s,a){var i=qe(n)?Nn:Be.current;return i=Zn(t,i),qn(t,a),n=Gl(e,t,n,s,i,a),s=Kl(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$t(e,t,a)):(ve&&s&&Rl(t),t.flags|=1,Ue(e,t,n,a),t.child)}function uc(e,t,n,s,a){if(qe(n)){var i=!0;sa(t)}else i=!1;if(qn(t,a),t.stateNode===null)Bs(e,t),Eu(t,n,s),Qi(t,n,s,a),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var d=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=ut(u):(u=qe(n)?Nn:Be.current,u=Zn(t,u));var m=n.getDerivedStateFromProps,c=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||d!==u)&&ac(t,l,s,u),Yt=!1;var f=t.memoizedState;l.state=f,ca(t,s,l,a),d=t.memoizedState,o!==s||f!==d||Ye.current||Yt?(typeof m=="function"&&(Hi(t,n,m,s),d=t.memoizedState),(o=Yt||sc(t,n,o,s,f,d,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),l.props=s,l.state=d,l.context=u,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,lu(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ht(t.type,o),l.props=u,c=t.pendingProps,f=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=ut(d):(d=qe(n)?Nn:Be.current,d=Zn(t,d));var y=n.getDerivedStateFromProps;(m=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==c||f!==d)&&ac(t,l,s,d),Yt=!1,f=t.memoizedState,l.state=f,ca(t,s,l,a);var j=t.memoizedState;o!==c||f!==j||Ye.current||Yt?(typeof y=="function"&&(Hi(t,n,y,s),j=t.memoizedState),(u=Yt||sc(t,n,u,s,f,j,d)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,j,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,j,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),l.props=s,l.state=j,l.context=d,s=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Ji(e,t,n,s,i,a)}function Ji(e,t,n,s,a,i){Ru(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return a&&qo(t,n,!1),$t(e,t,i);s=t.stateNode,Df.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=tr(t,e.child,null,i),t.child=tr(t,null,o,i)):Ue(e,t,o,i),t.memoizedState=s.state,a&&qo(t,n,!0),t.child}function Iu(e){var t=e.stateNode;t.pendingContext?Yo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yo(e,t.context,!1),Bl(e,t.containerInfo)}function pc(e,t,n,s,a){return er(),Dl(a),t.flags|=256,Ue(e,t,n,s),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function Zi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Du(e,t,n){var s=t.pendingProps,a=ye.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),he(ye,a&1),e===null)return Gi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ma(l,s,0,null),e=bn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zi(n),t.memoizedState=Xi,e):Yl(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Ff(e,t,l,s,o,a,n);if(i){i=s.fallback,l=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:s.children};return!(l&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=on(a,d),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=on(o,i):(i=bn(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?Zi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Xi,s}return i=e.child,e=i.sibling,s=on(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Yl(e,t){return t=Ma({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,n,s){return s!==null&&Dl(s),tr(t,e.child,null,n),e=Yl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ff(e,t,n,s,a,i,l){if(n)return t.flags&256?(t.flags&=-257,s=ii(Error(z(422))),Ns(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Ma({mode:"visible",children:s.children},a,0,null),i=bn(i,a,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&tr(t,e.child,null,l),t.child.memoizedState=Zi(l),t.memoizedState=Xi,i);if(!(t.mode&1))return Ns(e,t,l,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(z(419)),s=ii(i,s,void 0),Ns(e,t,l,s)}if(o=(l&e.childLanes)!==0,Qe||o){if(s=Le,s!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zt(e,a),yt(s,e,a,-1))}return to(),s=ii(Error(z(421))),Ns(e,t,l,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Yf.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,et=rn(a.nextSibling),tt=t,ve=!0,xt=null,e!==null&&(it[lt++]=Rt,it[lt++]=It,it[lt++]=wn,Rt=e.id,It=e.overflow,wn=t),t=Yl(t,s.children),t.flags|=4096,t)}function mc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ki(e.return,t,n)}function li(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function Fu(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(Ue(e,t,s.children,n),s=ye.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mc(e,n,t);else if(e.tag===19)mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(he(ye,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&da(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),li(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&da(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}li(t,!0,n,null,i);break;case"together":li(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _f(e,t,n){switch(t.tag){case 3:Iu(t),er();break;case 5:ou(t);break;case 1:qe(t.type)&&sa(t);break;case 4:Bl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;he(la,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(he(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Du(e,t,n):(he(ye,ye.current&1),e=$t(e,t,n),e!==null?e.sibling:null);he(ye,ye.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Fu(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),he(ye,ye.current),s)break;return null;case 22:case 23:return t.lanes=0,Lu(e,t,n)}return $t(e,t,n)}var _u,el,Ou,zu;_u=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};el=function(){};Ou=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,yn(Et.current);var i=null;switch(n){case"input":a=bi(e,a),s=bi(e,s),i=[];break;case"select":a=be({},a,{value:void 0}),s=be({},s,{value:void 0}),i=[];break;case"textarea":a=Si(e,a),s=Si(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=na)}Ci(n,s);var l;n=null;for(u in a)if(!s.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_r.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var d=s[u];if(o=a!=null?a[u]:void 0,s.hasOwnProperty(u)&&d!==o&&(d!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&o[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(u,n)),n=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_r.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&ge("scroll",e),i||o===d||(i=[])):(i=i||[]).push(u,d))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};zu=function(e,t,n,s){n!==s&&(t.flags|=4)};function yr(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Of(e,t,n){var s=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return qe(t.type)&&ra(),ze(t),null;case 3:return s=t.stateNode,nr(),xe(Ye),xe(Be),Wl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(ol(xt),xt=null))),el(e,t),ze(t),null;case 5:Ul(t);var a=yn(Yr.current);if(n=t.type,e!==null&&t.stateNode!=null)Ou(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return ze(t),null}if(e=yn(Et.current),js(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[Tt]=t,s[Hr]=i,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",s),ge("close",s);break;case"iframe":case"object":case"embed":ge("load",s);break;case"video":case"audio":for(a=0;a<Tr.length;a++)ge(Tr[a],s);break;case"source":ge("error",s);break;case"img":case"image":case"link":ge("error",s),ge("load",s);break;case"details":ge("toggle",s);break;case"input":bo(s,i),ge("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ge("invalid",s);break;case"textarea":wo(s,i),ge("invalid",s)}Ci(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&ks(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ks(s.textContent,o,e),a=["children",""+o]):_r.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ge("scroll",s)}switch(n){case"input":ps(s),No(s,i,!0);break;case"textarea":ps(s),So(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=na)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=md(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[Tt]=t,e[Hr]=s,_u(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ei(n,s),n){case"dialog":ge("cancel",e),ge("close",e),a=s;break;case"iframe":case"object":case"embed":ge("load",e),a=s;break;case"video":case"audio":for(a=0;a<Tr.length;a++)ge(Tr[a],e);a=s;break;case"source":ge("error",e),a=s;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=s;break;case"details":ge("toggle",e),a=s;break;case"input":bo(e,s),a=bi(e,s),ge("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=be({},s,{value:void 0}),ge("invalid",e);break;case"textarea":wo(e,s),a=Si(e,s),ge("invalid",e);break;default:a=s}Ci(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var d=o[i];i==="style"?gd(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&fd(e,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Or(e,d):typeof d=="number"&&Or(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_r.hasOwnProperty(i)?d!=null&&i==="onScroll"&&ge("scroll",e):d!=null&&yl(e,i,d,l))}switch(n){case"input":ps(e),No(e,s,!1);break;case"textarea":ps(e),So(e);break;case"option":s.value!=null&&e.setAttribute("value",""+cn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Kn(e,!!s.multiple,i,!1):s.defaultValue!=null&&Kn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=na)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)zu(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(n=yn(Yr.current),yn(Et.current),js(t)){if(s=t.stateNode,n=t.memoizedProps,s[Tt]=t,(i=s.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:ks(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Tt]=t,t.stateNode=s}return ze(t),null;case 13:if(xe(ye),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ve&&et!==null&&t.mode&1&&!(t.flags&128))ru(),er(),t.flags|=98560,i=!1;else if(i=js(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Tt]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else xt!==null&&(ol(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ae===0&&(Ae=3):to())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return nr(),el(e,t),e===null&&Gr(t.stateNode.containerInfo),ze(t),null;case 10:return Ol(t.type._context),ze(t),null;case 17:return qe(t.type)&&ra(),ze(t),null;case 19:if(xe(ye),i=t.memoizedState,i===null)return ze(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)yr(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=da(e),l!==null){for(t.flags|=128,yr(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return he(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>sr&&(t.flags|=128,s=!0,yr(i,!1),t.lanes=4194304)}else{if(!s)if(e=da(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ve)return ze(t),null}else 2*we()-i.renderingStartTime>sr&&n!==1073741824&&(t.flags|=128,s=!0,yr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=ye.current,he(ye,s?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return eo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ze&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function zf(e,t){switch(Il(t),t.tag){case 1:return qe(t.type)&&ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),xe(Ye),xe(Be),Wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(xe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ye),null;case 4:return nr(),null;case 10:return Ol(t.type._context),null;case 22:case 23:return eo(),null;case 24:return null;default:return null}}var ws=!1,$e=!1,$f=typeof WeakSet=="function"?WeakSet:Set,q=null;function Vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ne(e,t,s)}else n.current=null}function tl(e,t,n){try{n()}catch(s){Ne(e,t,s)}}var fc=!1;function Bf(e,t){if(Oi=Zs,e=Vd(),Ll(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,d=-1,u=0,m=0,c=e,f=null;t:for(;;){for(var y;c!==n||a!==0&&c.nodeType!==3||(o=l+a),c!==i||s!==0&&c.nodeType!==3||(d=l+s),c.nodeType===3&&(l+=c.nodeValue.length),(y=c.firstChild)!==null;)f=c,c=y;for(;;){if(c===e)break t;if(f===n&&++u===a&&(o=l),f===i&&++m===s&&(d=l),(y=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=y}n=o===-1||d===-1?null:{start:o,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(zi={focusedElem:e,selectionRange:n},Zs=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var k=j.memoizedProps,T=j.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:ht(t.type,k),T);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(b){Ne(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return j=fc,fc=!1,j}function Rr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&tl(t,n,i)}a=a.next}while(a!==s)}}function Pa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function nl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $u(e){var t=e.alternate;t!==null&&(e.alternate=null,$u(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[Hr],delete t[Ui],delete t[Nf],delete t[wf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bu(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=na));else if(s!==4&&(e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}function sl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(sl(e,t,n),e=e.sibling;e!==null;)sl(e,t,n),e=e.sibling}var Re=null,gt=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Uu(e,t,n),n=n.sibling}function Uu(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ja,n)}catch{}switch(n.tag){case 5:$e||Vn(n,t);case 6:var s=Re,a=gt;Re=null,Ht(e,t,n),Re=s,gt=a,Re!==null&&(gt?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(gt?(e=Re,n=n.stateNode,e.nodeType===8?ei(e.parentNode,n):e.nodeType===1&&ei(e,n),Ur(e)):ei(Re,n.stateNode));break;case 4:s=Re,a=gt,Re=n.stateNode.containerInfo,gt=!0,Ht(e,t,n),Re=s,gt=a;break;case 0:case 11:case 14:case 15:if(!$e&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&tl(n,t,l),a=a.next}while(a!==s)}Ht(e,t,n);break;case 1:if(!$e&&(Vn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Ne(n,t,o)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?($e=(s=$e)||n.memoizedState!==null,Ht(e,t,n),$e=s):Ht(e,t,n);break;default:Ht(e,t,n)}}function gc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $f),t.forEach(function(s){var a=qf.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Re=o.stateNode,gt=!1;break e;case 3:Re=o.stateNode.containerInfo,gt=!0;break e;case 4:Re=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Re===null)throw Error(z(160));Uu(i,l,a),Re=null,gt=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(u){Ne(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wu(t,e),t=t.sibling}function Wu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),wt(e),s&4){try{Rr(3,e,e.return),Pa(3,e)}catch(k){Ne(e,e.return,k)}try{Rr(5,e,e.return)}catch(k){Ne(e,e.return,k)}}break;case 1:ft(t,e),wt(e),s&512&&n!==null&&Vn(n,n.return);break;case 5:if(ft(t,e),wt(e),s&512&&n!==null&&Vn(n,n.return),e.flags&32){var a=e.stateNode;try{Or(a,"")}catch(k){Ne(e,e.return,k)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ud(a,i),Ei(o,l);var u=Ei(o,i);for(l=0;l<d.length;l+=2){var m=d[l],c=d[l+1];m==="style"?gd(a,c):m==="dangerouslySetInnerHTML"?fd(a,c):m==="children"?Or(a,c):yl(a,m,c,u)}switch(o){case"input":Ni(a,i);break;case"textarea":pd(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Kn(a,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kn(a,!!i.multiple,i.defaultValue,!0):Kn(a,!!i.multiple,i.multiple?[]:"",!1))}a[Hr]=i}catch(k){Ne(e,e.return,k)}}break;case 6:if(ft(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(z(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(k){Ne(e,e.return,k)}}break;case 3:if(ft(t,e),wt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ur(t.containerInfo)}catch(k){Ne(e,e.return,k)}break;case 4:ft(t,e),wt(e);break;case 13:ft(t,e),wt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Xl=we())),s&4&&gc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?($e=(u=$e)||m,ft(t,e),$e=u):ft(t,e),wt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(q=e,m=e.child;m!==null;){for(c=q=m;q!==null;){switch(f=q,y=f.child,f.tag){case 0:case 11:case 14:case 15:Rr(4,f,f.return);break;case 1:Vn(f,f.return);var j=f.stateNode;if(typeof j.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(k){Ne(s,n,k)}}break;case 5:Vn(f,f.return);break;case 22:if(f.memoizedState!==null){vc(c);continue}}y!==null?(y.return=f,q=y):vc(c)}m=m.sibling}e:for(m=null,c=e;;){if(c.tag===5){if(m===null){m=c;try{a=c.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=c.stateNode,d=c.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=hd("display",l))}catch(k){Ne(e,e.return,k)}}}else if(c.tag===6){if(m===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(k){Ne(e,e.return,k)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:ft(t,e),wt(e),s&4&&gc(e);break;case 21:break;default:ft(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bu(n)){var s=n;break e}n=n.return}throw Error(z(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Or(a,""),s.flags&=-33);var i=hc(e);sl(e,i,a);break;case 3:case 4:var l=s.stateNode.containerInfo,o=hc(e);rl(e,o,l);break;default:throw Error(z(161))}}catch(d){Ne(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uf(e,t,n){q=e,Vu(e)}function Vu(e,t,n){for(var s=(e.mode&1)!==0;q!==null;){var a=q,i=a.child;if(a.tag===22&&s){var l=a.memoizedState!==null||ws;if(!l){var o=a.alternate,d=o!==null&&o.memoizedState!==null||$e;o=ws;var u=$e;if(ws=l,($e=d)&&!u)for(q=a;q!==null;)l=q,d=l.child,l.tag===22&&l.memoizedState!==null?yc(a):d!==null?(d.return=l,q=d):yc(a);for(;i!==null;)q=i,Vu(i),i=i.sibling;q=a,ws=o,$e=u}xc(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,q=i):xc(e)}}function xc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Pa(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!$e)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ht(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&tc(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var c=m.dehydrated;c!==null&&Ur(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}$e||t.flags&512&&nl(t)}catch(f){Ne(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function vc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function yc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pa(4,t)}catch(d){Ne(t,n,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){Ne(t,a,d)}}var i=t.return;try{nl(t)}catch(d){Ne(t,i,d)}break;case 5:var l=t.return;try{nl(t)}catch(d){Ne(t,l,d)}}}catch(d){Ne(t,t.return,d)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var Wf=Math.ceil,ma=Ut.ReactCurrentDispatcher,ql=Ut.ReactCurrentOwner,dt=Ut.ReactCurrentBatchConfig,ce=0,Le=null,Te=null,Ie=0,Ze=0,Gn=pn(0),Ae=0,Zr=null,Tn=0,Aa=0,Jl=0,Ir=null,He=null,Xl=0,sr=1/0,Mt=null,fa=!1,al=null,an=null,Ss=!1,Zt=null,ha=0,Dr=0,il=null,Us=-1,Ws=0;function We(){return ce&6?we():Us!==-1?Us:Us=we()}function ln(e){return e.mode&1?ce&2&&Ie!==0?Ie&-Ie:Tf.transition!==null?(Ws===0&&(Ws=Ed()),Ws):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Dd(e.type)),e):1}function yt(e,t,n,s){if(50<Dr)throw Dr=0,il=null,Error(z(185));ns(e,n,s),(!(ce&2)||e!==Le)&&(e===Le&&(!(ce&2)&&(Aa|=n),Ae===4&&Jt(e,Ie)),Je(e,s),n===1&&ce===0&&!(t.mode&1)&&(sr=we()+500,Ta&&mn()))}function Je(e,t){var n=e.callbackNode;Sm(e,t);var s=Xs(e,e===Le?Ie:0);if(s===0)n!==null&&Eo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Eo(n),t===1)e.tag===0?Sf(kc.bind(null,e)):eu(kc.bind(null,e)),jf(function(){!(ce&6)&&mn()}),n=null;else{switch(Pd(s)){case 1:n=wl;break;case 4:n=Td;break;case 16:n=Js;break;case 536870912:n=Cd;break;default:n=Js}n=Xu(n,Gu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Gu(e,t){if(Us=-1,Ws=0,ce&6)throw Error(z(327));var n=e.callbackNode;if(Jn()&&e.callbackNode!==n)return null;var s=Xs(e,e===Le?Ie:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ga(e,s);else{t=s;var a=ce;ce|=2;var i=Hu();(Le!==e||Ie!==t)&&(Mt=null,sr=we()+500,jn(e,t));do try{Kf();break}catch(o){Ku(e,o)}while(!0);_l(),ma.current=i,ce=a,Te!==null?t=0:(Le=null,Ie=0,t=Ae)}if(t!==0){if(t===2&&(a=Ri(e),a!==0&&(s=a,t=ll(e,a))),t===1)throw n=Zr,jn(e,0),Jt(e,s),Je(e,we()),n;if(t===6)Jt(e,s);else{if(a=e.current.alternate,!(s&30)&&!Vf(a)&&(t=ga(e,s),t===2&&(i=Ri(e),i!==0&&(s=i,t=ll(e,i))),t===1))throw n=Zr,jn(e,0),Jt(e,s),Je(e,we()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:gn(e,He,Mt);break;case 3:if(Jt(e,s),(s&130023424)===s&&(t=Xl+500-we(),10<t)){if(Xs(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){We(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bi(gn.bind(null,e,He,Mt),t);break}gn(e,He,Mt);break;case 4:if(Jt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-vt(s);i=1<<l,l=t[l],l>a&&(a=l),s&=~i}if(s=a,s=we()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Wf(s/1960))-s,10<s){e.timeoutHandle=Bi(gn.bind(null,e,He,Mt),s);break}gn(e,He,Mt);break;case 5:gn(e,He,Mt);break;default:throw Error(z(329))}}}return Je(e,we()),e.callbackNode===n?Gu.bind(null,e):null}function ll(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=ga(e,t),e!==2&&(t=He,He=n,t!==null&&ol(t)),e}function ol(e){He===null?He=e:He.push.apply(He,e)}function Vf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!kt(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~Jl,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vt(t),s=1<<n;e[n]=-1,t&=~s}}function kc(e){if(ce&6)throw Error(z(327));Jn();var t=Xs(e,0);if(!(t&1))return Je(e,we()),null;var n=ga(e,t);if(e.tag!==0&&n===2){var s=Ri(e);s!==0&&(t=s,n=ll(e,s))}if(n===1)throw n=Zr,jn(e,0),Jt(e,t),Je(e,we()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,He,Mt),Je(e,we()),null}function Zl(e,t){var n=ce;ce|=1;try{return e(t)}finally{ce=n,ce===0&&(sr=we()+500,Ta&&mn())}}function Cn(e){Zt!==null&&Zt.tag===0&&!(ce&6)&&Jn();var t=ce;ce|=1;var n=dt.transition,s=ue;try{if(dt.transition=null,ue=1,e)return e()}finally{ue=s,dt.transition=n,ce=t,!(ce&6)&&mn()}}function eo(){Ze=Gn.current,xe(Gn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kf(n)),Te!==null)for(n=Te.return;n!==null;){var s=n;switch(Il(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ra();break;case 3:nr(),xe(Ye),xe(Be),Wl();break;case 5:Ul(s);break;case 4:nr();break;case 13:xe(ye);break;case 19:xe(ye);break;case 10:Ol(s.type._context);break;case 22:case 23:eo()}n=n.return}if(Le=e,Te=e=on(e.current,null),Ie=Ze=t,Ae=0,Zr=null,Jl=Aa=Tn=0,He=Ir=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,s.next=l}n.pending=s}vn=null}return e}function Ku(e,t){do{var n=Te;try{if(_l(),zs.current=pa,ua){for(var s=ke.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ua=!1}if(Sn=0,Me=Pe=ke=null,Lr=!1,qr=0,ql.current=null,n===null||n.return===null){Ae=1,Zr=t,Te=null;break}e:{var i=e,l=n.return,o=n,d=t;if(t=Ie,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,m=o,c=m.tag;if(!(m.mode&1)&&(c===0||c===11||c===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=lc(l);if(y!==null){y.flags&=-257,oc(y,l,o,i,t),y.mode&1&&ic(i,u,t),t=y,d=u;var j=t.updateQueue;if(j===null){var k=new Set;k.add(d),t.updateQueue=k}else j.add(d);break e}else{if(!(t&1)){ic(i,u,t),to();break e}d=Error(z(426))}}else if(ve&&o.mode&1){var T=lc(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),oc(T,l,o,i,t),Dl(rr(d,o));break e}}i=d=rr(d,o),Ae!==4&&(Ae=2),Ir===null?Ir=[i]:Ir.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Pu(i,d,t);ec(i,p);break e;case 1:o=d;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(an===null||!an.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Au(i,o,t);ec(i,b);break e}}i=i.return}while(i!==null)}Yu(n)}catch(C){t=C,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Hu(){var e=ma.current;return ma.current=pa,e===null?pa:e}function to(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Le===null||!(Tn&268435455)&&!(Aa&268435455)||Jt(Le,Ie)}function ga(e,t){var n=ce;ce|=2;var s=Hu();(Le!==e||Ie!==t)&&(Mt=null,jn(e,t));do try{Gf();break}catch(a){Ku(e,a)}while(!0);if(_l(),ce=n,ma.current=s,Te!==null)throw Error(z(261));return Le=null,Ie=0,Ae}function Gf(){for(;Te!==null;)Qu(Te)}function Kf(){for(;Te!==null&&!gm();)Qu(Te)}function Qu(e){var t=Ju(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Yu(e):Te=t,ql.current=null}function Yu(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zf(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Te=null;return}}else if(n=Of(n,t,Ze),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ae===0&&(Ae=5)}function gn(e,t,n){var s=ue,a=dt.transition;try{dt.transition=null,ue=1,Hf(e,t,n,s)}finally{dt.transition=a,ue=s}return null}function Hf(e,t,n,s){do Jn();while(Zt!==null);if(ce&6)throw Error(z(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Tm(e,i),e===Le&&(Te=Le=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,Xu(Js,function(){return Jn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var l=ue;ue=1;var o=ce;ce|=4,ql.current=null,Bf(e,n),Wu(n,e),mf(zi),Zs=!!Oi,zi=Oi=null,e.current=n,Uf(n),xm(),ce=o,ue=l,dt.transition=i}else e.current=n;if(Ss&&(Ss=!1,Zt=e,ha=a),i=e.pendingLanes,i===0&&(an=null),km(n.stateNode),Je(e,we()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(fa)throw fa=!1,e=al,al=null,e;return ha&1&&e.tag!==0&&Jn(),i=e.pendingLanes,i&1?e===il?Dr++:(Dr=0,il=e):Dr=0,mn(),null}function Jn(){if(Zt!==null){var e=Pd(ha),t=dt.transition,n=ue;try{if(dt.transition=null,ue=16>e?16:e,Zt===null)var s=!1;else{if(e=Zt,Zt=null,ha=0,ce&6)throw Error(z(331));var a=ce;for(ce|=4,q=e.current;q!==null;){var i=q,l=i.child;if(q.flags&16){var o=i.deletions;if(o!==null){for(var d=0;d<o.length;d++){var u=o[d];for(q=u;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:Rr(8,m,i)}var c=m.child;if(c!==null)c.return=m,q=c;else for(;q!==null;){m=q;var f=m.sibling,y=m.return;if($u(m),m===u){q=null;break}if(f!==null){f.return=y,q=f;break}q=y}}}var j=i.alternate;if(j!==null){var k=j.child;if(k!==null){j.child=null;do{var T=k.sibling;k.sibling=null,k=T}while(k!==null)}}q=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,q=l;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rr(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,q=p;break e}q=i.return}}var h=e.current;for(q=h;q!==null;){l=q;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,q=g;else e:for(l=h;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pa(9,o)}}catch(C){Ne(o,o.return,C)}if(o===l){q=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,q=b;break e}q=o.return}}if(ce=a,mn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ja,e)}catch{}s=!0}return s}finally{ue=n,dt.transition=t}}return!1}function jc(e,t,n){t=rr(n,t),t=Pu(e,t,1),e=sn(e,t,1),t=We(),e!==null&&(ns(e,1,t),Je(e,t))}function Ne(e,t,n){if(e.tag===3)jc(e,e,n);else for(;t!==null;){if(t.tag===3){jc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(an===null||!an.has(s))){e=rr(n,e),e=Au(t,e,1),t=sn(t,e,1),e=We(),t!==null&&(ns(t,1,e),Je(t,e));break}}t=t.return}}function Qf(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(Ie&n)===n&&(Ae===4||Ae===3&&(Ie&130023424)===Ie&&500>we()-Xl?jn(e,0):Jl|=n),Je(e,t)}function qu(e,t){t===0&&(e.mode&1?(t=hs,hs<<=1,!(hs&130023424)&&(hs=4194304)):t=1);var n=We();e=zt(e,t),e!==null&&(ns(e,t,n),Je(e,n))}function Yf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qu(e,n)}function qf(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),qu(e,n)}var Ju;Ju=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,_f(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ve&&t.flags&1048576&&tu(t,ia,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Bs(e,t),e=t.pendingProps;var a=Zn(t,Be.current);qn(t,n),a=Gl(null,t,s,e,a,n);var i=Kl();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(s)?(i=!0,sa(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$l(t),a.updater=Ea,t.stateNode=a,a._reactInternals=t,Qi(t,s,e,n),t=Ji(null,t,s,!0,i,n)):(t.tag=0,ve&&i&&Rl(t),Ue(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Xf(s),e=ht(s,e),a){case 0:t=qi(null,t,s,e,n);break e;case 1:t=uc(null,t,s,e,n);break e;case 11:t=cc(null,t,s,e,n);break e;case 14:t=dc(null,t,s,ht(s.type,e),n);break e}throw Error(z(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ht(s,a),qi(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ht(s,a),uc(e,t,s,a,n);case 3:e:{if(Iu(t),e===null)throw Error(z(387));s=t.pendingProps,i=t.memoizedState,a=i.element,lu(e,t),ca(t,s,null,n);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=rr(Error(z(423)),t),t=pc(e,t,s,n,a);break e}else if(s!==a){a=rr(Error(z(424)),t),t=pc(e,t,s,n,a);break e}else for(et=rn(t.stateNode.containerInfo.firstChild),tt=t,ve=!0,xt=null,n=au(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),s===a){t=$t(e,t,n);break e}Ue(e,t,s,n)}t=t.child}return t;case 5:return ou(t),e===null&&Gi(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,$i(s,a)?l=null:i!==null&&$i(s,i)&&(t.flags|=32),Ru(e,t),Ue(e,t,l,n),t.child;case 6:return e===null&&Gi(t),null;case 13:return Du(e,t,n);case 4:return Bl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=tr(t,null,s,n):Ue(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ht(s,a),cc(e,t,s,a,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,he(la,s._currentValue),s._currentValue=l,i!==null)if(kt(i.value,l)){if(i.children===a.children&&!Ye.current){t=$t(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(i.tag===1){d=Dt(-1,n&-n),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Ki(i.return,n,t),o.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(z(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Ki(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ue(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,qn(t,n),a=ut(a),s=s(a),t.flags|=1,Ue(e,t,s,n),t.child;case 14:return s=t.type,a=ht(s,t.pendingProps),a=ht(s.type,a),dc(e,t,s,a,n);case 15:return Mu(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:ht(s,a),Bs(e,t),t.tag=1,qe(s)?(e=!0,sa(t)):e=!1,qn(t,n),Eu(t,s,a),Qi(t,s,a,n),Ji(null,t,s,!0,e,n);case 19:return Fu(e,t,n);case 22:return Lu(e,t,n)}throw Error(z(156,t.tag))};function Xu(e,t){return Sd(e,t)}function Jf(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,s){return new Jf(e,t,n,s)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xf(e){if(typeof e=="function")return no(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jl)return 11;if(e===bl)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vs(e,t,n,s,a,i){var l=2;if(s=e,typeof e=="function")no(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dn:return bn(n.children,a,i,t);case kl:l=8,a|=8;break;case vi:return e=ot(12,n,t,a|2),e.elementType=vi,e.lanes=i,e;case yi:return e=ot(13,n,t,a),e.elementType=yi,e.lanes=i,e;case ki:return e=ot(19,n,t,a),e.elementType=ki,e.lanes=i,e;case od:return Ma(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case id:l=10;break e;case ld:l=9;break e;case jl:l=11;break e;case bl:l=14;break e;case Qt:l=16,s=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=ot(l,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function bn(e,t,n,s){return e=ot(7,e,s,t),e.lanes=n,e}function Ma(e,t,n,s){return e=ot(22,e,s,t),e.elementType=od,e.lanes=n,e.stateNode={isHidden:!1},e}function oi(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function ci(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zf(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ro(e,t,n,s,a,i,l,o,d){return e=new Zf(e,t,n,o,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ot(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(i),e}function eh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Zu(e){if(!e)return dn;e=e._reactInternals;e:{if(An(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(qe(n))return Zd(e,n,t)}return t}function ep(e,t,n,s,a,i,l,o,d){return e=ro(n,s,!0,e,a,i,l,o,d),e.context=Zu(null),n=e.current,s=We(),a=ln(n),i=Dt(s,a),i.callback=t??null,sn(n,i,a),e.current.lanes=a,ns(e,a,s),Je(e,s),e}function La(e,t,n,s){var a=t.current,i=We(),l=ln(a);return n=Zu(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=sn(a,t,l),e!==null&&(yt(e,a,l,i),Os(e,a,l)),l}function xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function so(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function th(){return null}var tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function ao(e){this._internalRoot=e}Ra.prototype.render=ao.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));La(e,t,null,null)};Ra.prototype.unmount=ao.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){La(null,e,null,null)}),t[Ot]=null}};function Ra(e){this._internalRoot=e}Ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ld();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Id(e)}};function io(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function nh(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var u=xa(l);i.call(u)}}var l=ep(t,s,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=l,e[Ot]=l.current,Gr(e.nodeType===8?e.parentNode:e),Cn(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var u=xa(d);o.call(u)}}var d=ro(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=d,e[Ot]=d.current,Gr(e.nodeType===8?e.parentNode:e),Cn(function(){La(t,d,n,s)}),d}function Da(e,t,n,s,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var d=xa(l);o.call(d)}}La(t,l,e,a)}else l=nh(n,t,e,a,s);return xa(l)}Ad=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(Sl(t,n|1),Je(t,we()),!(ce&6)&&(sr=we()+500,mn()))}break;case 13:Cn(function(){var s=zt(e,1);if(s!==null){var a=We();yt(s,e,1,a)}}),so(e,1)}};Tl=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=We();yt(t,e,134217728,n)}so(e,134217728)}};Md=function(e){if(e.tag===13){var t=ln(e),n=zt(e,t);if(n!==null){var s=We();yt(n,e,t,s)}so(e,t)}};Ld=function(){return ue};Rd=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};Ai=function(e,t,n){switch(t){case"input":if(Ni(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Sa(s);if(!a)throw Error(z(90));dd(s),Ni(s,a)}}}break;case"textarea":pd(e,n);break;case"select":t=n.value,t!=null&&Kn(e,!!n.multiple,t,!1)}};yd=Zl;kd=Cn;var rh={usingClientEntryPoint:!1,Events:[ss,zn,Sa,xd,vd,Zl]},kr={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sh={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nd(e),e===null?null:e.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||th,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{ja=Ts.inject(sh),Ct=Ts}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rh;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!io(t))throw Error(z(200));return eh(e,t,null,n)};rt.createRoot=function(e,t){if(!io(e))throw Error(z(299));var n=!1,s="",a=tp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ro(e,1,!1,null,null,n,!1,s,a),e[Ot]=t.current,Gr(e.nodeType===8?e.parentNode:e),new ao(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Nd(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Cn(e)};rt.hydrate=function(e,t,n){if(!Ia(t))throw Error(z(200));return Da(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!io(e))throw Error(z(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",l=tp;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=ep(t,null,e,1,n??null,a,!1,i,l),e[Ot]=t.current,Gr(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ra(t)};rt.render=function(e,t,n){if(!Ia(t))throw Error(z(200));return Da(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Ia(e))throw Error(z(40));return e._reactRootContainer?(Cn(function(){Da(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};rt.unstable_batchedUpdates=Zl;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Ia(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Da(e,t,n,!1,s)};rt.version="18.3.1-next-f1338f8080-20240426";function np(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(np)}catch(e){console.error(e)}}np(),nd.exports=rt;var ah=nd.exports,rp,wc=ah;rp=wc.createRoot,wc.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sc="popstate";function ih(e={}){function t(s,a){let{pathname:i,search:l,hash:o}=s.location;return cl("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:es(a)}return oh(t,n,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lh(){return Math.random().toString(36).substring(2,10)}function Tc(e,t){return{usr:e.state,key:e.key,idx:t}}function cl(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?or(t):t,state:n,key:t&&t.key||s||lh()}}function es({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function or(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function oh(e,t,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,l=a.history,o="POP",d=null,u=m();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function m(){return(l.state||{idx:null}).idx}function c(){o="POP";let T=m(),p=T==null?null:T-u;u=T,d&&d({action:o,location:k.location,delta:p})}function f(T,p){o="PUSH";let h=cl(k.location,T,p);u=m()+1;let g=Tc(h,u),b=k.createHref(h);try{l.pushState(g,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(b)}i&&d&&d({action:o,location:k.location,delta:1})}function y(T,p){o="REPLACE";let h=cl(k.location,T,p);u=m();let g=Tc(h,u),b=k.createHref(h);l.replaceState(g,"",b),i&&d&&d({action:o,location:k.location,delta:0})}function j(T){return ch(T)}let k={get action(){return o},get location(){return e(a,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Sc,c),d=T,()=>{a.removeEventListener(Sc,c),d=null}},createHref(T){return t(a,T)},createURL:j,encodeLocation(T){let p=j(T);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(T){return l.go(T)}};return k}function ch(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:es(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function sp(e,t,n="/"){return dh(e,t,n,!1)}function dh(e,t,n,s){let a=typeof t=="string"?or(t):t,i=Bt(a.pathname||"/",n);if(i==null)return null;let l=ap(e);uh(l);let o=null;for(let d=0;o==null&&d<l.length;++d){let u=bh(i);o=kh(l[d],u,s)}return o}function ap(e,t=[],n=[],s="",a=!1){let i=(l,o,d=a,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&d)return;je(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let c=Ft([s,m.relativePath]),f=n.concat(m);l.children&&l.children.length>0&&(je(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),ap(l.children,t,f,c,d)),!(l.path==null&&!l.index)&&t.push({path:c,score:vh(c,l.index),routesMeta:f})};return e.forEach((l,o)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,o);else for(let u of ip(l.path))i(l,o,!0,u)}),t}function ip(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let l=ip(s.join("/")),o=[];return o.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&o.push(...l),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function uh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:yh(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var ph=/^:[\w-]+$/,mh=3,fh=2,hh=1,gh=10,xh=-2,Cc=e=>e==="*";function vh(e,t){let n=e.split("/"),s=n.length;return n.some(Cc)&&(s+=xh),t&&(s+=fh),n.filter(a=>!Cc(a)).reduce((a,i)=>a+(ph.test(i)?mh:i===""?hh:gh),s)}function yh(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function kh(e,t,n=!1){let{routesMeta:s}=e,a={},i="/",l=[];for(let o=0;o<s.length;++o){let d=s[o],u=o===s.length-1,m=i==="/"?t:t.slice(i.length)||"/",c=va({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},m),f=d.route;if(!c&&u&&n&&!s[s.length-1].route.index&&(c=va({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!c)return null;Object.assign(a,c.params),l.push({params:a,pathname:Ft([i,c.pathname]),pathnameBase:Ch(Ft([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=Ft([i,c.pathnameBase]))}return l}function va(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=jh(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((u,{paramName:m,isOptional:c},f)=>{if(m==="*"){let j=o[f]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const y=o[f];return c&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function jh(e,t=!1,n=!0){mt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,d)=>(s.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function bh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Bt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var Nh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wh=e=>Nh.test(e);function Sh(e,t="/"){let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?or(e):e,i;if(n)if(wh(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),mt(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?i=Ec(n.substring(1),"/"):i=Ec(n,t)}else i=t;return{pathname:i,search:Eh(s),hash:Ph(a)}}function Ec(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function di(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Th(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lp(e){let t=Th(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function op(e,t,n,s=!1){let a;typeof e=="string"?a=or(e):(a={...e},je(!a.pathname||!a.pathname.includes("?"),di("?","pathname","search",a)),je(!a.pathname||!a.pathname.includes("#"),di("#","pathname","hash",a)),je(!a.search||!a.search.includes("#"),di("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let c=t.length-1;if(!s&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),c-=1;a.pathname=f.join("/")}o=c>=0?t[c]:"/"}let d=Sh(a,o),u=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(u||m)&&(d.pathname+="/"),d}var Ft=e=>e.join("/").replace(/\/\/+/g,"/"),Ch=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Eh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ph=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ah(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Mh(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cp=["POST","PUT","PATCH","DELETE"];new Set(cp);var Lh=["GET",...cp];new Set(Lh);var cr=v.createContext(null);cr.displayName="DataRouter";var Fa=v.createContext(null);Fa.displayName="DataRouterState";v.createContext(!1);var dp=v.createContext({isTransitioning:!1});dp.displayName="ViewTransition";var Rh=v.createContext(new Map);Rh.displayName="Fetchers";var Ih=v.createContext(null);Ih.displayName="Await";var bt=v.createContext(null);bt.displayName="Navigation";var is=v.createContext(null);is.displayName="Location";var Wt=v.createContext({outlet:null,matches:[],isDataRoute:!1});Wt.displayName="Route";var lo=v.createContext(null);lo.displayName="RouteError";function Dh(e,{relative:t}={}){je(ls(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=v.useContext(bt),{hash:a,pathname:i,search:l}=os(e,{relative:t}),o=i;return n!=="/"&&(o=i==="/"?n:Ft([n,i])),s.createHref({pathname:o,search:l,hash:a})}function ls(){return v.useContext(is)!=null}function Vt(){return je(ls(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(is).location}var up="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pp(e){v.useContext(bt).static||v.useLayoutEffect(e)}function mp(){let{isDataRoute:e}=v.useContext(Wt);return e?Qh():Fh()}function Fh(){je(ls(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(cr),{basename:t,navigator:n}=v.useContext(bt),{matches:s}=v.useContext(Wt),{pathname:a}=Vt(),i=JSON.stringify(lp(s)),l=v.useRef(!1);return pp(()=>{l.current=!0}),v.useCallback((d,u={})=>{if(mt(l.current,up),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=op(d,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ft([t,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[t,n,i,a,e])}v.createContext(null);function os(e,{relative:t}={}){let{matches:n}=v.useContext(Wt),{pathname:s}=Vt(),a=JSON.stringify(lp(n));return v.useMemo(()=>op(e,JSON.parse(a),s,t==="path"),[e,a,s,t])}function _h(e,t){return fp(e,t)}function fp(e,t,n,s,a){var h;je(ls(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(bt),{matches:l}=v.useContext(Wt),o=l[l.length-1],d=o?o.params:{},u=o?o.pathname:"/",m=o?o.pathnameBase:"/",c=o&&o.route;{let g=c&&c.path||"";hp(u,!c||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=Vt(),y;if(t){let g=typeof t=="string"?or(t):t;je(m==="/"||((h=g.pathname)==null?void 0:h.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${g.pathname}" was given in the \`location\` prop.`),y=g}else y=f;let j=y.pathname||"/",k=j;if(m!=="/"){let g=m.replace(/^\//,"").split("/");k="/"+j.replace(/^\//,"").split("/").slice(g.length).join("/")}let T=sp(e,{pathname:k});mt(c||T!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),mt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=Uh(T&&T.map(g=>Object.assign({},g,{params:Object.assign({},d,g.params),pathname:Ft([m,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?m:Ft([m,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),l,n,s,a);return t&&p?v.createElement(is.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},p):p}function Oh(){let e=Hh(),t=Ah(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:a},n):null,l)}var zh=v.createElement(Oh,null),$h=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(Wt.Provider,{value:this.props.routeContext},v.createElement(lo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bh({routeContext:e,match:t,children:n}){let s=v.useContext(cr);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Wt.Provider,{value:e},n)}function Uh(e,t=[],n=null,s=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let m=i.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id])!==void 0);je(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let c=i[m];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(d=m),c.route.id){let{loaderData:f,errors:y}=n,j=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!y||y[c.route.id]===void 0);if(c.route.lazy||j){o=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let u=n&&s?(m,c)=>{var f,y;s(m,{location:n.location,params:((y=(f=n.matches)==null?void 0:f[0])==null?void 0:y.params)??{},unstable_pattern:Mh(n.matches),errorInfo:c})}:void 0;return i.reduceRight((m,c,f)=>{let y,j=!1,k=null,T=null;n&&(y=l&&c.route.id?l[c.route.id]:void 0,k=c.route.errorElement||zh,o&&(d<0&&f===0?(hp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,T=null):d===f&&(j=!0,T=c.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,f+1)),h=()=>{let g;return y?g=k:j?g=T:c.route.Component?g=v.createElement(c.route.Component,null):c.route.element?g=c.route.element:g=m,v.createElement(Bh,{match:c,routeContext:{outlet:m,matches:p,isDataRoute:n!=null},children:g})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?v.createElement($h,{location:n.location,revalidation:n.revalidation,component:k,error:y,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):h()},null)}function oo(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wh(e){let t=v.useContext(cr);return je(t,oo(e)),t}function Vh(e){let t=v.useContext(Fa);return je(t,oo(e)),t}function Gh(e){let t=v.useContext(Wt);return je(t,oo(e)),t}function co(e){let t=Gh(e),n=t.matches[t.matches.length-1];return je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Kh(){return co("useRouteId")}function Hh(){var s;let e=v.useContext(lo),t=Vh("useRouteError"),n=co("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function Qh(){let{router:e}=Wh("useNavigate"),t=co("useNavigate"),n=v.useRef(!1);return pp(()=>{n.current=!0}),v.useCallback(async(a,i={})=>{mt(n.current,up),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Pc={};function hp(e,t,n){!t&&!Pc[e]&&(Pc[e]=!0,mt(!1,n))}v.memo(Yh);function Yh({routes:e,future:t,state:n,unstable_onError:s}){return fp(e,void 0,n,s,t)}function at(e){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qh({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:a,static:i=!1,unstable_useTransitions:l}){je(!ls(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:l,future:{}}),[o,a,i,l]);typeof n=="string"&&(n=or(n));let{pathname:u="/",search:m="",hash:c="",state:f=null,key:y="default"}=n,j=v.useMemo(()=>{let k=Bt(u,o);return k==null?null:{location:{pathname:k,search:m,hash:c,state:f,key:y},navigationType:s}},[o,u,m,c,f,y,s]);return mt(j!=null,`<Router basename="${o}"> is not able to match the URL "${u}${m}${c}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:v.createElement(bt.Provider,{value:d},v.createElement(is.Provider,{children:t,value:j}))}function Jh({children:e,location:t}){return _h(dl(e),t)}function dl(e,t=[]){let n=[];return v.Children.forEach(e,(s,a)=>{if(!v.isValidElement(s))return;let i=[...t,a];if(s.type===v.Fragment){n.push.apply(n,dl(s.props.children,i));return}je(s.type===at,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=dl(s.props.children,i)),n.push(l)}),n}var Gs="get",Ks="application/x-www-form-urlencoded";function _a(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Xh(e){return _a(e)&&e.tagName.toLowerCase()==="button"}function Zh(e){return _a(e)&&e.tagName.toLowerCase()==="form"}function eg(e){return _a(e)&&e.tagName.toLowerCase()==="input"}function tg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ng(e,t){return e.button===0&&(!t||t==="_self")&&!tg(e)}function ul(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function rg(e,t){let n=ul(e);return t&&t.forEach((s,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}var Cs=null;function sg(){if(Cs===null)try{new FormData(document.createElement("form"),0),Cs=!1}catch{Cs=!0}return Cs}var ag=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ui(e){return e!=null&&!ag.has(e)?(mt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ks}"`),null):e}function ig(e,t){let n,s,a,i,l;if(Zh(e)){let o=e.getAttribute("action");s=o?Bt(o,t):null,n=e.getAttribute("method")||Gs,a=ui(e.getAttribute("enctype"))||Ks,i=new FormData(e)}else if(Xh(e)||eg(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||o.getAttribute("action");if(s=d?Bt(d,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Gs,a=ui(e.getAttribute("formenctype"))||ui(o.getAttribute("enctype"))||Ks,i=new FormData(o,e),!sg()){let{name:u,type:m,value:c}=e;if(m==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,c)}}else{if(_a(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gs,s=null,a=Ks,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function uo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lg(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Bt(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function og(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cg(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dg(e,t,n){let s=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await og(i,n);return l.links?l.links():[]}return[]}));return fg(s.flat(1).filter(cg).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ac(e,t,n,s,a,i){let l=(d,u)=>n[u]?d.route.id!==n[u].route.id:!0,o=(d,u)=>{var m;return n[u].pathname!==d.pathname||((m=n[u].route.path)==null?void 0:m.endsWith("*"))&&n[u].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,u)=>l(d,u)||o(d,u)):i==="data"?t.filter((d,u)=>{var c;let m=s.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,u)||o(d,u))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((c=n[0])==null?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function ug(e,t,{includeHydrateFallback:n}={}){return pg(e.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function pg(e){return[...new Set(e)]}function mg(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function fg(e,t){let n=new Set;return new Set(t),e.reduce((s,a)=>{let i=JSON.stringify(mg(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function gp(){let e=v.useContext(cr);return uo(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hg(){let e=v.useContext(Fa);return uo(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var po=v.createContext(void 0);po.displayName="FrameworkContext";function xp(){let e=v.useContext(po);return uo(e,"You must render this element inside a <HydratedRouter> element"),e}function gg(e,t){let n=v.useContext(po),[s,a]=v.useState(!1),[i,l]=v.useState(!1),{onFocus:o,onBlur:d,onMouseEnter:u,onMouseLeave:m,onTouchStart:c}=t,f=v.useRef(null);v.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let k=p=>{p.forEach(h=>{l(h.isIntersecting)})},T=new IntersectionObserver(k,{threshold:.5});return f.current&&T.observe(f.current),()=>{T.disconnect()}}},[e]),v.useEffect(()=>{if(s){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[s]);let y=()=>{a(!0)},j=()=>{a(!1),l(!1)};return n?e!=="intent"?[i,f,{}]:[i,f,{onFocus:jr(o,y),onBlur:jr(d,j),onMouseEnter:jr(u,y),onMouseLeave:jr(m,j),onTouchStart:jr(c,y)}]:[!1,f,{}]}function jr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xg({page:e,...t}){let{router:n}=gp(),s=v.useMemo(()=>sp(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?v.createElement(yg,{page:e,matches:s,...t}):null}function vg(e){let{manifest:t,routeModules:n}=xp(),[s,a]=v.useState([]);return v.useEffect(()=>{let i=!1;return dg(e,t,n).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,n]),s}function yg({page:e,matches:t,...n}){let s=Vt(),{manifest:a,routeModules:i}=xp(),{basename:l}=gp(),{loaderData:o,matches:d}=hg(),u=v.useMemo(()=>Ac(e,t,d,a,s,"data"),[e,t,d,a,s]),m=v.useMemo(()=>Ac(e,t,d,a,s,"assets"),[e,t,d,a,s]),c=v.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let j=new Set,k=!1;if(t.forEach(p=>{var g;let h=a.routes[p.route.id];!h||!h.hasLoader||(!u.some(b=>b.route.id===p.route.id)&&p.route.id in o&&((g=i[p.route.id])!=null&&g.shouldRevalidate)||h.hasClientLoader?k=!0:j.add(p.route.id))}),j.size===0)return[];let T=lg(e,l,"data");return k&&j.size>0&&T.searchParams.set("_routes",t.filter(p=>j.has(p.route.id)).map(p=>p.route.id).join(",")),[T.pathname+T.search]},[l,o,s,a,u,t,e,i]),f=v.useMemo(()=>ug(m,a),[m,a]),y=vg(m);return v.createElement(v.Fragment,null,c.map(j=>v.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),f.map(j=>v.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),y.map(({key:j,link:k})=>v.createElement("link",{key:j,nonce:n.nonce,...k})))}function kg(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var vp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vp&&(window.__reactRouterVersion="7.10.1")}catch{}function jg({basename:e,children:t,unstable_useTransitions:n,window:s}){let a=v.useRef();a.current==null&&(a.current=ih({window:s,v5Compat:!0}));let i=a.current,[l,o]=v.useState({action:i.action,location:i.location}),d=v.useCallback(u=>{n===!1?o(u):v.startTransition(()=>o(u))},[n]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.createElement(qh,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:n===!0})}var yp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kp=v.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:l,state:o,target:d,to:u,preventScrollReset:m,viewTransition:c,...f},y){let{basename:j,unstable_useTransitions:k}=v.useContext(bt),T=typeof u=="string"&&yp.test(u),p,h=!1;if(typeof u=="string"&&T&&(p=u,vp))try{let P=new URL(window.location.href),M=u.startsWith("//")?new URL(P.protocol+u):new URL(u),D=Bt(M.pathname,j);M.origin===P.origin&&D!=null?u=D+M.search+M.hash:h=!0}catch{mt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Dh(u,{relative:a}),[b,C,E]=gg(s,f),x=wg(u,{replace:l,state:o,target:d,preventScrollReset:m,relative:a,viewTransition:c,unstable_useTransitions:k});function w(P){t&&t(P),P.defaultPrevented||x(P)}let S=v.createElement("a",{...f,...E,href:p||g,onClick:h||i?t:w,ref:kg(y,C),target:d,"data-discover":!T&&n==="render"?"true":void 0});return b&&!T?v.createElement(v.Fragment,null,S,v.createElement(xg,{page:g})):S});kp.displayName="Link";var me=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:l,viewTransition:o,children:d,...u},m){let c=os(l,{relative:u.relative}),f=Vt(),y=v.useContext(Fa),{navigator:j,basename:k}=v.useContext(bt),T=y!=null&&Ag(c)&&o===!0,p=j.encodeLocation?j.encodeLocation(c).pathname:c.pathname,h=f.pathname,g=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(h=h.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&k&&(g=Bt(g,k)||g);const b=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let C=h===p||!a&&h.startsWith(p)&&h.charAt(b)==="/",E=g!=null&&(g===p||!a&&g.startsWith(p)&&g.charAt(p.length)==="/"),x={isActive:C,isPending:E,isTransitioning:T},w=C?t:void 0,S;typeof s=="function"?S=s(x):S=[s,C?"active":null,E?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(x):i;return v.createElement(kp,{...u,"aria-current":w,className:S,ref:m,style:P,to:l,viewTransition:o},typeof d=="function"?d(x):d)});me.displayName="NavLink";var bg=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:a,state:i,method:l=Gs,action:o,onSubmit:d,relative:u,preventScrollReset:m,viewTransition:c,...f},y)=>{let{unstable_useTransitions:j}=v.useContext(bt),k=Eg(),T=Pg(o,{relative:u}),p=l.toLowerCase()==="get"?"get":"post",h=typeof o=="string"&&yp.test(o),g=b=>{if(d&&d(b),b.defaultPrevented)return;b.preventDefault();let C=b.nativeEvent.submitter,E=(C==null?void 0:C.getAttribute("formmethod"))||l,x=()=>k(C||b.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:a,state:i,relative:u,preventScrollReset:m,viewTransition:c});j&&n!==!1?v.startTransition(()=>x()):x()};return v.createElement("form",{ref:y,method:p,action:T,onSubmit:s?d:g,...f,"data-discover":!h&&e==="render"?"true":void 0})});bg.displayName="Form";function Ng(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jp(e){let t=v.useContext(cr);return je(t,Ng(e)),t}function wg(e,{target:t,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:l,unstable_useTransitions:o}={}){let d=mp(),u=Vt(),m=os(e,{relative:i});return v.useCallback(c=>{if(ng(c,t)){c.preventDefault();let f=n!==void 0?n:es(u)===es(m),y=()=>d(e,{replace:f,state:s,preventScrollReset:a,relative:i,viewTransition:l});o?v.startTransition(()=>y()):y()}},[u,d,m,n,s,t,e,a,i,l,o])}function Sg(e){mt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(ul(e)),n=v.useRef(!1),s=Vt(),a=v.useMemo(()=>rg(s.search,n.current?null:t.current),[s.search]),i=mp(),l=v.useCallback((o,d)=>{const u=ul(typeof o=="function"?o(new URLSearchParams(a)):o);n.current=!0,i("?"+u,d)},[i,a]);return[a,l]}var Tg=0,Cg=()=>`__${String(++Tg)}__`;function Eg(){let{router:e}=jp("useSubmit"),{basename:t}=v.useContext(bt),n=Kh(),s=e.fetch,a=e.navigate;return v.useCallback(async(i,l={})=>{let{action:o,method:d,encType:u,formData:m,body:c}=ig(i,t);if(l.navigate===!1){let f=l.fetcherKey||Cg();await s(f,n,l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:c,formMethod:l.method||d,formEncType:l.encType||u,flushSync:l.flushSync})}else await a(l.action||o,{preventScrollReset:l.preventScrollReset,formData:m,body:c,formMethod:l.method||d,formEncType:l.encType||u,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,a,t,n])}function Pg(e,{relative:t}={}){let{basename:n}=v.useContext(bt),s=v.useContext(Wt);je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...os(e||".",{relative:t})},l=Vt();if(e==null){i.search=l.search;let o=new URLSearchParams(i.search),d=o.getAll("index");if(d.some(m=>m==="")){o.delete("index"),d.filter(c=>c).forEach(c=>o.append("index",c));let m=o.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ft([n,i.pathname])),es(i)}function Ag(e,{relative:t}={}){let n=v.useContext(dp);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jp("useViewTransitionState"),a=os(e,{relative:t});if(!n.isTransitioning)return!1;let i=Bt(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=Bt(n.nextLocation.pathname,s)||n.nextLocation.pathname;return va(a.pathname,l)!=null||va(a.pathname,i)!=null}const Fr={theme:"light",visibleMeals:["breakfast","lunch","dinner","snack"],dailyCalorieGoal:2e3,dailyProteinGoal:150,dailyCarbsGoal:250,dailyFatGoal:65},Rn=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,ct=(e=new Date)=>{const t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().split("T")[0]},mo=(e=new Date)=>{const t=new Date(e),n=t.getDay(),s=t.getDate()-n+(n===0?-6:1);return t.setDate(s),ct(t)},Mc={g:"gram",ml:"milliliter",pcs:"styck",kg:"kilogram",l:"liter"},Xe={breakfast:"Frukost",lunch:"Lunch",dinner:"Middag",snack:"Mellanml",beverage:"Dryck"},bp={breakfast:"text-amber-400 bg-amber-500/10",lunch:"text-sky-400 bg-sky-500/10",dinner:"text-emerald-400 bg-emerald-500/10",snack:"text-violet-400 bg-violet-500/10",beverage:"text-cyan-400 bg-cyan-500/10"},fo={monday:"Mndag",tuesday:"Tisdag",wednesday:"Onsdag",thursday:"Torsdag",friday:"Fredag",saturday:"Lrdag",sunday:"Sndag"},Pt=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],kn={vegetables:"Grnsaker",fruits:"Frukt",grains:"Spannml",legumes:"Baljvxter",protein:"Protein",fats:"Fett & Oljor",beverages:"Drycker","dairy-alt":"Mejerialternativ","nuts-seeds":"Ntter & Frn",spices:"Kryddor",condiments:"Smaksttare",sauces:"Sser",sweeteners:"Stningsmedel",baking:"Bakvaror",other:"vrigt"};function Mg(e){const t=new Date(e);if(isNaN(t.getTime()))return null;const n=t.getDay(),s=n===0?6:n-1;return Pt[s]}const N=new Date().toISOString(),ya=[{id:"user-admin",name:"Admin Anders",email:"admin@greens.se",role:"admin",plan:"evergreen",settings:Fr,createdAt:N},{id:"user-standard",name:"Sven Svensson",email:"sven@gmail.com",role:"user",plan:"free",settings:Fr,createdAt:N},{id:"user-premium",name:"Linnea Larsson",email:"linnea@evergreen.se",role:"user",plan:"evergreen",settings:{...Fr,dailyCalorieGoal:2200},createdAt:N}],Lg=[{id:"food-linser",name:"Linser",description:"rda linser, grna linser, beluga",calories:340,protein:24,carbs:60,fat:1.5,fiber:8,unit:"kg",category:"legumes",storageType:"pantry",pricePerUnit:30,co2PerUnit:.4,containsGluten:!1,iron:6.5,calcium:35,zinc:3.3,isCompleteProtein:!1,missingAminoAcids:["methionine","cysteine"],complementaryCategories:["grains"],proteinCategory:"legume",seasons:["winter","spring","summer","autumn"],defaultPortionGrams:200,createdAt:N,updatedAt:N},{id:"food-kikartor",name:"Kikrtor",description:"torkade, konserverade",calories:160,protein:9,carbs:27,fat:2.5,fiber:8,unit:"kg",category:"legumes",storageType:"pantry",pricePerUnit:25,co2PerUnit:.6,containsGluten:!1,iron:6.2,calcium:105,zinc:3.4,isCompleteProtein:!1,missingAminoAcids:["methionine","cysteine"],complementaryCategories:["grains"],proteinCategory:"legume",seasons:["winter","spring","summer","autumn"],defaultPortionGrams:200,createdAt:N,updatedAt:N},{id:"food-svartabonor",name:"Svarta bnor",description:"konserverade, torkade",calories:130,protein:9,carbs:23,fat:.5,fiber:8,unit:"kg",category:"legumes",storageType:"pantry",pricePerUnit:20,co2PerUnit:.5,containsGluten:!1,proteinCategory:"legume",seasons:["winter","spring","summer","autumn"],createdAt:N,updatedAt:N},{id:"food-proteinshake",name:"Vegansk Proteinshake",description:"rt/Hampaprotein mix",calories:380,protein:75,carbs:5,fat:4,fiber:6,unit:"kg",category:"protein",storageType:"pantry",pricePerUnit:250,co2PerUnit:.8,containsGluten:!1,iron:12,calcium:80,zinc:5,isCompleteProtein:!0,proteinCategory:"soy_quinoa",seasons:["winter","spring","summer","autumn"],defaultPortionGrams:30,createdAt:N,updatedAt:N},{id:"food-tofu",name:"Tofu",description:"fast tofu, silkestofu",calories:76,protein:8,carbs:2,fat:4.8,fiber:.3,unit:"kg",category:"protein",storageType:"fresh",pricePerUnit:50,co2PerUnit:.8,containsGluten:!1,iron:5.4,calcium:350,zinc:.8,isCompleteProtein:!0,proteinCategory:"soy_quinoa",seasons:["winter","spring","summer","autumn"],vitaminB12:0,defaultPortionGrams:300,createdAt:N,updatedAt:N},{id:"food-tempeh",name:"Tempeh",description:"fermenterade sojabnor",calories:195,protein:20,carbs:8,fat:11,fiber:0,unit:"kg",category:"protein",storageType:"fresh",pricePerUnit:80,co2PerUnit:.9,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-seitan",name:"Seitan",description:"vetegluten",calories:370,protein:75,carbs:14,fat:2,fiber:0,unit:"kg",category:"protein",storageType:"fresh",pricePerUnit:90,co2PerUnit:.7,containsGluten:!0,proteinCategory:"soy_quinoa",seasons:["winter","spring","summer","autumn"],createdAt:N,updatedAt:N},{id:"food-ris",name:"Ris",description:"jasminris, basmatiris, fullkornsris",calories:350,protein:7,carbs:78,fat:.5,fiber:1.8,unit:"kg",category:"grains",storageType:"pantry",pricePerUnit:20,co2PerUnit:2.7,containsGluten:!1,isCooked:!1,defaultPortionGrams:70,gramsPerDl:85,yieldFactor:2.5,iron:1.2,calcium:10,zinc:1.1,isCompleteProtein:!1,missingAminoAcids:["lysine"],complementaryCategories:["legumes"],proteinCategory:"grain",seasons:["winter","spring","summer","autumn"],createdAt:N,updatedAt:N},{id:"food-ris-kokt",name:"Ris (kokt)",description:"kokt jasmin- eller basmatiris",calories:130,protein:2.7,carbs:28,fat:.3,fiber:.4,unit:"kg",category:"grains",storageType:"fresh",pricePerUnit:10,co2PerUnit:1,containsGluten:!1,isCooked:!0,defaultPortionGrams:175,gramsPerDl:60,yieldFactor:1,linkedItemId:"food-ris",createdAt:N,updatedAt:N},{id:"food-pasta",name:"Pasta",description:"spaghetti, penne, fusilli",calories:350,protein:12,carbs:72,fat:1.5,fiber:3,unit:"kg",category:"grains",storageType:"pantry",pricePerUnit:15,co2PerUnit:1.1,containsGluten:!0,isCooked:!1,defaultPortionGrams:75,gramsPerDl:35,yieldFactor:2.2,createdAt:N,updatedAt:N},{id:"food-havregryn",name:"Havregryn",description:"grova, fina, glutenfria",calories:340,protein:10,carbs:70,fat:7,fiber:10,unit:"kg",category:"grains",storageType:"pantry",pricePerUnit:15,co2PerUnit:.6,containsGluten:!0,isCooked:!1,defaultPortionGrams:40,gramsPerDl:40,yieldFactor:1,createdAt:N,updatedAt:N},{id:"food-quinoa",name:"Quinoa",description:"vit, rd, svart",calories:360,protein:12,carbs:70,fat:2,fiber:5,unit:"kg",category:"grains",storageType:"pantry",pricePerUnit:60,co2PerUnit:1,containsGluten:!1,isCooked:!1,defaultPortionGrams:60,gramsPerDl:85,yieldFactor:3,proteinCategory:"soy_quinoa",seasons:["winter","spring","summer","autumn"],createdAt:N,updatedAt:N},{id:"food-brod",name:"Brd",description:"fullkorn, limpa, rgbrd",calories:260,protein:8,carbs:48,fat:3,fiber:6,unit:"pcs",category:"grains",storageType:"fresh",pricePerUnit:30,co2PerUnit:.9,containsGluten:!0,createdAt:N,updatedAt:N},{id:"food-couscous",name:"Couscous",description:"vanlig, fullkorn",calories:376,protein:13,carbs:77,fat:1,fiber:5,unit:"kg",category:"grains",storageType:"pantry",pricePerUnit:25,co2PerUnit:.9,containsGluten:!0,createdAt:N,updatedAt:N},{id:"food-potatis",name:"Potatis",description:"kokt, bakad, mos",calories:77,protein:2,carbs:17,fat:.1,fiber:2.2,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:15,co2PerUnit:.3,containsGluten:!1,proteinCategory:"vegetable",seasons:["autumn","winter"],createdAt:N,updatedAt:N},{id:"food-morotter",name:"Mortter",description:"frska, frysta",calories:41,protein:.9,carbs:10,fat:.2,fiber:2.8,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:15,co2PerUnit:.2,containsGluten:!1,proteinCategory:"vegetable",seasons:["autumn","winter","spring"],createdAt:N,updatedAt:N},{id:"food-lok",name:"Lk",description:"gul lk, rdlk",calories:40,protein:1.1,carbs:9,fat:.1,fiber:1.7,unit:"kg",category:"vegetables",storageType:"pantry",pricePerUnit:10,co2PerUnit:.2,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-vitlok",name:"Vitlk",description:"klyftad, pressad",calories:149,protein:6.4,carbs:33,fat:.5,fiber:2.1,unit:"kg",category:"vegetables",storageType:"pantry",pricePerUnit:80,co2PerUnit:.3,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-spenat",name:"Spenat",description:"frsk, fryst",calories:23,protein:2.9,carbs:3.6,fat:.4,fiber:2.2,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:30,co2PerUnit:.3,iron:2.7,vitaminC:28,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-broccoli",name:"Broccoli",description:"frsk, fryst",calories:34,protein:2.8,carbs:7,fat:.4,fiber:2.6,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:25,co2PerUnit:.4,containsGluten:!1,proteinCategory:"vegetable",seasons:["summer","autumn"],createdAt:N,updatedAt:N},{id:"food-tomater",name:"Tomater",description:"frska, krossade, passerade",calories:18,protein:.9,carbs:3.9,fat:.2,fiber:1.2,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:25,co2PerUnit:1.4,containsGluten:!1,proteinCategory:"vegetable",seasons:["summer","autumn"],createdAt:N,updatedAt:N},{id:"food-paprika",name:"Paprika",description:"rd, gul, grn",calories:31,protein:1,carbs:6,fat:.3,fiber:2.1,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:40,co2PerUnit:.8,containsGluten:!1,vitaminC:127,createdAt:N,updatedAt:N},{id:"food-citron",name:"Citron",description:"frsk citron",calories:29,protein:1.1,carbs:9,fat:.3,fiber:2.8,unit:"pcs",category:"fruits",storageType:"fresh",pricePerUnit:5,vitaminC:53,createdAt:N,updatedAt:N},{id:"food-wokgronsaker",name:"Wokgrnsaker",description:"fryst mix, asiatisk mix",calories:30,protein:2,carbs:5,fat:.3,fiber:2,unit:"kg",category:"vegetables",storageType:"frozen",pricePerUnit:35,co2PerUnit:.5,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-olivolja",name:"Olivolja",description:"extra virgin, mild",calories:884,protein:0,carbs:0,fat:100,fiber:0,unit:"l",category:"fats",storageType:"pantry",pricePerUnit:80,co2PerUnit:3.2,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-kokosmjolk",name:"Kokosmjlk",description:"burk, light",calories:197,protein:2.2,carbs:2.8,fat:21,fiber:0,unit:"l",category:"fats",storageType:"pantry",pricePerUnit:30,co2PerUnit:.6,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-sesamolja",name:"Sesamolja",description:"rostad, anvnd sparsamt",calories:884,protein:0,carbs:0,fat:100,fiber:0,unit:"l",category:"fats",storageType:"pantry",pricePerUnit:120,co2PerUnit:2.5,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-soja",name:"Sojass",description:"ljus, mrk, tamari",calories:53,protein:5,carbs:4,fat:0,fiber:0,unit:"l",category:"other",storageType:"pantry",pricePerUnit:40,co2PerUnit:.8,containsGluten:!0,createdAt:N,updatedAt:N},{id:"food-havremjolk",name:"Havremjlk",description:"iKaffe, original",calories:42,protein:.3,carbs:8,fat:1,fiber:.5,unit:"l",category:"beverages",storageType:"fresh",pricePerUnit:20,co2PerUnit:.4,containsGluten:!0,createdAt:N,updatedAt:N},{id:"food-currypasta",name:"Currypasta",description:"rd, grn, gul",calories:120,protein:2,carbs:8,fat:9,fiber:1,unit:"kg",category:"other",storageType:"pantry",pricePerUnit:100,co2PerUnit:.5,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-banan",name:"Banan",description:"frsk, fryst",calories:89,protein:1.1,carbs:23,fat:.3,fiber:2.6,unit:"kg",category:"fruits",storageType:"fresh",pricePerUnit:20,co2PerUnit:.7,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-bar",name:"Br",description:"blbr, hallon, jordgubbar",calories:50,protein:.7,carbs:12,fat:.3,fiber:2.4,unit:"kg",category:"fruits",storageType:"frozen",pricePerUnit:60,co2PerUnit:.5,containsGluten:!1,createdAt:N,updatedAt:N},{id:"food-morot",name:"Morot",description:"svensk EKO",calories:36,protein:.7,carbs:8.7,fat:.1,fiber:2.4,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:15,vitaminA:835,createdAt:N,updatedAt:N},{id:"food-sotpotatis",name:"Stpotatis",description:"orange ktt",calories:86,protein:1.6,carbs:20,fat:.1,fiber:3,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:25,vitaminA:709,createdAt:N,updatedAt:N},{id:"food-gurkmeja",name:"Gurkmeja",description:"torkad malen",calories:312,protein:9,carbs:67,fat:3,unit:"kg",category:"other",storageType:"pantry",pricePerUnit:150,createdAt:N,updatedAt:N},{id:"food-svartpeppar",name:"Svartpeppar",description:"malen eller hel",calories:251,protein:10,carbs:64,fat:3,unit:"kg",category:"other",storageType:"pantry",pricePerUnit:200,createdAt:N,updatedAt:N},{id:"food-vitlok",name:"Vitlk",description:"frsk klyfta",calories:149,protein:6.4,carbs:33,fat:.5,unit:"kg",category:"vegetables",storageType:"fresh",pricePerUnit:80,createdAt:N,updatedAt:N}],Rg=[{id:"recipe-1",name:"Stekt Ris med Tofu",description:"Snabb och mttande vardagsrtt",servings:4,prepTime:10,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`4 port ris (grna kallt)
400g fast tofu
1 pse wokgrnsaker
2 msk sojass
1 msk sesamolja
2 vitlksklyftor`,instructionsText:`Pressa vtskan ur tofun med hushllspapper. Trna den.
Stek tofun gyllene i olja p hg vrme. Lgg t sidan.
I samma panna: tillstt grnsaker och pressad vitlk. Stek tills tinat/mjukt.
Vnd ner riset och stek allt tillsammans p hg vrme tills riset r varmt och lite krispigt.
Hll ver soja och rr om. Blanda i tofun p slutet.`,totalWeight:1200,priceCategory:"budget",seasons:["winter","spring","summer","autumn"],createdAt:N,updatedAt:N},{id:"recipe-2",name:"Linsgryta med Potatis",description:"Vrmande och nyttig gryta",servings:4,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`300g rda linser
500g potatis
1 burk krossade tomater
1 gul lk
3 vitlksklyftor
2 tsk curry
1 dl kokosmjlk
1 msk olivolja`,instructionsText:`Skala och trna potatisen. Hacka lk och vitlk.
Frs lk i olivolja tills mjuk. Tillstt vitlk och curry, frs 1 min.
Tillstt linser, potatis, tomater och 4 dl vatten.
Koka upp och lt sjuda 25 min tills linser och potatis r mjuka.
Rr i kokosmjlken. Smaka av med salt och peppar.`,totalWeight:1500,priceCategory:"budget",seasons:["winter","autumn"],createdAt:N,updatedAt:N},{id:"recipe-3",name:"Pasta med Kikrtor",description:"Italiensk-inspirerad snabbrtt",servings:4,prepTime:5,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`400g pasta
400g kikrtor (konserv)
1 burk krossade tomater
2 vitlksklyftor
2 msk olivolja
1 tsk torkad oregano`,instructionsText:`Koka pastan enligt frpackningen.
Frs vitlk i olivolja. Tillstt tomater och oregano.
Lt sjuda 10 min. Rr ner kikrtorna.
Blanda pastan med ssen. Servera med frsk basilika.`,totalWeight:1100,priceCategory:"budget",seasons:["summer","autumn","winter","spring"],createdAt:N,updatedAt:N},{id:"recipe-4",name:"Overnight Oats",description:"Frberedd frukost, kallt eller varmt",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`50g havregryn
150ml havremjlk
1 banan
50g frysta br`,instructionsText:`Blanda havregryn och havremjlk i en burk.
Stll i kylen ver natten.
Toppa med skivad banan och br p morgonen.`,totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-5",name:"Grn Curry",description:"Thailndsk klassiker med grnsaker",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400ml kokosmjlk
2 msk grn currypasta
400g tofu
1 paprika
200g broccoli
2 msk sojass
4 port ris`,instructionsText:`Koka riset enligt frpackningen.
Frs currypastan i lite olja. Hll i kokosmjlken.
Skr tofu och grnsaker i bitar. Lgg i grytan.
Lt sjuda 15 min. Smaka av med soja.
Servera med riset.`,totalWeight:1400,createdAt:N,updatedAt:N},{id:"recipe-6",name:"Bnburgare",description:"Hemmagjorda vegoburgare",servings:4,prepTime:15,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g svarta bnor
100g havregryn
1 lk
2 vitlksklyftor
1 tsk spiskummin
1 msk olivolja`,instructionsText:`Mosa bnorna grovt med en gaffel.
Hacka lken fint och frs tillsammans med vitlk.
Blanda allt med havregryn och kryddor.
Forma till biffar och stek i olja ca 5 min per sida.`,totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-7",name:"Quinoasallad",description:"Frisk och nyttig sallad",servings:4,prepTime:15,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`200g quinoa
1 burk kikrtor
1 paprika
1 gurka
100g spenat
2 msk olivolja
1 citron (juice)`,instructionsText:`Koka quinoan enligt frpackningen. Lt svalna.
Skr paprika och gurka i sm trningar.
Blanda allt med kikrtor och spenat.
Ringla ver olivolja och citronsaft. Salta och peppra.`,totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-8",name:"Morotssoppa",description:"Len och vrmande soppa",servings:4,prepTime:10,cookTime:25,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`500g mortter
1 lk
2 vitlksklyftor
1 tsk ingefra
1 dl kokosmjlk
1 msk olivolja`,instructionsText:`Skala och skr mortterna i bitar.
Frs lk och vitlk i olivolja. Tillstt ingefra.
Lgg i mortterna och tck med vatten.
Koka tills mjukt (ca 20 min). Mixa sltt.
Rr i kokosmjlken och vrm upp.`,totalWeight:900,createdAt:N,updatedAt:N},{id:"recipe-9",name:"Tempeh Stir-Fry",description:"Asiatisk tempeh med grnsaker",servings:2,prepTime:10,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`200g tempeh
1 pse wokgrnsaker
2 msk sojass
1 msk sesamolja
1 vitlksklyfta
2 port ris`,instructionsText:`Koka riset. Skr tempeh i strimlor.
Stek tempeh i sesamolja tills gyllene.
Tillstt grnsaker och vitlk. Stek p hg vrme.
Hll ver soja och servera med riset.`,totalWeight:700,createdAt:N,updatedAt:N},{id:"recipe-10",name:"Couscous Bowl",description:"Snabb lunch med medelhavstema",servings:2,prepTime:10,cookTime:5,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`150g couscous
1 burk kikrtor
1 paprika
50g spenat
2 msk olivolja
1 citron`,instructionsText:`Hll kokande vatten ver couscousen. Lt st 5 min.
Skr paprika i bitar.
Fluffa couscousen med en gaffel.
Lgg p kikrtor, paprika och spenat.
Ringla ver olivolja och citronsaft.`,totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-stress-test",name:"The Ultimate Stress Test",description:"TEST: Komplex rtt med timers, teranvndning och enheter.",servings:4,prepTime:30,cookTime:45,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`4 port ris
200g tofu
2 msk sojass
1 lk
2 vitlksklyftor
1 burk kikrtor
1 dl havregrdde
1 tsk sriracha
0.5 dl vatten`,instructionsText:`Koka riset enligt frpackningen.
Trna tofun fint. Hacka lken.
Stek tofun i lite olja tills gyllene (ca 5 min). Lgg t sidan.
I samma panna: Frs den hackade lken tills mjuk.
Tillstt vitlk och kikrtor. Stek i 2 min.
Hll i den stekta tofun och sojass.
Tillstt havregrdde, sriracha och vatten.
Lt puttra i 5 minuter.
Servera med riset.`,totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-11",name:"Belugalinser med citron",description:"Frsch och jrnrik lunch",servings:2,prepTime:10,cookTime:20,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`200g linser
1 citron
1 msk olivolja
100g spenat
1 paprika`,instructionsText:`Koka linserna mjuka.
Blanda citronsaft med olivolja.
Vnd ner spenaten i de varma linserna tills den slokar.
Tillstt trnad paprika och ringla ver citronoljan.`,totalWeight:600,priceCategory:"budget",seasons:["winter","spring","summer","autumn"],createdAt:N,updatedAt:N},{id:"recipe-12",name:"Stpotatis-chili",description:"Mustig chili med sting",servings:6,prepTime:15,cookTime:40,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`500g stpotatis
400g svarta bnor
1 burk krossade tomater
1 paprika
1 lk
2 tsk chiliflakes`,instructionsText:`Trna stpotatisen och stek med lk.
Hll p tomater och bnor.
Lt koka tills potatisen r mjuk.`,totalWeight:1800,priceCategory:"budget",seasons:["autumn","winter"],createdAt:N,updatedAt:N},{id:"recipe-13",name:"Ntsmrssmoothie",description:"Proteinrik frukostshake",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 banan
250ml havremjlk
1 msk jordntssmr`,instructionsText:"Mixa allt sltt i en blender.",totalWeight:350,createdAt:N,updatedAt:N},{id:"recipe-14",name:"Vegansk Bolognese",description:"Klassiker med linser",servings:4,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g pasta
200g linser
1 burk krossade tomater
1 lk
2 vitlksklyftor`,instructionsText:`Mixa eller riv lk. Stek med vitlk.
Tillstt linser och tomater. Sjud i 20 min.
Servera med kokt pasta.`,totalWeight:1200,priceCategory:"budget",seasons:["winter","spring","autumn"],createdAt:N,updatedAt:N},{id:"recipe-15",name:"Bibimbap med Tofu",description:"Koreansk bowl med massor av grnt",servings:4,prepTime:20,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`4 port ris
400g tofu
100g spenat
1 gurka`,instructionsText:`Koka riset. Stek tofun krispig.
Blanchera spenaten snabbt.
Strimla gurka.
Lgg upp allt i sklar.`,totalWeight:1500,createdAt:N,updatedAt:N},{id:"recipe-16",name:"Tofurra (Scrambled)",description:"Proteinrik frukost",servings:2,prepTime:5,cookTime:10,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`400g tofu
1 tsk gurkmeja
1 msk olivolja`,instructionsText:`Smula tofun i en panna.
Tillstt kryddor och stek tills varmt.`,totalWeight:450,createdAt:N,updatedAt:N},{id:"recipe-17",name:"Miso Ramen",description:"Vrmande soppa",servings:2,prepTime:15,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 port nudlar
400g tofu
200g broccoli`,instructionsText:`Koka nudlarna.
Gr en buljong och lgg i broccoli och tofu.
Servera nudlarna i soppan.`,totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-18",name:"Hummus-pasta",description:"Krmig pastass p kikrtor",servings:2,prepTime:10,cookTime:10,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`250g pasta
1 burk kikrtor
1 citron
1 vitlksklyfta`,instructionsText:`Mixa kikrtor med citron och vitlk till en krm.
Blanda med nykokt pasta och lite pastavatten.`,totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-19",name:"Falafel-wrap",description:"Snabb och god street food",servings:2,prepTime:10,cookTime:5,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 paket falafel (frdig)
2 tortillas
1 gurka
1 tomat`,instructionsText:`Vrm falafeln.
Fyll tortillabrden med falafel och hackade grnsaker.`,totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-20",name:"Quinoa-bowl med br",description:"Lyxig fruktig frukost eller mellis",servings:1,prepTime:5,cookTime:15,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 dl quinoa
1 dl br
150ml havremjlk`,instructionsText:`Koka quinoan i mjlken tills den sugit upp allt.
Toppa med br.`,totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-21",name:"Tofu Banh Mi",description:"Vietnamesisk baguette",servings:2,prepTime:15,cookTime:10,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 baguette
200g tofu
1 gurka`,instructionsText:"Vrm baguetten. Fyll med stekt tofu och gurka.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-22",name:"Lins-tacos",description:"Snabb vardagsmat",servings:4,prepTime:10,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 dl linser
1 pse tacokrydda
8 st tortillas`,instructionsText:"Koka linserna och blanda med tacokrydda.",totalWeight:900,priceCategory:"budget",createdAt:N,updatedAt:N},{id:"recipe-23",name:"Ratatouille",description:"Fransk grnsaksgryta",servings:4,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 zucchini
1 paprika
1 burk krossade tomater`,instructionsText:"Lt puttra i 20 minuter.",totalWeight:1200,seasons:["summer","autumn"],createdAt:N,updatedAt:N},{id:"recipe-24",name:"Chiagrt med br",description:"Mttande frukost",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`3 msk chiafrn
2 dl havremjlk
100g br`,instructionsText:"Lt st ver natten.",totalWeight:350,createdAt:N,updatedAt:N},{id:"recipe-25",name:"Wok med tofu",description:"Snabb wok",servings:2,prepTime:10,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g tofu
1 pse wokgrnsaker`,instructionsText:"Stek ihop allt.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-26",name:"Gyllene Linscurry",description:"Anti-inflammatorisk curry med gurkmeja",servings:4,prepTime:15,cookTime:25,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`3 dl rda linser
400ml kokosmjlk
1 tsk gurkmeja
0.5 tsk svartpeppar
2 vitlksklyftor`,instructionsText:"Frs vitlk, gurkmeja och peppar i lite olja. Tillstt linser och kokosmjlk. Sjud i 20 min.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-27",name:"Grnklssallad med senapsdressing",description:"Aktiverar sulforafanet i klen",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`200g grnkl
1 msk senap
1 msk olivolja
1 citron`,instructionsText:"Massera grnklen med olivolja. Blanda senap och citron till en dressing och vnd ner.",totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-28",name:"Rostad stpotatis med avokadorra",description:"Fettlsliga vitaminer tas upp optimalt",servings:2,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`500g stpotatis
1 avokado
1 msk olivolja`,instructionsText:"Rosta stpotatisen i ugnen med olivolja. Toppa med mosad avokado.",totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-29",name:"Grn Smoothie-bowl",description:"Jrnrik frukost med C-vitamin",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`100g spenat
1 banan
1 dl br
1 citron (juice)`,instructionsText:"Mixa allt sltt. Citronen hjlper dig ta upp jrnet i spenaten.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-30",name:"Tofuspett med jordntsss",description:"Asiatisk klassiker",servings:4,prepTime:20,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g tofu
2 msk jordntssmr
1 msk sojass
1 tsk sriracha`,instructionsText:"Tr tofun p spett och grilla/stek. Rr ihop ssen.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-31",name:"Linsgryta med spenat",description:"Enkel och nyttig",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`3 dl linser
200g spenat
1 lk
1 tsk curry`,instructionsText:"Koka linser med lk. Vnd ner spenat p slutet.",totalWeight:1e3,priceCategory:"budget",createdAt:N,updatedAt:N},{id:"recipe-32",name:"Ugnsrostad Broccoli med vitlk",description:"Mineral-brygga med allium",servings:2,prepTime:5,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`400g broccoli
2 vitlksklyftor
2 msk olivolja`,instructionsText:"Blanda broccoli med olja och hackad vitlk. Rosta i ugnen.",totalWeight:450,createdAt:N,updatedAt:N},{id:"recipe-33",name:"Havrefras med br",description:"Snabb vardagsfrukost",servings:1,prepTime:2,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`2 dl havremjlk
1 dl havrefras
0.5 dl br`,instructionsText:"Servera direkt.",totalWeight:350,createdAt:N,updatedAt:N},{id:"recipe-34",name:"Kikrtscurry med mango",description:"St och kryddig",servings:4,prepTime:15,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 burkar kikrtor
1 mango
1 msk currypasta
400ml kokosmjlk`,instructionsText:"Frs currypasta. Tillstt kokosmjlk och kikrtor. Blanda i mango vid servering.",totalWeight:1300,createdAt:N,updatedAt:N},{id:"recipe-35",name:"Asiatisk Gurksallad",description:"Krispig och frsch",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 gurka
1 msk sojass
1 tsk sesamolja
1 tsk chiliflakes`,instructionsText:"Skiva gurkan tunt. Blanda med vriga ingredienser.",totalWeight:350,createdAt:N,updatedAt:N},{id:"recipe-36",name:"Bakad potatis med skagenrra",description:"Vegansk lyx",servings:2,prepTime:10,cookTime:60,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 stora potatisar
200g tofu
1 dl havregrdde
1 msk tngkaviar`,instructionsText:"Baka potatisen. Trna tofun fint och blanda med grdde och kaviar.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-37",name:"Morotssoppa med kokos",description:"Krmig soppa",servings:4,prepTime:10,cookTime:20,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`500g mortter
400ml kokosmjlk
1 msk ingefra`,instructionsText:"Koka mortter i kokosmjlk. Mixa sltt med frsk ingefra.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-38",name:"Pasta arrabbiata",description:"Stark och god",servings:4,prepTime:5,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g pasta
1 burk krossade tomater
2 tsk chiliflakes
2 vitlksklyftor`,instructionsText:"Koka pastan. Frs vitlk och chili, hll p tomater. Blanda.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-39",name:"Quinoa-tabbouleh",description:"Mellanstern-inspirerad",servings:4,prepTime:15,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`2 dl quinoa
1 knippe persilja
2 tomater
1 citron`,instructionsText:"Koka quinoa. Hacka persilja och tomater. Blanda med citron och olja.",totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-40",name:"Zucchininudlar med pesto",description:"Raw och ltt",servings:2,prepTime:15,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 zucchini
1 burk vegansk pesto
50g ntter`,instructionsText:"Svarva zucchinin till nudlar. Vnd ner pesto och toppa med ntter.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-41",name:"Linspannkakor",description:"Matiga pannkakor p rda linser",servings:2,prepTime:10,cookTime:15,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`2 dl rda linser
2 dl vatten
1 krm salt`,instructionsText:"Mixa linser och vatten till en smet. Stek som tunna pannkakor.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-42",name:"Rkig Bn-chil",description:"Texas-feeling",servings:4,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 burkar svarta bnor
1 msk rkt paprikapulver
1 lk
1 burk tomater`,instructionsText:"Stek lk. Tillstt bnor, tomater och kryddor. Puttra lnge.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-43",name:"Broccolisoppa med krutonger",description:"Klassisk grn soppa",servings:4,prepTime:10,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`500g broccoli
1 lk
1 dl havregrdde`,instructionsText:"Koka broccoli och lk. Mixa med grdde. Toppa med brdbitar.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-44",name:"Linsbulletallrik",description:"Husmanskost style",servings:4,prepTime:20,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 paket linsbullar (frysta)
500g potatis
1 dl lingon`,instructionsText:"Stek linsbullar. Koka potatis. Servera med lingon.",totalWeight:900,createdAt:N,updatedAt:N},{id:"recipe-45",name:"Buddha Bowl",description:"Frglat och nringsttt",servings:1,prepTime:15,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 dl kokt quinoa
100g spenat
1 morot (riven)
50g bnor`,instructionsText:"Lgg upp allt snyggt i en skl. Toppa med valfri dressing.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-46",name:"Tofu Masala",description:"Indisk favorit",servings:4,prepTime:15,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g tofu
1 burk krossade tomater
2 msk garam masala
1 dl havregrdde`,instructionsText:"Stek tofun. Tillstt kryddor, tomater och grdde. Sjud.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-47",name:"Sommarrullar",description:"Frscht i rispapper",servings:2,prepTime:25,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 paket rispapper
1 gurka
1 paprika
100g tofu`,instructionsText:"Strimla allt. Blt rispappret och rulla in grnsakerna.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-48",name:"Mexikansk Soppa",description:"Matig linssoppa med majs",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`3 dl linser
1 burk majs
1 burk tomater
1 tsk spiskummin`,instructionsText:"Koka linser med tomater och kryddor. Rr ner majs p slutet.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-49",name:"Pannkakor med sylt",description:"Lrdagsfrukost",servings:4,prepTime:10,cookTime:20,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`4 dl mjl
8 dl havremjlk
1 dl br`,instructionsText:"Vispa smet. Stek pannkakor. Servera med br/sylt.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-50",name:"Semsam-Wok",description:"Snabb vardagswok",servings:2,prepTime:10,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 pse frysta wokgrnsaker
1 paket marinerad tofu
2 msk sesamolja`,instructionsText:"Woka allt p hg vrme i sesamolja.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-51",name:"Hstgryta med rotfrukter",description:"Vrmande och billig",servings:4,prepTime:15,cookTime:40,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`500g potatis
300g mortter
1 lk
1 tsk timjan`,instructionsText:"Trna rotfrukterna och koka med lk och timjan tills mjuka.",totalWeight:1e3,priceCategory:"budget",seasons:["autumn","winter"],createdAt:N,updatedAt:N},{id:"recipe-52",name:"Vrfrsch Quinoasallad",description:"Ltt och proteinrik",servings:2,prepTime:10,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`2 dl quinoa
100g rdisor
100g spenat
1 citron`,instructionsText:"Koka quinoa. Skiva rdisor tunt. Blanda allt med citronjuice.",totalWeight:500,seasons:["spring","summer"],createdAt:N,updatedAt:N},{id:"recipe-53",name:"Tofu-shakshuka",description:"Proteinrik frukost/brunch",servings:2,prepTime:10,cookTime:15,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`400g tofu
1 burk tomater
1 paprika
1 tsk spiskummin`,instructionsText:"Smula tofun i tomatssen. Lt puttra tills tjocknat.",totalWeight:700,createdAt:N,updatedAt:N},{id:"recipe-54",name:"Bn-burgare",description:"Hemgjorda burgare",servings:4,prepTime:15,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 burk svarta bnor
1 dl havregryn
1 lk
1 msk sojass`,instructionsText:"Mixa bnor, lk och havregryn. Forma till burgare och stek.",totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-55",name:"Pasta med valntspesto",description:"Lyxig och ntig",servings:2,prepTime:10,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`250g pasta
50g valntter
1 vitlksklyfta
50g basilika`,instructionsText:"Mixa ntter, vitlk och basilika till pesto. Blanda med nykokt pasta.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-56",name:"Lins-salsa med chips",description:"Proteinrika snacks",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 dl kokta linser
1 tomat
0.5 lk
1 tsk chili`,instructionsText:"Hacka tomat och lk. Blanda med linser och kryddor. Dippa chips!",totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-57",name:"Overnight oats med br",description:"Frukost fr den som har brttom",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 dl havregryn
2 dl havremjlk
1 dl br`,instructionsText:"Blanda allt i en burk, lt st i kylen ver natten.",totalWeight:350,createdAt:N,updatedAt:N},{id:"recipe-58",name:"Wokad kl med ingefra",description:"Snabb och krispig",servings:2,prepTime:10,cookTime:5,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`400g vitkl
1 msk ingefra
1 msk sesamolja`,instructionsText:"Strimla klen och frs snabbt med ingefra i sesamolja.",totalWeight:450,createdAt:N,updatedAt:N},{id:"recipe-59",name:"Bakad stpotatis med bnrra",description:"Fyllig middag",servings:2,prepTime:5,cookTime:45,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 stpotatisar
1 burk vita bnor
1 tsk paprikapulver`,instructionsText:"Baka potatisen. Mixa bnorna med kryddor och fyll potatisen.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-60",name:"Minestronesoppa",description:"Grnsakssoppa med pasta",servings:4,prepTime:15,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 dl pasta (sm)
1 burk tomater
2 mortter
1 lk`,instructionsText:"Koka grnsakerna mjuka. Tillstt pasta och tomater och sjud.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-61",name:"Bananpannkakor",description:"Barnsligt gott",servings:2,prepTime:5,cookTime:10,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`2 bananer
1 dl havremjlk
2 dl havregryn`,instructionsText:"Mixa smet och stek sm plttar.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-62",name:"Falafel med tabbouleh",description:"Frsch tallrik",servings:2,prepTime:15,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 paket falafel
1 dl bulgur (eller quinoa)
1 knippe persilja`,instructionsText:"Stek falafel. Blanda kokt bulgur med massor av persilja.",totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-63",name:"Linsgryta med citron och persilja",description:"Jrn-boost x2",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`3 dl stora linser
1 citron
1 knippe persilja
1 vitlksklyfta`,instructionsText:"Koka linser. Vnd ner hackad persilja och pressa ver citron.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-64",name:"Tofu-wraps med mango",description:"Stt och salt",servings:2,prepTime:15,cookTime:5,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`200g tofu
1 mango
2 tortillas
1 nve spenat`,instructionsText:"Trna och stek tofu. Skiva mango. Fyll brden.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-65",name:"Rostad blomklssoppa",description:"Mild och god",servings:4,prepTime:10,cookTime:25,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 blomklshuvud
1 lk
1 dl havregrdde`,instructionsText:"Rosta blomklen. Mixa med lk och grdde till en slt soppa.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-66",name:"Pasta Carbonara (Vegansk)",description:"Med rkig tofu",servings:2,prepTime:10,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`250g pasta
100g rkt tofu
1 dl havregrdde
1 tsk svartpeppar`,instructionsText:"Stek trnad tofu krispig. Blanda med pasta, grdde och peppar.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-67",name:"Smoothie-bowl med mango",description:"Tropisk frukost",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 fryst mango
1 banan
1 dl havremjlk`,instructionsText:"Mixa tjockt och servera i skl.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-68",name:"Stekt ris med tofu",description:"Tm kylen-rtt",servings:2,prepTime:10,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 dl kokt ris
200g tofu
1 dl rtor
1 msk sojass`,instructionsText:"Stek ris, tofu och rtor. Hll ver sojass p slutet.",totalWeight:600,createdAt:N,updatedAt:N},{id:"recipe-69",name:"Potatissallad med rda linser",description:"Picknick-favorit",servings:4,prepTime:15,cookTime:20,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`500g potatis
1 dl linser
2 msk olivolja
1 msk vinger`,instructionsText:"Koka potatis och linser. Blanda med olja och vinger medan varmt.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-70",name:"Rostad Paprikasoppa",description:"Exklusiv smak",servings:4,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`4 paprikor
1 lk
1 dl havregrdde`,instructionsText:"Rosta paprikorna svarta, dra av skalet. Mixa med lk och grdde.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-71",name:"Bn-tacos",description:"Snabbare n snabbast",servings:4,prepTime:5,cookTime:5,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 burkar bnor
1 pse tacokrydda
8 tortillas`,instructionsText:"Vrm bnorna med tacokrydda. Fyll brden.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-72",name:"Chiagrt med choklad",description:"Efterrtt till frukost",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`3 msk chiafrn
2 dl choklad-havremjlk`,instructionsText:"Blanda och lt st svalt ver natten.",totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-73",name:"Lins-bolo med zucchini-nudlar",description:"Low-carb klassiker",servings:2,prepTime:15,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 zucchini
2 dl linser
1 burk tomater`,instructionsText:"Gr linsss. Svarva zucchinin och servera direkt.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-74",name:"Wokad broccoli med cashewntter",description:"Crunchy och gott",servings:2,prepTime:10,cookTime:10,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`400g broccoli
50g cashewntter
1 msk sojass`,instructionsText:"Stek broccoli och ntter snabbt. Toppa med sojass.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-75",name:"Rd Linssoppa med ingefra",description:"Klassisk vrmare",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`3 dl rda linser
1 lk
1 msk ingefra`,instructionsText:"Koka linser och lk mjuka. Mixa med frsk ingefra.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-76",name:"Saffransdoftande Kikrtsgryta",description:"Lyxig och gul",servings:4,prepTime:15,cookTime:25,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 burkar kikrtor
0.5 g saffran
1 fnkl
1 dl havregrdde`,instructionsText:"Frs fnkl. Tillstt saffran, kikrtor och grdde. Sjud i 10 min.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-77",name:"Ramslkssoppa",description:"Vrens primr",servings:2,prepTime:10,cookTime:10,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`50g ramslk
200g potatis
1 lk`,instructionsText:"Koka potatis och lk. Mixa med ramslk p slutet fr att behlla frgen.",totalWeight:600,seasons:["spring"],createdAt:N,updatedAt:N},{id:"recipe-78",name:"Melonsallad med mynta",description:"Svalkande sommarmat",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`0.5 vattenmelon
1 msk frsk mynta
1 msk limejuice`,instructionsText:"Trna melonen. Hacka myntan. Blanda allt.",totalWeight:800,seasons:["summer"],createdAt:N,updatedAt:N},{id:"recipe-79",name:"Pumpasoppa med chili",description:"Klassisk halloween-mat",servings:4,prepTime:20,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 kg butternutsquash
1 rd chili
1 lk
1 dl kokosmjlk`,instructionsText:"Rosta pumpan. Mixa med chili, lk och kokosmjlk.",totalWeight:1500,seasons:["autumn"],createdAt:N,updatedAt:N},{id:"recipe-80",name:"Grnklspaj",description:"Perfekt p julbordet",servings:6,prepTime:20,cookTime:40,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`200g grnkl
1 pajdeg (vegan)
2 dl havregrdde
100g tofu`,instructionsText:"Frgrdda skalet. Fyll med kl och grddblandning. Grdda klart.",totalWeight:1200,seasons:["winter"],createdAt:N,updatedAt:N},{id:"recipe-81",name:"Rdbetssallad med ntter",description:"Med dijondressing",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`200g kokta rdbetor
50g valntter
1 msk dijonsenap
1 msk honung (vegano)`,instructionsText:"Klyfta rdbetorna. Blanda dressing och vnd ner. Toppa med ntter.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-82",name:"Ugnsbakad spetskl",description:"Lyxig vegansk side-dish",servings:2,prepTime:5,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 spetskl
2 msk smr (vegan)
1 tsk flingsalt`,instructionsText:"Dela klen p lngden. Stek snittytan och baka mjuk i ugnen.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-83",name:"Lins-tacos med ananas-salsa",description:"Tropisk taco",servings:4,prepTime:15,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`3 dl belugalinser
1 frsk ananas
1 rdlk
8 tacobrd`,instructionsText:"Koka linser med tacokrydda. Gr salsa p ananas och rdlk.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-84",name:"Avokadopasta med chili",description:"Krmig p 10 minuter",servings:2,prepTime:5,cookTime:10,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`250g pasta
1 avokado
1 rd chili
1 citron`,instructionsText:"Mixa avokado, chili och citron till en ss. Blanda med pastan.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-85",name:"Morots-vfflor",description:"Matiga vfflor",servings:2,prepTime:10,cookTime:15,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`2 dl mortter (rivna)
3 dl mjl
5 dl havremjlk`,instructionsText:"Blanda smet med rivna mortter. Grdda i vffeljrn.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-86",name:"Rd Curry med Tofu",description:"Thai-klassiker",servings:4,prepTime:15,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`400g tofu
1 burk rd currypasta
400ml kokosmjlk
1 rd paprika`,instructionsText:"Frs currypasta. Tillstt kokosmjlk, tofu och paprika. Sjud.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-87",name:"Grn rtsoppa (Crme de Saint-Germain)",description:"Elegant och billig",servings:4,prepTime:10,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`500g frysta rtor
1 lk
1 dl havregrdde
1 msk mynta`,instructionsText:"Koka rtor och lk. Mixa sltt med grdde och mynta.",totalWeight:1e3,createdAt:N,updatedAt:N},{id:"recipe-88",name:"Zucchini-plttar",description:"Med vitlksss",servings:2,prepTime:15,cookTime:15,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`1 zucchini
1 dl mjl
1 vitlksklyfta
1 dl havreyoghurt`,instructionsText:"Riv zucchini och krama ur vtskan. Blanda med mjl och stek. Blanda ssen.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-89",name:"Semsam-marinerad Oumph!",description:"Proteinbomb",servings:2,prepTime:10,cookTime:15,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`280g Oumph! (eller sojabitar)
2 msk sesamfrn
1 msk sojass`,instructionsText:"Stek sojabitar tills de fr frg. Vnd i sojass och sesamfrn.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-90",name:"Falsk Oxfil (Rostad stpotatis)",description:"Lyxig vegansk helgmat",servings:2,prepTime:10,cookTime:40,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`1 hel stpotatis
1 dl rdvinsss (vegan)
100g sparris`,instructionsText:"Helstekt stpotatis i ugnen. Servera som oxfil med ss och sparris.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-91",name:"Grt med pple och kanel",description:"Klassisk vinterfrukost",servings:1,prepTime:2,cookTime:5,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 dl havregryn
2 dl vatten
1 pple
1 tsk kanel`,instructionsText:"Koka grt. Toppa med rivet pple och kanel.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-92",name:"Asiatisk Rissoppa (Congee)",description:"Comfort food",servings:4,prepTime:5,cookTime:60,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 dl ris
1 l vatten
1 msk ingefra
1 msk sojass`,instructionsText:"Koka riset i mycket vatten p lg vrme lnge tills det blir en soppa. Krydda.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-93",name:"Broccoli-pesto",description:"Nyttigare pesto",servings:2,prepTime:10,cookTime:5,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`200g broccoli
50g solroskrnor
1 vitlksklyfta`,instructionsText:"Mixa ltt kokt broccoli med krnor och vitlk till en pesto.",totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-94",name:"Bakad feta (vegan) med tomater",description:"Grekisk touch",servings:2,prepTime:5,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`200g vegansk fetaost
200g krsbrstomater
1 tsk torkad oregano`,instructionsText:"Lgg osten och tomaterna i en form. Ringla over olja och oregano. Grdda.",totalWeight:500,createdAt:N,updatedAt:N},{id:"recipe-95",name:"Bn-gryta med jordntssmr",description:"Vstafrikanskt inspirerad",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 burkar vita bnor
3 msk jordntssmr
1 burk tomater
1 tsk chili`,instructionsText:"Koka ihop bnor, tomater och jordntssmr till en krmig gryta.",totalWeight:1200,createdAt:N,updatedAt:N},{id:"recipe-96",name:"Linssallad med pple",description:"Frsch och krispig",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`2 dl kokta linser
1 pple
1 nve ntter`,instructionsText:"Trna pple. Blanda med linser och ntter. Klart!",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-97",name:"Smoothie med rdbeta",description:"Pre-workout boost",servings:1,prepTime:5,cookTime:0,mealType:"breakfast",ingredients:[],instructions:[],ingredientsText:`1 kokt rdbeta
1 dl br
1 dl havremjlk`,instructionsText:"Mixa allt till en djuprd smoothie.",totalWeight:300,createdAt:N,updatedAt:N},{id:"recipe-98",name:"Svamprisotto (Vegansk)",description:"Krmig utan ost",servings:2,prepTime:10,cookTime:30,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`2 dl risarin-ris
200g svamp
1 l buljong
1 dl nringsjst`,instructionsText:"Koka riset genom att tillstta buljong lite i taget. Rr ner stekt svamp och nringsjst.",totalWeight:800,createdAt:N,updatedAt:N},{id:"recipe-99",name:"Lins-wraps med hummus",description:"Proteinrik lunch",servings:2,prepTime:10,cookTime:0,mealType:"lunch",ingredients:[],instructions:[],ingredientsText:`2 stora tortillas
1 dl hummus
1 dl kokta linser
1 nve spenat`,instructionsText:"Bred hummus p brden. Fyll med linser och spenat. Rulla ihop.",totalWeight:400,createdAt:N,updatedAt:N},{id:"recipe-100",name:"Choklad-chia-mousse",description:"Nyttig dessert",servings:2,prepTime:10,cookTime:0,mealType:"dinner",ingredients:[],instructions:[],ingredientsText:`4 msk chiafrn
3 dl havremjlk
2 msk kakao
1 msk lnnsirap`,instructionsText:"Mixa alla ingredienser och lt stelna i kylen i minst 2 timmar.",totalWeight:400,createdAt:N,updatedAt:N}],Lc="greens-app-data",Ig=()=>({foodItems:Lg,recipes:Rg,mealEntries:[],weeklyPlans:[],pantryItems:[],users:ya,currentUserId:ya[0].id,exerciseEntries:[],weightEntries:[]});class Dg{async load(){try{const t=localStorage.getItem(Lc);if(t){const n=JSON.parse(t);return n.weeklyPlans||(n.weeklyPlans=[]),n.pantryItems||(n.pantryItems=[]),n.users||(n.users=ya,n.currentUserId=ya[0].id),n.dailyVitals||(n.dailyVitals={}),n.exerciseEntries||(n.exerciseEntries=[]),n.weightEntries||(n.weightEntries=[]),n}}catch(t){console.error("Failed to load from storage:",t)}return Ig()}async save(t){var n;try{console.log("[Storage] Saving to localStorage:",{weeklyPlansCount:(n=t.weeklyPlans)==null?void 0:n.length}),localStorage.setItem(Lc,JSON.stringify(t))}catch(s){console.error("Failed to save to storage:",s)}}async getWeeklyPlan(t){var s;return(s=(await this.load()).weeklyPlans)==null?void 0:s.find(a=>a.weekStartDate===t)}async saveWeeklyPlan(t){const n=await this.load(),s=n.weeklyPlans||[],a=s.findIndex(i=>i.id===t.id);a>=0?s[a]=t:s.push(t),n.weeklyPlans=s,await this.save(n)}async deleteWeeklyPlan(t){var s;const n=await this.load();n.weeklyPlans=((s=n.weeklyPlans)==null?void 0:s.filter(a=>a.id!==t))||[],await this.save(n)}}const Rc=new Dg,Fg={g:"g",gram:"g",kg:"kg",kilo:"kg",ml:"ml",dl:"dl",l:"l",liter:"l",st:"pcs",styck:"pcs",stycken:"pcs",port:"portion",portion:"portion",portioner:"portion",msk:"msk",matsked:"msk",tsk:"tsk",tesked:"tsk",pse:"pcs",burk:"pcs",frpackning:"pcs",klyfta:"pcs",klyftor:"pcs"},Np={g:1,kg:1e3,ml:1,dl:100,l:1e3,msk:15,tsk:5,portion:200,pcs:100},_g=/^(\d+(?:[.,]\d+)?)\s*([a-z]+)?\s+(.+)$/i;function Og(e){const t=e.trim();if(!t)return null;const n=t.match(_g);if(n){const[,s,a,i]=n,l=parseFloat(s.replace(",",".")),o=a?Fg[a.toLowerCase()]||a:"pcs";return{quantity:l,unit:o,name:i.trim(),originalText:t}}return{quantity:1,unit:"pcs",name:t,originalText:t}}function dr(e){return e.split(`
`).map(t=>Og(t)).filter(t=>t!==null)}function En(e,t){const n=e.name.toLowerCase();let s=t.find(i=>i.name.toLowerCase()===n);if(s||(s=t.find(i=>n.includes(i.name.toLowerCase())||i.name.toLowerCase().includes(n)),s)||(s=t.find(i=>{var l;return(l=i.description)==null?void 0:l.toLowerCase().includes(n)}),s))return s;const a=n.split(/\s+/)[0];return s=t.find(i=>i.name.toLowerCase().startsWith(a)||i.name.toLowerCase().includes(a)),s||null}function wp(e,t){const n=Np[e.unit]||100,s=e.quantity*n,a=s/100;return{nutrition:{calories:Math.round(t.calories*a),protein:Math.round(t.protein*a*10)/10,carbs:Math.round(t.carbs*a*10)/10,fat:Math.round(t.fat*a*10)/10,fiber:Math.round((t.fiber||0)*a*10)/10},price:Math.round((t.pricePerUnit||0)*(s/1e3)*10)/10,co2:Math.round((t.co2PerUnit||0)*(s/1e3)*100)/100}}function jt(e,t,n){const s=dr(e);let a=0,i=0,l=0,o=0,d=0,u=0,m=0,c=0;const f=new Set,y=new Set,j=new Date().getMonth();let k="winter";j>=2&&j<=4?k="spring":j>=5&&j<=7?k="summer":j>=8&&j<=10&&(k="autumn");for(const G of s){let V=En(G,t);if(V&&n&&n[V.id]){const $=t.find(X=>X.id===n[V.id]);$&&(V=$)}if(V){const{nutrition:$,price:X,co2:Z}=wp(G,V);a+=$.calories,i+=$.protein,l+=$.carbs,o+=$.fat,d+=$.fiber,u+=X,m+=Z,c++,V.proteinCategory&&f.add(V.proteinCategory),V.seasons&&V.seasons.forEach(L=>y.add(L))}}const T=Array.from(f),p=T.includes("soy_quinoa")||T.includes("legume")&&T.includes("grain"),h=[];p&&h.push("complete-protein"),y.has(k)&&h.push("seasonal-powerhouse"),u<30&&h.push("budget-win");const g=[];let b=0,C=0,E=0,x=0,w=!1,S=!1,P=!1,M=!1,D=!1;return s.forEach(G=>{const V=En(G,t);if(V){const $=(Np[G.unit]||100)*G.quantity/100;b+=(V.iron||0)*$,C+=(V.vitaminC||0)*$,E+=(V.vitaminA||0)*$,x+=(V.zinc||0)*$;const X=V.name.toLowerCase();X.includes("gurkmeja")&&(w=!0),(X.includes("svartpeppar")||X.includes("peppar"))&&(S=!0),["broccoli","grnkl","blomkl","brysselkl","svartkl"].some(Z=>X.includes(Z))&&(P=!0),["senap","rdisa","pepparrot","rucola"].some(Z=>X.includes(Z))&&(M=!0),["vitlk","lk","purjolk"].some(Z=>X.includes(Z))&&(D=!0)}}),b>2&&C>20&&g.push({id:"iron-vitc",name:"Jrnupptag-Boost",description:"Vitamin C kar upptaget av jrn frn plantbaserade kllor.",icon:"+",impact:"absorption"}),E>500&&o>10&&g.push({id:"fat-vita",name:"Nrings-Unlock",description:"Hlsosamma fetter behvs fr att ta upp fettlsligt Vitamin A (betakaroten).",icon:"+",impact:"unlock"}),w&&S&&g.push({id:"turmeric-pepper",name:"Bio-Boost",description:"Piperin i svartpeppar kar upptaget av kurkumin med upp till 2000%.",icon:"+",impact:"efficiency"}),P&&M&&g.push({id:"sulforaphane",name:"Sulforafan-Aktivering",description:"Senapsfr eller rucola hjlper till att aktivera det cancerfrebyggande sulforafanet i kl.",icon:"+",impact:"efficiency"}),D&&(b>3||x>3)&&g.push({id:"allium-minerals",name:"Mineral-Brygga",description:"Svavelfreningar i lk och vitlk kar biotillgngligheten hos jrn och zink.",icon:"+",impact:"absorption"}),{calories:Math.round(a),protein:Math.round(i*10)/10,carbs:Math.round(l*10)/10,fat:Math.round(o*10)/10,fiber:Math.round(d*10)/10,price:Math.round(u),co2:Math.round(m*100)/100,matchedCount:c,totalCount:s.length,proteinCategories:T,isCompleteProtein:p,tags:h,synergies:g}}const Sp=v.createContext(null);function zg({children:e}){const[t,n]=v.useState([]),[s,a]=v.useState([]),[i,l]=v.useState([]),[o,d]=v.useState([]),[u,m]=v.useState([]),[c,f]=v.useState({}),[y,j]=v.useState({visibleMeals:["breakfast","lunch","dinner","snack"]}),[k,T]=v.useState([]),[p,h]=v.useState(null),[g,b]=v.useState({}),[C,E]=v.useState([]),[x,w]=v.useState([]),[S,P]=v.useState(!1);v.useEffect(()=>{(async()=>{const I=await Rc.load();n(I.foodItems),a(I.recipes),l(I.mealEntries),d(I.weeklyPlans||[]),m(I.pantryItems||[]),f(I.pantryQuantities||{});const F=I.users||[];if(T(F),I.currentUserId){const H=F.find(se=>se.id===I.currentUserId);H&&h(H)}else F.length>0&&h(F[0]);I.userSettings&&j(I.userSettings),I.dailyVitals&&b(I.dailyVitals),I.exerciseEntries&&E(I.exerciseEntries),I.weightEntries&&w(I.weightEntries),P(!0)})()},[]),v.useEffect(()=>{S&&Rc.save({foodItems:t,recipes:s,mealEntries:i,weeklyPlans:o,pantryItems:u,pantryQuantities:c,userSettings:y,users:k,currentUserId:p==null?void 0:p.id,dailyVitals:g,exerciseEntries:C,weightEntries:x})},[t,s,i,o,u,c,y,k,p,S,g,C,x]);const M=v.useCallback(B=>{m(I=>{const F=[...I],H=F.indexOf(B);return H>=0?F.splice(H,1):F.push(B),F})},[]),D=v.useCallback((B,I,F)=>{const H=B.toLowerCase();f(se=>{if(I<=0){const fe={...se};return delete fe[H],fe}return{...se,[H]:{quantity:I,unit:F}}}),m(se=>se.includes(H)?se:[...se,H])},[]),G=v.useCallback(B=>c[B.toLowerCase()],[c]),V=v.useCallback(B=>{h(B)},[]),$=v.useCallback(B=>{T(I=>[...I,B])},[]),X=v.useCallback(B=>{if(!p)return;const I={...p,...B};h(I),T(F=>F.map(H=>H.id===p.id?I:H))},[p]),Z=v.useCallback(B=>{const I=new Date().toISOString(),F={...B,id:Rn(),createdAt:I,updatedAt:I};return n(H=>[...H,F]),F},[]),L=v.useCallback((B,I)=>{n(F=>F.map(H=>H.id===B?{...H,...I,updatedAt:new Date().toISOString()}:H))},[]),_=v.useCallback(B=>{n(I=>I.filter(F=>F.id!==B))},[]),A=v.useCallback(B=>t.find(I=>I.id===B),[t]),O=v.useCallback(B=>{const I=new Date().toISOString(),F={...B,id:Rn(),createdAt:I,updatedAt:I};return a(H=>[...H,F]),F},[]),Y=v.useCallback((B,I)=>{a(F=>F.map(H=>H.id===B?{...H,...I,updatedAt:new Date().toISOString()}:H))},[]),U=v.useCallback(B=>{a(I=>I.filter(F=>F.id!==B))},[]),J=v.useCallback(B=>s.find(I=>I.id===B),[s]),Q=v.useCallback(B=>{if(B.ingredientsText&&B.ingredientsText.trim()){const F=jt(B.ingredientsText,t);return{calories:Math.round(F.calories),protein:Math.round(F.protein*10)/10,carbs:Math.round(F.carbs*10)/10,fat:Math.round(F.fat*10)/10,fiber:Math.round(F.fiber*10)/10}}const I={calories:0,protein:0,carbs:0,fat:0,fiber:0};for(const F of B.ingredients){const H=t.find(se=>se.id===F.foodItemId);if(H){const se=F.quantity/100;I.calories+=H.calories*se,I.protein+=H.protein*se,I.carbs+=H.carbs*se,I.fat+=H.fat*se,I.fiber+=(H.fiber||0)*se}}return{calories:Math.round(I.calories),protein:Math.round(I.protein*10)/10,carbs:Math.round(I.carbs*10)/10,fat:Math.round(I.fat*10)/10,fiber:Math.round(I.fiber*10)/10}},[t]),te=v.useCallback(B=>{const I=s.find(se=>se.id===B);if(!I)return;const F=Q(I),H=I.servings||1;return{...I,nutrition:F,nutritionPerServing:{calories:Math.round(F.calories/H),protein:Math.round(F.protein/H*10)/10,carbs:Math.round(F.carbs/H*10)/10,fat:Math.round(F.fat/H*10)/10,fiber:Math.round(F.fiber/H*10)/10}}},[s,Q]),R=v.useCallback(B=>{const I={...B,id:Rn(),createdAt:new Date().toISOString()};return l(F=>[...F,I]),I},[]),ee=v.useCallback((B,I)=>{l(F=>F.map(H=>H.id===B?{...H,...I}:H))},[]),ae=v.useCallback(B=>{l(I=>I.filter(F=>F.id!==B))},[]),oe=v.useCallback(B=>{const I={...B,id:Rn(),createdAt:new Date().toISOString()};return E(F=>[...F,I]),I},[]),_e=v.useCallback(B=>{E(I=>I.filter(F=>F.id!==B))},[]),W=v.useCallback(B=>C.filter(I=>I.date===B),[C]),ne=v.useCallback((B,I=ct())=>{const F={id:Rn(),weight:B,date:I,createdAt:new Date().toISOString()};return w(H=>[...H,F].sort((fe,Ke)=>Ke.date.localeCompare(fe.date))),F},[]),ie=v.useCallback(B=>{w(I=>I.filter(F=>F.id!==B))},[]),re=v.useCallback(()=>x.length===0?70:x[0].weight,[x]),K=v.useCallback(()=>{if(!(p!=null&&p.settings))return 2e3;const B=p.settings,I=re(),F=B.height||175,H=B.age||30,se=B.gender||"other";let fe=10*I+6.25*F-5*H;return se==="male"?fe+=5:se==="female"?fe-=161:fe-=78,Math.round(fe)},[p,re]),de=v.useCallback((B,I,F)=>{const H=re(),fe={running:{low:6,moderate:8,high:11,ultra:14},cycling:{low:4,moderate:6,high:10,ultra:12},strength:{low:3,moderate:4,high:6,ultra:8},walking:{low:2.5,moderate:3.5,high:4.5,ultra:5.5},swimming:{low:5,moderate:7,high:10,ultra:12},yoga:{low:2,moderate:2.5,high:3.5,ultra:4},other:{low:3,moderate:4.5,high:6,ultra:8}}[B][F];return Math.round(fe*H*(I/60))},[re]),pe=v.useCallback(B=>i.filter(I=>I.date===B),[i]),Ce=v.useCallback(B=>{const I=pe(B),F={calories:0,protein:0,carbs:0,fat:0,fiber:0};for(const se of I)for(const fe of se.items)if(fe.type==="recipe"){const Ke=s.find(Se=>Se.id===fe.referenceId);if(Ke){const Se=Q(Ke),ur=Ke.servings||1,pr=fe.servings/ur;F.calories+=Se.calories*pr,F.protein+=Se.protein*pr,F.carbs+=Se.carbs*pr,F.fat+=Se.fat*pr,F.fiber+=(Se.fiber||0)*pr}}else{const Ke=t.find(Se=>Se.id===fe.referenceId);if(Ke){const Se=fe.servings/100;F.calories+=Ke.calories*Se,F.protein+=Ke.protein*Se,F.carbs+=Ke.carbs*Se,F.fat+=Ke.fat*Se,F.fiber+=(Ke.fiber||0)*Se}}const H=W(B);for(const se of H)F.calories-=se.caloriesBurned;return{calories:Math.max(0,Math.round(F.calories)),protein:Math.round(F.protein*10)/10,carbs:Math.round(F.carbs*10)/10,fat:Math.round(F.fat*10)/10,fiber:Math.round(F.fiber*10)/10}},[pe,s,t,Q,W]),Ee=v.useCallback(B=>o.find(I=>I.weekStartDate===B),[o]),Nt=v.useCallback((B,I)=>{const F=new Date().toISOString();d(H=>{const se=H.findIndex(fe=>fe.weekStartDate===B);if(se>=0){const fe=[...H];return fe[se]={...fe[se],meals:I,updatedAt:F},fe}else return[...H,{id:Rn(),weekStartDate:B,meals:I,createdAt:F,updatedAt:F}]})},[]),cs=v.useCallback(B=>{const I=mo(new Date(B)),F=o.find(Se=>Se.weekStartDate===I);if(!F)return[];const H=Mg(B);if(!H)return[];const se=F.meals[H];if(!se)return[];const fe=[],Ke=["breakfast","lunch","dinner","snack"];for(const Se of Ke){const ur=se[Se];ur&&ur.recipeId&&fe.push({mealType:Se,meal:ur})}return fe},[o]),Mn=v.useCallback((B,I)=>{b(F=>{const H=F[B]||{water:0,sleep:0,updatedAt:new Date().toISOString()};return{...F,[B]:{...H,...I,updatedAt:new Date().toISOString()}}})},[]),Kt=v.useCallback(B=>g[B]||{water:0,sleep:0,caffeine:0,updatedAt:new Date().toISOString()},[g]),fn={foodItems:t,recipes:s,mealEntries:i,weeklyPlans:o,userSettings:y,addFoodItem:Z,updateFoodItem:L,deleteFoodItem:_,getFoodItem:A,addRecipe:O,updateRecipe:Y,deleteRecipe:U,getRecipe:J,getRecipeWithNutrition:te,addMealEntry:R,updateMealEntry:ee,deleteMealEntry:ae,getMealEntriesForDate:pe,getWeeklyPlan:Ee,saveWeeklyPlan:Nt,getPlannedMealsForDate:cs,pantryItems:u,pantryQuantities:c,togglePantryItem:M,setPantryItems:m,setPantryQuantity:D,getPantryQuantity:G,calculateRecipeNutrition:Q,calculateDailyNutrition:Ce,users:k,currentUser:p,setCurrentUser:V,updateCurrentUser:X,addUser:$,dailyVitals:g,updateVitals:Mn,getVitalsForDate:Kt,exerciseEntries:C,addExercise:oe,deleteExercise:_e,getExercisesForDate:W,weightEntries:x,addWeightEntry:ne,deleteWeightEntry:ie,getLatestWeight:re,calculateBMR:K,calculateExerciseCalories:de};return r.jsx(Sp.Provider,{value:fn,children:e})}function Fe(){const e=v.useContext(Sp);if(!e)throw new Error("useData must be used within a DataProvider");return e}const Tp=v.createContext(null),$g="greens-user-settings",Bg=()=>{try{const e=localStorage.getItem($g);if(e)return{...Fr,...JSON.parse(e)}}catch(e){console.error("Failed to load settings:",e)}return Fr};function Ug({children:e}){const{currentUser:t,updateCurrentUser:n}=Fe(),[s,a]=v.useState(()=>(t==null?void 0:t.settings)||Bg());v.useEffect(()=>{t!=null&&t.settings&&a(t.settings)},[t==null?void 0:t.id]),v.useEffect(()=>{document.documentElement.setAttribute("data-theme",s.theme)},[s.theme]),v.useEffect(()=>{t&&JSON.stringify(t.settings)!==JSON.stringify(s)&&n({settings:s})},[s]);const i=c=>{a(f=>({...f,theme:c}))},l=()=>{a(c=>({...c,theme:c.theme==="dark"?"light":"dark"}))},o=c=>{a(f=>({...f,visibleMeals:c}))},d=c=>{a(f=>{const y=f.visibleMeals.includes(c);return{...f,visibleMeals:y?f.visibleMeals.filter(j=>j!==c):[...f.visibleMeals,c]}})},u=c=>{a(f=>({...f,...c}))},m={settings:s,theme:s.theme,setTheme:i,toggleTheme:l,setVisibleMeals:o,toggleMealVisibility:d,updateSettings:u};return r.jsx(Tp.Provider,{value:m,children:e})}function Gt(){const e=v.useContext(Tp);if(!e)throw new Error("useSettings must be used within a SettingsProvider");return e}const Wg=[{regex:/\b(\d+)\s*minut(?:er)?\b/i},{regex:/\b(\d+)\s*min\b/i},{regex:/enligt\s*frpackning(?:en)?/i,isManual:!0},{regex:/enligt\s*anvisning(?:ar)?(?:na)?/i,isManual:!0},{regex:/se\s*frpackning(?:en)?/i,isManual:!0},{regex:/se\s*anvisning(?:ar)?(?:na)?/i,isManual:!0}],Ic=["stek","koka","grdda","ugnsrosta","rosta","frs","bryn","lt","vila","sjud","puttra","micra","mikra","vispa","knda","baka","ngkoka","blanchera","fritera","woka","eftergrdda","js","jsa","mixa","koka"];function Dc(e,t){const n=e.substring(0,t),s=Math.max(n.lastIndexOf(". "),n.lastIndexOf("! "),n.lastIndexOf("? "),0),a=s>0?s+2:0,i=n.substring(a).trim();if(!i)return null;const l=i.split(/\s+/).map(u=>u.replace(/[^a-zA-Z]/g,""));let o="",d=-1;for(let u=0;u<l.length;u++){const m=l[u].toLowerCase();if(Ic.find(f=>m===f||m.startsWith(f))){o=l[u],d=u;break}}if(o){if(o.toLowerCase().startsWith("lt")){for(let u=d+1;u<l.length;u++){const m=l[u].toLowerCase();if(Ic.find(f=>m===f||m.startsWith(f)))return Es(l[u])}if(l[d+1])return Es(l[d+1])}if(l[d+1]){const u=l[d+1],m=u.toLowerCase();if(!["i","p","med","och","vid","ca","tills","under","mitt","sltt","fint"].includes(m))return Es(o)+" "+u}return Es(o)}return null}function Es(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Vg(e){for(const t of Wg){const n=e.match(t.regex);if(n&&t.isManual)return{minutes:10,label:Dc(e,n.index||0)||"Se frpackning",isManual:!0};if(n&&n[1]){const s=parseInt(n[1],10);if(s>0&&s<=180){const a=Dc(e,n.index||0)||`${s} min`;return{minutes:s,label:a,isManual:!1}}}}return null}function ho(e){const t=e.trim();if(!t)return null;const n=t.match(/^([\d,./]+)?\s*st\s*(?:port|portion(?:er)?)\s*(.+)$/i);if(n)return{amount:n[1]||"1",unit:"port",name:n[2].trim(),originalText:t};const s=t.match(/^([\d,./]+)?\s*(dl|l|msk|tsk|g|kg|st|ml|cl|port|portion(?:er)?)?\s*(.+)$/i);return s?{amount:s[1]||"1",unit:s[2]||"st",name:s[3].trim(),originalText:t}:{amount:"",unit:"",name:t,originalText:t}}function Gg(e,t){const n=e.toLowerCase(),s=[];for(const a of t){const i=a.name.toLowerCase();(i.split(/\s+/).some(d=>d.length<3?!1:n.includes(d))||n.includes(i))&&s.push(a)}return s}function Kg(e,t){const n=t.split(`
`).map(a=>ho(a)).filter(a=>a!==null);return e.split(`
`).map(a=>a.trim()).filter(a=>a.length>0).map((a,i)=>{const l=Vg(a),o=Gg(a,n);return{index:i,text:a,timerMinutes:(l==null?void 0:l.minutes)||null,timerLabel:(l==null?void 0:l.label)||null,isManualTimer:(l==null?void 0:l.isManual)||!1,ingredients:o,isCompleted:!1}})}function Cp(e,t){if(e.includes("/")){const[a,i]=e.split("/").map(Number),l=a/i*t;return Fc(l)}const n=e.replace(",","."),s=parseFloat(n);return isNaN(s)?e:Fc(s*t)}function Fc(e){return Number.isInteger(e)?e.toString():(Math.round(e*10)/10).toString().replace(".",",")}const Ps="greens-cooking-session";function Hg(){const[e,t]=v.useState(null),[n,s]=v.useState([]),[a,i]=v.useState([]),[l,o]=v.useState(null);v.useEffect(()=>{try{const C=localStorage.getItem(Ps);if(C){const E=JSON.parse(C);t(E.session),s(E.steps||[]),i(E.ingredients||[])}}catch(C){console.warn("Failed to load cooking session:",C)}},[]),v.useEffect(()=>{e?localStorage.setItem(Ps,JSON.stringify({session:e,steps:n,ingredients:a})):localStorage.removeItem(Ps)},[e,n,a]);const d=e?e.portions/e.basePortions:1,u=a.map((C,E)=>{const x=e==null?void 0:e.customizations,w=(x==null?void 0:x.excludedIndices.includes(E))||!1,S=(x==null?void 0:x.multipliers[E])||1,P=w?0:d*S;return{...C,scaledAmount:w?"0":Cp(C.amount,P),isExcluded:w,customMultiplier:S}}),m=()=>`session_${Date.now()}`,c=v.useCallback((C,E,x)=>{const w=C.servings||4,S=E||w,P=Kg(C.instructionsText||"",C.ingredientsText||""),M=(C.ingredientsText||"").split(`
`).map(D=>ho(D)).filter(D=>D!==null);o(C),s(P),i(M),t({id:m(),recipeId:C.id,recipeName:C.name,portions:S,basePortions:w,startedAt:new Date().toISOString(),currentStep:0,completedSteps:[],status:"preview",customizations:x})},[]),f=v.useCallback(()=>{t(null),s([]),i([]),o(null),localStorage.removeItem(Ps)},[]),y=v.useCallback(C=>{!e||C<0||C>=n.length||t(E=>E?{...E,currentStep:C}:null)},[e,n.length]),j=v.useCallback(()=>{if(!e)return;const C=Math.min(e.currentStep+1,n.length-1);t(E=>E?{...E,currentStep:C}:null)},[e,n.length]),k=v.useCallback(()=>{if(!e)return;const C=Math.max(e.currentStep-1,0);t(E=>E?{...E,currentStep:C}:null)},[e]),T=v.useCallback(C=>{e&&(t(E=>{if(!E)return null;const x=E.completedSteps.includes(C)?E.completedSteps.filter(w=>w!==C):[...E.completedSteps,C];return{...E,completedSteps:x}}),s(E=>E.map((x,w)=>w===C?{...x,isCompleted:!x.isCompleted}:x)))},[e]),p=v.useCallback(()=>{t(C=>C?{...C,status:"cooking"}:null)},[]),h=v.useCallback(()=>{t(C=>C?{...C,status:"zen"}:null)},[]),g=v.useCallback(()=>{t(C=>C?{...C,status:"cooking"}:null)},[]),b=v.useCallback(C=>{C<1||C>20||t(E=>E?{...E,portions:C}:null)},[]);return{session:e,steps:n,scaledIngredients:u,portionMultiplier:d,startSession:c,endSession:f,goToStep:y,nextStep:j,previousStep:k,completeStep:T,startCooking:p,enterZenMode:h,exitZenMode:g,setPortions:b}}function Qg(){try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5),setTimeout(()=>_c(e),600),setTimeout(()=>_c(e),1200)}catch(e){console.warn("Could not play notification sound:",e)}}function _c(e){const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)}function Yg(){const[e,t]=v.useState([]),n=v.useRef(null);v.useEffect(()=>(n.current=window.setInterval(()=>{t(c=>{let f=!1;const y=c.map(j=>j.status!=="running"?j:j.remainingSeconds<=1?(f=!0,Qg(),{...j,remainingSeconds:0,status:"finished"}):(f=!0,{...j,remainingSeconds:j.remainingSeconds-1}));return f?y:c})},1e3),()=>{n.current&&clearInterval(n.current)}),[]);const s=()=>`timer_${Date.now()}_${Math.random().toString(36).slice(2)}`,a=v.useCallback((c,f,y)=>{const j=s(),k=f*60;return t(T=>[...T,{id:j,label:c,durationSeconds:k,remainingSeconds:k,status:"idle",stepIndex:y}]),j},[]),i=v.useCallback(c=>{t(f=>f.map(y=>y.id===c?{...y,status:"running"}:y))},[]),l=v.useCallback(c=>{t(f=>f.map(y=>y.id===c?{...y,status:"paused"}:y))},[]),o=v.useCallback(c=>{t(f=>f.map(y=>y.id===c?{...y,remainingSeconds:y.durationSeconds,status:"idle"}:y))},[]),d=v.useCallback(c=>{t(f=>f.filter(y=>y.id!==c))},[]),u=v.useCallback(c=>e.find(f=>f.stepIndex===c),[e]),m=e.find(c=>c.status==="running"||c.status==="paused")||null;return{timers:e,activeTimer:m,addTimer:a,startTimer:i,pauseTimer:l,resetTimer:o,removeTimer:d,getTimerForStep:u}}function pl(e){const t=Math.floor(e/60),n=e%60;return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function Ep(e,t,n){const s=pi(e);if(!n)return`${s} ${t}`;const a=[];if(a.push(`${s} ${t}`),(t==="port"||t==="portion")&&n.defaultPortionGrams){const i=e*n.defaultPortionGrams,l=[];if(n.gramsPerDl){const o=i/n.gramsPerDl;l.push(`${pi(o)} dl`)}l.push(`${Math.round(i)}g`),l.length>0&&a.push(`(${l.join(" / ")})`)}else if(t==="dl"&&n.gramsPerDl){const i=e*n.gramsPerDl;a.push(`(${Math.round(i)}g)`)}else if(t==="g"&&n.gramsPerDl){const i=e/n.gramsPerDl;a.push(`(${pi(i)} dl)`)}return n.isCooked!==void 0&&(n.isCooked||n.yieldFactor&&n.yieldFactor>1),a.join(" ")}function pi(e){return Number.isInteger(e)?e.toString():(Math.round(e*10)/10).toString().replace(".",",")}function Pp(e,t){const n=[];return e.forEach(s=>{const a=t.find(u=>u.name.toLowerCase()===s.name.toLowerCase()||s.name.toLowerCase().includes(u.name.toLowerCase()));if(!a||["spices","condiments","other","baking"].includes(a.category))return;const i=t.filter(u=>u.category===a.category&&u.id!==a.id&&u.storageType!=="frozen");let l=null,o=0,d="price";i.forEach(u=>{const m=(a.pricePerUnit||0)-(u.pricePerUnit||0),c=a.pricePerUnit&&a.pricePerUnit>0?m/a.pricePerUnit:0,f=(a.co2PerUnit||0)-(u.co2PerUnit||0),y=a.co2PerUnit&&a.co2PerUnit>0?f/a.co2PerUnit:0;let j=0,k=null;c>.3&&(j+=c*10,k="price"),y>.3&&(j+=y*10,k==="price"?k="both":k="co2"),c<-.1&&(j-=5),y<-.1&&(j-=5),j>o&&k&&(o=j,l=u,d=k)}),l&&n.push({original:s,originalItem:a,suggestion:l,reason:d,savingsFn:u=>{const m=((a.pricePerUnit||0)-(l.pricePerUnit||0))*(u/1e3);return`${Math.round(m)} kr`},impactFn:u=>`${(((a.co2PerUnit||0)-(l.co2PerUnit||0))*(u/1e3)).toFixed(1)} kg COe`})}),n}const qg=[2,4,6,8];function Jg({recipe:e,foodItems:t,onClose:n,onStartCooking:s,isActive:a=!0,plannedSwaps:i={},onSwapsChange:l}){const[o,d]=v.useState(e.servings||4),[u,m]=v.useState(new Set),[c,f]=v.useState(0),[y,j]=v.useState(!1),[k,T]=v.useState(!1),[p,h]=v.useState(!1),[g,b]=v.useState(new Set),[C,E]=v.useState(new Map),[x,w]=v.useState(i);v.useCallback((L,_)=>{w(A=>{const O={...A};return A[L]===_?delete O[L]:O[L]=_,l&&l(O),O})},[l]),v.useMemo(()=>{if(!e.ingredientsText)return[];const L=dr(e.ingredientsText);return Pp(L,t)},[e.ingredientsText,t]);const S=e.servings||4,P=o/S;v.useEffect(()=>{const L=_=>{a&&_.key==="Escape"&&n()};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[n,a]),v.useEffect(()=>{try{const L=e.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),_=`/vecka/recept/${e.id}/${L}`,A=window.location.pathname;(A.startsWith("/vecka")||A==="/"||A==="")&&window.history.replaceState(null,"",_)}catch{console.log("URL update skipped")}return()=>{try{window.location.pathname.includes("/recept/")&&window.history.replaceState(null,"","/vecka")}catch{}}},[e.id,e.name]);const M=v.useMemo(()=>{if(!e.ingredientsText)return[];const L=["linser","tofu","bnor","kikrtor","tempeh","seitan"],_=1+c*.5;return e.ingredientsText.split(`
`).map(A=>ho(A)).filter(A=>A!==null).map((A,O)=>{const Y=L.some(te=>A.name.toLowerCase().includes(te)),U=C.get(O)||1,J=g.has(O),Q=J?0:(Y?P*_:P)*U;return{...A,scaledAmount:J?"0":Cp(A.amount,Q),isBoosted:Y&&c>0,isExcluded:J,customMultiplier:U}})},[e.ingredientsText,P,c,C,g]),D=v.useMemo(()=>{if(!M.length)return{total:{calories:0,protein:0,carbs:0,fat:0,price:0,co2:0},perPortion:{calories:0,protein:0,carbs:0,fat:0,price:0,co2:0}};let L=0,_=0,A=0,O=0,Y=0,U=0;M.forEach(Q=>{if(Q.isExcluded)return;const te={name:Q.name,unit:Q.unit,quantity:1,originalText:Q.originalText},R=En(te,t);if(R){const ae=(oe=>parseFloat(oe.replace(",",".")))(Q.scaledAmount);if(!isNaN(ae)){const{nutrition:oe,price:_e,co2:W}=wp({...te,quantity:ae},R);L+=oe.calories,_+=oe.protein,A+=oe.carbs,O+=oe.fat,Y+=_e,U+=W}}});const J={calories:Math.round(L),protein:Math.round(_),carbs:Math.round(A),fat:Math.round(O),price:Math.round(Y),co2:Math.round(U*100)/100};return{total:J,perPortion:{calories:Math.round(J.calories/o),protein:Math.round(J.protein/o),carbs:Math.round(J.carbs/o),fat:Math.round(J.fat/o),price:Math.round(J.price/o),co2:Math.round(J.co2/o*100)/100}}},[M,t,o]),G=v.useMemo(()=>e.instructionsText?e.instructionsText.split(`
`).map(L=>L.trim()).filter(L=>L.length>0):[],[e.instructionsText]),V=v.useMemo(()=>{const L=["linser","tofu","bnor","kikrtor","tempeh","seitan"],_=M.find(A=>L.some(O=>A.name.toLowerCase().includes(O)));return _?{name:_.name,proteinPer100g:24}:null},[M]),$=v.useCallback(L=>{m(_=>{const A=new Set(_);return A.has(L)?A.delete(L):A.add(L),A})},[]),X=v.useCallback(()=>{c<2&&(j(!0),f(L=>L+1),setTimeout(()=>j(!1),600))},[c]),Z=v.useCallback(()=>{f(0)},[]);return r.jsx("div",{className:"recipe-detail-overlay",onClick:n,children:r.jsxs("div",{className:"recipe-detail-modal",onClick:L=>L.stopPropagation(),children:[r.jsxs("header",{className:"modal-header",children:[r.jsxs("div",{className:"header-left",children:[r.jsx("h1",{children:e.name}),e.mealType&&r.jsxs("span",{className:"gluten-badge",children:[" ",e.mealType]})]}),r.jsxs("div",{className:"header-actions",children:[r.jsx("button",{className:"btn-icon",title:"Redigera",children:""}),r.jsx("button",{className:"btn-kitchen-mode",onClick:()=>s(e,o),children:" KKSLGE"}),r.jsx("button",{className:"btn-close",onClick:n,children:""})]})]}),r.jsxs("div",{className:"recipe-stats",children:[r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-label",children:"TIDSTGNG"}),r.jsxs("span",{className:"stat-value",children:[" ",e.cookTime||30," m"]})]}),r.jsxs("div",{className:"stat highlight",style:{cursor:"pointer"},onClick:()=>T(!k),title:"Klicka fr ingrediensdetaljer",children:[r.jsxs("span",{className:"stat-label",children:["PER PORTION ",k?"":""]}),r.jsxs("span",{className:"stat-value",style:{textDecoration:"underline dotted"},children:[D.perPortion.calories," kcal"]})]}),r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-label",children:"PROTEIN/PORT"}),r.jsxs("span",{className:"stat-value",children:[" ",D.perPortion.protein,"g"]})]}),r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-label",children:"PRIS/PORT"}),r.jsxs("span",{className:"stat-value",children:[" ",D.perPortion.price," kr"]})]}),r.jsxs("div",{className:"stat",children:[r.jsx("span",{className:"stat-label",children:"CO"}),r.jsxs("span",{className:"stat-value",children:[" ",D.total.co2," kg"]})]})]}),k&&r.jsxs("div",{className:"ingredient-breakdown",style:{background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"12px",marginBottom:"16px",fontSize:"13px"},children:[r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto auto auto",gap:"8px 12px",color:"var(--text-secondary)",fontSize:"10px",fontWeight:"bold",textTransform:"uppercase",paddingBottom:"8px",borderBottom:"1px solid rgba(255,255,255,0.1)",marginBottom:"8px"},children:[r.jsx("span",{children:"Ingrediens"}),r.jsx("span",{style:{textAlign:"right",width:"50px"},children:"Mngd"}),r.jsx("span",{style:{textAlign:"right",width:"45px"},children:"Kcal"}),r.jsx("span",{style:{textAlign:"right",width:"35px"},children:"P"}),r.jsx("span",{style:{textAlign:"right",width:"35px"},children:"F"})]}),M.map((L,_)=>{const A=t.find(R=>R.name.toLowerCase().includes(L.name.toLowerCase())||L.name.toLowerCase().includes(R.name.toLowerCase())),O=String(L.scaledAmount).match(/(\d+(?:[.,]\d+)?)/),Y=O?parseFloat(O[1].replace(",",".")):100,U=Math.round(Y/o),J=A?Math.round(A.calories/100*Y/o):0,Q=A?Math.round(A.protein/100*Y/o*10)/10:0,te=A?Math.round(A.fat/100*Y/o*10)/10:0;return r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto auto auto auto",gap:"8px 12px",padding:"4px 0",color:A?"var(--text-primary)":"var(--text-secondary)"},children:[r.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:L.name}),r.jsxs("span",{style:{textAlign:"right",width:"50px",color:"var(--text-secondary)"},children:[U,"g"]}),r.jsx("span",{style:{textAlign:"right",width:"45px",color:"#10b981"},children:J}),r.jsx("span",{style:{textAlign:"right",width:"35px",color:"#a78bfa"},children:Q}),r.jsx("span",{style:{textAlign:"right",width:"35px",color:"#f87171"},children:te})]},_)})]}),r.jsxs("button",{className:`storkok-btn ${o>=8?"active":""}`,onClick:()=>d(L=>L>=8?S:8),children:[" ",o>=8?"Tillbaka till normalt":"Gr till Storkok (8 port)"]}),r.jsxs("div",{className:"portion-selector",children:[r.jsx("span",{className:"portion-icon",children:""}),r.jsx("span",{className:"portion-label",children:"PORTIONER"}),r.jsx("div",{className:"portion-buttons",children:qg.map(L=>r.jsx("button",{className:`portion-btn ${o===L?"active":""}`,onClick:()=>d(L),children:L},L))})]}),r.jsxs("div",{className:"modal-content",children:[r.jsxs("div",{className:"ingredients-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h2",{children:"Ingredienser"}),r.jsx("button",{className:"btn-customize",title:p?"Stng anpassning":"Anpassa ingredienser fr denna mltid",onClick:()=>h(!p),style:{background:p?"var(--primary-color)":void 0,color:p?"white":void 0},children:p?" KLAR":" ANPASSA"})]}),p&&r.jsx("div",{style:{background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"8px",padding:"8px 12px",marginBottom:"12px",fontSize:"12px",color:"var(--text-secondary)"},children:" Klicka p  fr att exkludera eller justera mngd. ndringarna pverkar endast denna mltid."}),r.jsx("ul",{className:"ingredients-list",children:M.map((L,_)=>{const A=g.has(_),O=C.get(_)||1,Y=parseFloat(L.scaledAmount.replace(",",".")),U=En({name:L.name,unit:L.unit,originalText:L.originalText},t),J=isNaN(Y)?`${L.scaledAmount} ${L.unit}`:Ep(Y,L.unit,U||void 0);return r.jsx("li",{className:`ingredient-item ${L.isBoosted?"boosted":""}`,style:{opacity:A?.4:1,textDecoration:A?"line-through":"none"},children:p?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>{const Q=new Set(g);A?Q.delete(_):Q.add(_),b(Q)},style:{width:"24px",height:"24px",borderRadius:"4px",border:"none",background:A?"#ef4444":"#374151",color:"white",cursor:"pointer",marginRight:"8px",fontSize:"12px"},children:A?"":""}),r.jsxs("span",{style:{flex:1},children:[J," ",L.name]}),!A&&r.jsxs("div",{style:{display:"flex",gap:"4px",marginLeft:"8px"},children:[r.jsx("button",{onClick:()=>{const Q=new Map(C);Q.set(_,Math.max(.25,O-.25)),E(Q)},style:{width:"20px",height:"20px",borderRadius:"4px",border:"none",background:"#374151",color:"white",cursor:"pointer",fontSize:"10px"},children:""}),r.jsxs("span",{style:{minWidth:"35px",textAlign:"center",color:O!==1?"#10b981":"inherit",fontWeight:O!==1?"bold":"normal"},children:[Math.round(O*100),"%"]}),r.jsx("button",{onClick:()=>{const Q=new Map(C);Q.set(_,O+.25),E(Q)},style:{width:"20px",height:"20px",borderRadius:"4px",border:"none",background:"#374151",color:"white",cursor:"pointer",fontSize:"10px"},children:"+"})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("input",{type:"checkbox",id:`ing-${_}`}),r.jsxs("label",{htmlFor:`ing-${_}`,children:[J," ",L.name,O!==1&&r.jsxs("span",{style:{color:"#10b981",marginLeft:"4px"},children:["(",Math.round(O*100),"%)"]}),L.isBoosted&&r.jsxs("span",{className:"boost-badge",children:["+",c*50,"%"]})]})]})},_)})}),V&&c<2&&r.jsxs("button",{className:`protein-suggestion ${y?"animating":""}`,onClick:X,children:[r.jsx("span",{className:"suggestion-icon",children:""}),r.jsxs("div",{className:"suggestion-text",children:[r.jsx("strong",{children:"VILL DU HA MER PROTEIN?"}),r.jsxs("span",{children:["Klicka fr att ka ",V.name," med 50%"]})]}),r.jsx("span",{className:"boost-arrow",children:""})]}),c>0&&r.jsxs("div",{className:"protein-boosted-info",children:[r.jsxs("span",{children:[" Protein kat med ",c*50,"%"]}),r.jsx("button",{className:"reset-boost-btn",onClick:Z,children:" ngra"})]}),!1]}),r.jsxs("div",{className:"instructions-section",children:[r.jsx("p",{className:"recipe-description",children:e.description}),r.jsx("h2",{children:"Gr s hr"}),r.jsx("ol",{className:"instructions-list",children:G.map((L,_)=>r.jsxs("li",{className:`instruction-step ${u.has(_)?"completed":""}`,onClick:()=>$(_),children:[r.jsx("span",{className:"step-number",children:u.has(_)?"":_+1}),r.jsx("span",{className:`step-text ${u.has(_)?"line-through":""}`,children:L})]},_))}),r.jsxs("button",{className:"start-cooking-btn",onClick:()=>{const L={},_=1+c*.5,A=["linser","tofu","bnor","kikrtor","tempeh","seitan"];M.forEach((Y,U)=>{let J=C.get(U)||1;A.some(te=>Y.name.toLowerCase().includes(te))&&c>0&&(J=J*_),J!==1&&(L[U]=J)});const O={excludedIndices:Array.from(g),multipliers:L};s(e,o,O)},children:[r.jsx("span",{className:"cooking-icon",children:""}),r.jsxs("div",{className:"cooking-text",children:[r.jsx("strong",{children:"Starta matlagningen"}),r.jsx("span",{children:"ppna det distraktionsfria kkslget."})]})]})]})]})]})})}function Xg({recipeName:e,steps:t,currentStep:n,completedSteps:s,ingredients:a,timer:i,onGoToStep:l,onCompleteStep:o,onEnterZenMode:d,onStartTimer:u,onExit:m}){return v.useEffect(()=>{const c=f=>{f.key==="Escape"&&m()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[m]),r.jsxs("div",{className:"cooking-session",children:[r.jsxs("header",{className:"cooking-header",children:[r.jsxs("div",{className:"cooking-title",children:[r.jsx("span",{className:"cooking-label",children:"KKSLGE AKTIVT"}),r.jsx("h1",{children:e})]}),r.jsx("div",{className:"cooking-actions",children:r.jsx("button",{className:"btn-exit",onClick:m,children:" Avsluta"})})]}),r.jsxs("button",{className:"zen-mode-btn",onClick:d,children:[r.jsx("span",{className:"zen-icon",children:""}),"Starta Zen Mode (Steg-fr-steg)"]}),r.jsx("div",{className:"steps-list",children:t.map((c,f)=>{const y=s.includes(f),j=f===n;return r.jsxs("div",{className:`step-item ${y?"completed":""} ${j?"current":""}`,onClick:()=>l(f),children:[r.jsx("div",{className:"step-number",children:y?r.jsx("span",{className:"check-icon",children:""}):r.jsx("span",{children:f+1})}),r.jsxs("div",{className:"step-content",children:[r.jsx("p",{className:"step-text",children:c.text}),c.ingredients.length>0&&r.jsx("div",{className:"step-ingredients",children:c.ingredients.map((k,T)=>r.jsx("span",{className:"ingredient-badge",children:k.originalText},T))}),c.timerMinutes&&r.jsxs("button",{className:"step-timer-btn",onClick:k=>{k.stopPropagation(),u(f,c.timerMinutes)},children:[" ",c.timerMinutes," min"]})]}),r.jsx("button",{className:"step-check-btn",onClick:k=>{k.stopPropagation(),o(f)},children:y?"":""})]},f)})}),i&&i.status==="running"&&r.jsxs("div",{className:"floating-timer",onClick:()=>l(i.stepIndex),style:{cursor:"pointer"},title:`G till steg ${i.stepIndex+1}`,children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[r.jsxs("span",{className:"timer-label",style:{fontSize:"0.8em",opacity:.9},children:[" ",i.label]}),r.jsxs("span",{style:{fontSize:"0.7em",textTransform:"uppercase",opacity:.7},children:["Steg ",i.stepIndex+1]})]}),r.jsx("span",{className:"timer-value",children:pl(i.remainingSeconds)})]})]})}function Zg({recipeName:e,steps:t,ingredients:n,foodItems:s,currentStep:a,timer:i,activeTimers:l=[],onNextStep:o,onPreviousStep:d,onStartTimer:u,onPauseTimer:m,onResetTimer:c,onExit:f,onGoToStep:y}){const j=t[a],k=t.length,T=(a+1)/k*100,[p,h]=Hs.useState(0);return v.useEffect(()=>{j!=null&&j.timerMinutes&&h(j.timerMinutes)},[j]),v.useEffect(()=>{const g=b=>{switch(b.key){case"ArrowRight":case" ":b.preventDefault(),o();break;case"ArrowLeft":b.preventDefault(),d();break;case"Escape":f();break;case"t":case"T":i?i.status==="running"?m():u():j!=null&&j.timerMinutes&&u(p||j.timerMinutes);break}};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[o,d,f,i,u,m]),j?r.jsxs("div",{className:"zen-mode",children:[r.jsxs("header",{className:"zen-header",children:[r.jsxs("span",{className:"zen-title",children:[e.toUpperCase(),"  STEG ",a+1," AV ",k]}),r.jsx("button",{className:"zen-exit-btn",onClick:f,children:" AVSLUTA"})]}),r.jsx("div",{className:"zen-progress",children:r.jsx("div",{className:"zen-progress-fill",style:{width:`${T}%`}})}),r.jsxs("main",{className:"zen-content",children:[j.ingredients.length>0&&(()=>{const g=j.ingredients.map(E=>{for(let x=0;x<a;x++){const w=t[x];if(w.ingredients.some(P=>P.originalText===E.originalText)){const P=w.text.toLowerCase();E.name.toLowerCase();let M="";return P.includes("trna")&&(M="Trnad"),P.includes("hacka")&&(M="Hackad"),P.includes("skiva")&&(M="Skivad"),P.includes("strimla")&&(M="Strimlad"),P.includes("riv")&&(M="Riven"),P.includes("mosa")&&(M="Mosad"),P.includes("stek")&&(M="Stekt"),P.includes("koka")&&(M="Kokt"),{used:!0,state:M}}}return{used:!1,state:""}}),b=g.every(E=>E.used);g.some(E=>E.used);const C=b?" TILLSTT":" HLL I DETTA NU";return r.jsxs("div",{className:"zen-ingredient-context",children:[r.jsx("span",{className:"context-label",children:C}),r.jsx("div",{className:"context-ingredients-list",style:{display:"flex",flexWrap:"wrap",gap:"8px",justifyContent:"center"},children:j.ingredients.map((E,x)=>{const w=n.find(V=>V.originalText===E.originalText);if(!w||w.isExcluded)return null;const S=g[x],P=parseFloat(w.scaledAmount.replace(",",".")),M=En({name:w.name,originalText:w.originalText,unit:w.unit},s),D=isNaN(P)?`${w.scaledAmount} ${w.unit}`:Ep(P,w.unit,M||void 0),G=S.used&&S.state?`${S.state} ${w.name}`:w.name;return r.jsxs("span",{className:"context-ingredient-chip",style:{background:S.used?"rgba(16, 185, 129, 0.2)":"rgba(255,255,255,0.1)",border:S.used?"1px solid rgba(16, 185, 129, 0.3)":"none",padding:"4px 8px",borderRadius:"4px",whiteSpace:"nowrap"},children:[r.jsx("span",{style:{opacity:S.used?.7:1},children:D})," ",G,w.customMultiplier&&w.customMultiplier!==1&&r.jsxs("span",{style:{color:"#10b981",marginLeft:"4px",fontSize:"0.8em"},children:["(",Math.round(w.customMultiplier*100),"%)"]})]},x)})})]})})(),r.jsx("p",{className:"zen-step-text",children:j.text}),(j.timerMinutes||i)&&r.jsxs("div",{className:"zen-timer-section",children:[r.jsx("div",{className:"zen-timer-display",children:pl((i==null?void 0:i.remainingSeconds)||(p||0)*60)}),r.jsxs("div",{className:"zen-timer-controls",children:[!i&&j.isManualTimer&&r.jsxs("div",{className:"timer-adjust-controls",style:{display:"flex",gap:"8px",marginBottom:"8px",justifyContent:"center"},children:[r.jsx("button",{className:"zen-adjust-btn",onClick:()=>h(g=>Math.max(1,g-1)),children:"-1m"}),r.jsx("button",{className:"zen-adjust-btn",onClick:()=>h(g=>Math.max(1,g-5)),children:"-5m"}),r.jsx("button",{className:"zen-adjust-btn",onClick:()=>h(g=>g+5),children:"+5m"}),r.jsx("button",{className:"zen-adjust-btn",onClick:()=>h(g=>g+1),children:"+1m"})]}),(i==null?void 0:i.status)==="running"?r.jsx("button",{className:"timer-btn",onClick:m,children:" PAUSA"}):r.jsx("button",{className:"timer-btn timer-btn-primary",onClick:()=>u(p),children:" STARTA TIMER"}),r.jsx("button",{className:"timer-btn timer-btn-icon",onClick:c,children:""})]})]})]}),r.jsxs("footer",{className:"zen-nav",children:[r.jsx("button",{className:"zen-nav-btn zen-nav-prev",onClick:d,disabled:a===0,children:" FREGENDE"}),(()=>{const g=l.filter(b=>b.status==="running");return g.length===0?null:r.jsx("div",{className:"zen-timers-overlay",style:{position:"fixed",bottom:"80px",right:"20px",display:"flex",flexDirection:"column",gap:"8px",zIndex:100,pointerEvents:"none"},children:g.map(b=>r.jsxs("div",{className:"zen-timer-toast",style:{background:"rgba(0,0,0,0.8)",padding:"8px 12px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",color:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",pointerEvents:"auto",backdropFilter:"blur(4px)",border:"1px solid rgba(255,255,255,0.1)"},children:[r.jsxs("div",{style:{display:"flex",flexDirection:"column",cursor:"pointer",minWidth:"80px"},onClick:()=>y&&y(b.stepIndex),title:`G till ${b.label}`,children:[r.jsx("span",{style:{fontSize:"0.75em",opacity:.8,textTransform:"uppercase",letterSpacing:"0.5px"},children:b.label}),r.jsx("span",{style:{fontWeight:"bold",fontFamily:"monospace",fontSize:"1.1em"},children:pl(b.remainingSeconds)})]}),r.jsx("span",{className:"pulsing-dot",style:{width:"8px",height:"8px",borderRadius:"50%",background:"#34d399",boxShadow:"0 0 8px #34d399"}})]},b.id))})})(),r.jsx("button",{className:`zen-nav-btn zen-nav-next ${a===k-1?"zen-nav-finish":""}`,onClick:a===k-1?f:o,children:a===k-1?"Smaklig mltid! ":"Nsta steg "})]})]}):null}const Ap=v.createContext(null);function Mp(){const e=v.useContext(Ap);if(!e)throw new Error("useCooking must be used within CookingModeProvider");return e}function e0({children:e}){const{foodItems:t,recipes:n,addMealEntry:s}=Fe(),[a,i]=v.useState(null),{session:l,steps:o,scaledIngredients:d,startSession:u,endSession:m,goToStep:c,nextStep:f,previousStep:y,completeStep:j,startCooking:k,enterZenMode:T}=Hg(),{timers:p,activeTimer:h,addTimer:g,startTimer:b,pauseTimer:C,resetTimer:E,getTimerForStep:x}=Yg(),w=v.useCallback($=>{i($)},[]),S=()=>{i(null)},P=($,X,Z)=>{u($,X,Z),k()},M=v.useCallback(()=>{if(l){const $=new Date().toISOString().split("T")[0],X=new Date().getHours(),Z=X<10?"breakfast":X<14?"lunch":X<18?"dinner":"snack";s({date:$,mealType:Z,items:[{type:"recipe",referenceId:l.recipeId,servings:l.portions,verified:!0}]})}m()},[l,s,m]),D=($,X)=>{const Z=x($);if(Z)b(Z.id);else{const L=o[$],_=(L==null?void 0:L.timerLabel)||`Steg ${$+1}`,A=g(_,X,$);b(A)}},G=l&&x(l.currentStep)||null,V={openRecipe:w,isActive:l!==null&&l.status!=="preview"};return r.jsxs(Ap.Provider,{value:V,children:[e,a&&r.jsx(Jg,{recipe:a,foodItems:t,onClose:S,onStartCooking:P,isActive:!l}),l&&l.status==="cooking"&&r.jsx(Xg,{recipeName:l.recipeName,steps:o,currentStep:l.currentStep,completedSteps:l.completedSteps,ingredients:d,timer:h,onGoToStep:c,onCompleteStep:j,onEnterZenMode:T,onStartTimer:D,onExit:M}),l&&l.status==="zen"&&r.jsx(Zg,{recipeName:l.recipeName,steps:o,ingredients:d,foodItems:t,currentStep:l.currentStep,timer:G,activeTimers:p,onNextStep:f,onPreviousStep:y,onGoToStep:c,onStartTimer:$=>{const X=o[l.currentStep],Z=$||(X==null?void 0:X.timerMinutes);Z&&D(l.currentStep,Z)},onPauseTimer:()=>h&&C(h.id),onResetTimer:()=>h&&E(h.id),onExit:M})]})}const t0={sm:{icon:24,fontSize:"text-base"},md:{icon:32,fontSize:"text-xl"},lg:{icon:48,fontSize:"text-3xl"}};function n0({size:e="md",showText:t=!0}){const{icon:n,fontSize:s}=t0[e];return r.jsxs("div",{className:"flex items-center gap-2 select-none",children:[r.jsxs("svg",{width:n,height:n,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-emerald-500",children:[r.jsx("path",{d:"M24 4C24 4 8 12 8 28C8 36 14 44 24 44C34 44 40 36 40 28C40 12 24 4 24 4Z",fill:"url(#leafGradient)"}),r.jsx("path",{d:"M24 44V28",className:"stroke-emerald-600",strokeWidth:"3",strokeLinecap:"round"}),r.jsx("path",{d:"M24 28C18 24 14 20 14 16",className:"stroke-white/30",strokeWidth:"2",strokeLinecap:"round"}),r.jsx("path",{d:"M24 28C30 24 34 20 34 16",className:"stroke-white/30",strokeWidth:"2",strokeLinecap:"round"}),r.jsx("defs",{children:r.jsxs("linearGradient",{id:"leafGradient",x1:"24",y1:"4",x2:"24",y2:"44",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#4ade80"}),r.jsx("stop",{offset:"1",stopColor:"#22c55e"})]})})]}),t&&r.jsx("span",{className:`${s} font-bold text-slate-100 tracking-tight`,children:"Greens"})]})}function r0(){const{theme:e,toggleTheme:t}=Gt(),[n,s]=v.useState(!1),a=Vt(),i=["/admin","/database","/api","/documentation"].some(d=>a.pathname===d),l=({isActive:d})=>`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${d?"text-emerald-400 bg-emerald-500/10 shadow-[0_0_15px_rgba(16,185,129,0.15)] ring-1 ring-emerald-500/20":"text-slate-400 hover:text-slate-100 hover:bg-white/5"}`,o=({isActive:d})=>`flex items-center gap-4 px-3 py-3 rounded-2xl transition-all duration-200 ${d?"bg-emerald-500/10 text-emerald-400 ring-1 ring-emerald-500/25 shadow-lg shadow-emerald-500/10":"text-slate-400 hover:bg-white/5 hover:text-slate-100"}`;return r.jsxs("nav",{className:"sticky top-0 z-[100] w-full bg-slate-950/80 backdrop-blur-xl border-b border-white/5",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(me,{to:"/",className:"flex items-center gap-2 group",children:r.jsx(n0,{size:"sm",showText:!0})})}),r.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[r.jsxs("div",{className:"flex items-center gap-1 border-r border-white/5 pr-2 mr-2",children:[r.jsxs(me,{to:"/",end:!0,className:l,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"Veckan"})]}),r.jsxs(me,{to:"/planera",className:l,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"Planera"})]}),r.jsxs(me,{to:"/calories",className:l,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"Kalorier"})]}),r.jsxs(me,{to:"/training",className:l,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"Trning"})]}),r.jsxs(me,{to:"/pantry",className:l,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"Skafferi"})]}),r.jsxs(me,{to:"/recipes",className:l,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"Recept"})]})]}),r.jsxs("div",{className:"relative group",children:[r.jsxs("button",{className:`${l({isActive:i})} flex items-center gap-1`,children:[r.jsx("span",{children:""}),r.jsx("span",{className:"hidden xl:inline",children:"System"}),r.jsx("span",{className:"text-[10px] opacity-50 ml-1 group-hover:rotate-180 transition-transform",children:""})]}),r.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-slate-900 border border-white/10 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.5)] opacity-0 invisible translate-y-2 group-hover:opacity-100 group-hover:visible group-hover:translate-y-0 transition-all duration-200 z-[100] p-1.5 backdrop-blur-xl",children:r.jsxs("div",{className:"grid gap-1",children:[r.jsxs(me,{to:"/admin?tab=audit",className:l,children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs(me,{to:"/admin?tab=database",className:l,children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Databas"})]}),r.jsxs(me,{to:"/admin?tab=api",className:l,children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"API"})]}),r.jsxs(me,{to:"/admin?tab=docs",className:l,children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Regler"})]}),r.jsx("div",{className:"border-t border-white/5 my-1"}),r.jsxs(me,{to:"/admin?tab=users",className:l,children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Anvndare"})]}),r.jsxs(me,{to:"/admin?tab=roadmap",className:l,children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Roadmap"})]})]})})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:t,className:"w-9 h-9 flex items-center justify-center rounded-lg bg-slate-900 border border-slate-800 text-slate-400 hover:text-amber-400 hover:border-amber-400/50 hover:bg-amber-400/10 transition-all font-medium",title:e==="dark"?"Byt till ljust lge":"Byt till mrkt lge",children:e==="dark"?"":""}),r.jsx(me,{to:"/profile",className:({isActive:d})=>`w-9 h-9 flex items-center justify-center rounded-lg border transition-all ${d?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-slate-900 border-slate-800 text-slate-400 hover:text-emerald-400 hover:border-emerald-500/30"}`,children:r.jsx("span",{children:""})}),r.jsx("button",{className:"lg:hidden w-9 h-9 flex items-center justify-center rounded-lg bg-slate-900 border border-slate-800 text-slate-400 hover:text-white",onClick:()=>s(!n),children:""})]})]})}),n&&r.jsxs("div",{className:"lg:hidden border-t border-white/5 bg-slate-950 px-4 py-4 space-y-4",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-2 px-3",children:"Daily Drivers"}),r.jsxs(me,{to:"/",end:!0,className:o,onClick:()=>s(!1),children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-slate-100",children:"Veckan"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"versikt"})]})]}),r.jsxs(me,{to:"/planera",className:o,onClick:()=>s(!1),children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-slate-100",children:"Planera"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Mltider & Pass"})]})]}),r.jsxs(me,{to:"/calories",className:o,onClick:()=>s(!1),children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-slate-100",children:"Kalorier"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Logga mat"})]})]}),r.jsxs(me,{to:"/training",className:o,onClick:()=>s(!1),children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-slate-100",children:"Trning"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Logga pass"})]})]}),r.jsxs(me,{to:"/pantry",className:o,onClick:()=>s(!1),children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-slate-100",children:"Skafferi"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Hantera ingredienser"})]})]}),r.jsxs(me,{to:"/recipes",className:o,onClick:()=>s(!1),children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-bold text-slate-100",children:"Recept"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-medium",children:"Hitta & skapa"})]})]})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-2 px-3",children:"System & Verktyg"}),r.jsxs(me,{to:"/admin?tab=audit",className:l,onClick:()=>s(!1),children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs(me,{to:"/admin?tab=database",className:l,onClick:()=>s(!1),children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Databas"})]}),r.jsxs(me,{to:"/admin?tab=api",className:l,onClick:()=>s(!1),children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"API"})]}),r.jsxs(me,{to:"/admin?tab=docs",className:l,onClick:()=>s(!1),children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Regler"})]}),r.jsxs(me,{to:"/admin?tab=users",className:l,onClick:()=>s(!1),children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Anvndare"})]}),r.jsxs(me,{to:"/admin?tab=roadmap",className:l,onClick:()=>s(!1),children:[r.jsx("span",{className:"w-5 text-center",children:""}),r.jsx("span",{children:"Roadmap"})]})]})]})]})}function s0({children:e}){return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(r0,{}),r.jsx("main",{className:"flex-1 w-full max-w-[1536px] mx-auto p-4 md:p-8",children:e})]})}function a0({weekNumber:e,weekStartDate:t,onPrevWeek:n,onNextWeek:s,onRandomizeWeek:a}){return r.jsxs("div",{className:"weekly-header",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-100",children:"Veckans Meny"}),r.jsxs("div",{className:"week-nav",children:[r.jsx("button",{className:"nav-btn",onClick:n,"aria-label":"Fregende vecka",children:""}),r.jsxs("div",{className:"week-display",children:[r.jsx("span",{className:"week-label",children:"VECKA"}),r.jsx("span",{className:"week-number",children:e})]}),r.jsx("button",{className:"nav-btn",onClick:s,"aria-label":"Nsta vecka",children:""})]}),r.jsx("div",{className:"header-actions",children:a&&r.jsx("button",{className:"btn btn-secondary",onClick:a,title:"Slumpa tomma platser",children:" Slumpa veckan"})})]})}function Oc({meal:e,planned:t,recipe:n,proteinPerServing:s,foodItems:a=[],suggestions:i=[],onSelect:l,onCook:o,onRemove:d,onQuickSelect:u,onShuffleMeal:m,onDragStart:c,onDragOver:f,onDrop:y,onMagicWand:j}){var S;const[k,T]=v.useState(!1),p=!!(t!=null&&t.recipeId)&&!!n,h=!!(t!=null&&t.cookedAt),g=!!(t!=null&&t.swaps&&Object.keys(t.swaps).length>0),b=bp[e]||"text-slate-400 bg-slate-500/10",C=v.useMemo(()=>{if(!g||!(t!=null&&t.swaps))return"";const P=[];return Object.entries(t.swaps).forEach(([M,D])=>{const G=a.find($=>$.id===M),V=a.find($=>$.id===D);G&&V&&P.push(`${V.name} (istf ${G.name})`)}),P.join(`
`)},[g,t==null?void 0:t.swaps,a]),E=()=>{p?o():l()},x=P=>{p&&c&&(P.dataTransfer.setData("text/plain",n.id),P.dataTransfer.effectAllowed="move",c(P))},w=["meal-slot",e,p?"has-recipe":"empty",h&&"cooked",k&&"hovered"].filter(Boolean).join(" ");return r.jsxs("div",{className:w,onClick:E,onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),draggable:p,onDragStart:x,onDragOver:f,onDrop:y,children:[r.jsxs("div",{className:"meal-slot-header",children:[r.jsxs("div",{className:"meal-type-row",children:[r.jsx("span",{className:`meal-type ${b}`,children:Xe[e]}),p&&r.jsxs("div",{className:"header-meta",children:[r.jsxs("span",{children:["",n.cookTime||0,"'"]}),r.jsxs("span",{children:["",(t==null?void 0:t.servings)||n.servings||4]}),s&&r.jsxs("span",{className:"protein-inline",children:["",s,"g"]}),((S=n.seasons)==null?void 0:S.includes(new Date().getMonth()>=2&&new Date().getMonth()<=4?"spring":new Date().getMonth()>=5&&new Date().getMonth()<=7?"summer":new Date().getMonth()>=8&&new Date().getMonth()<=10?"autumn":"winter"))&&r.jsx("span",{className:"health-status-icon-sm",title:"I ssong",children:""}),n.priceCategory==="budget"&&r.jsx("span",{className:"health-status-icon-sm",title:"Budgetpris",children:""})]})]}),r.jsxs("div",{className:"slot-actions",children:[p&&d&&r.jsx("button",{className:"meal-remove-btn",onClick:P=>{P.stopPropagation(),d()},title:"Ta bort recept",children:""}),!p&&m&&r.jsx("button",{className:"meal-shuffle-btn",onClick:P=>{P.stopPropagation(),m()},title:"Slumpa mltid",children:""}),!p&&j&&r.jsx("button",{className:"meal-magic-btn",onClick:P=>{P.stopPropagation(),j()},title:"Fyll med smart val",children:""})]})]}),p?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"recipe-row",children:[r.jsx("span",{className:"recipe-name",children:n.name.length>25?n.name.substring(0,25)+"...":n.name}),h&&r.jsx("span",{className:"cooked-badge",children:""})]}),g&&r.jsxs("div",{className:"swap-indicator",title:C,children:[r.jsx("span",{className:"swap-badge",children:" Modifierat"}),r.jsxs("span",{className:"swap-count",children:[Object.keys(t.swaps).length," byte",Object.keys(t.swaps).length>1?"n":""]})]})]}):r.jsxs("div",{className:"empty-content",children:[r.jsx("span",{className:"empty-text",children:"Lgg till recept"}),k&&i.length>0&&r.jsx("div",{className:"hover-suggestions",children:i.slice(0,3).map(P=>r.jsx("button",{className:"suggestion-chip",onClick:M=>{M.stopPropagation(),u==null||u(P.id)},children:P.name.length>18?P.name.substring(0,18)+"...":P.name},P.id))})]})]})}function i0(e,t=7){const n=[],s=new Date;for(let a=t-1;a>=0;a--){const i=new Date(s);i.setDate(s.getDate()-a);const l=i.toISOString().split("T")[0];n.push({date:l,vitals:e[l]||{water:0,sleep:0,updatedAt:""}})}return n}function l0(e){return e<5?{color:"rose",status:"Bristfllig",description:"Fr lite smn kan snka din frbrnning och ka hungerhormoner."}:e<8?{color:"amber",status:"Rimlig",description:"Bra, men sk 8h fr optimal terhmtning."}:{color:"emerald",status:"Optimal",description:"Utmrkt smn! Din kropp har de bsta frutsttningarna."}}function o0({vitals:e,onUpdate:t}){const{dailyVitals:n}=Fe(),{settings:s}=Gt(),[a,i]=v.useState(!1),l=v.useMemo(()=>i0(n,7),[n]),o=v.useMemo(()=>l0(e.sleep),[e.sleep]),d=s.dailyWaterGoal||8,u=j=>{e.water===j?t({water:j-1}):t({water:j})},m=j=>{const k=e.caffeine||0;t({caffeine:k+1,water:e.water+1})},c=j=>{t({sleep:parseFloat(j.target.value)||0})},y={rose:{bg:"bg-rose-500/10",text:"text-rose-400",border:"border-rose-500/20",accent:"accent-rose-500",hover:"hover:accent-rose-400",bar:"bg-rose-500/40"},amber:{bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/20",accent:"accent-amber-500",hover:"hover:accent-amber-400",bar:"bg-amber-500/40"},emerald:{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/20",accent:"accent-emerald-500",hover:"hover:accent-emerald-400",bar:"bg-emerald-500/40"}}[o.color];return r.jsxs("div",{className:"daily-vitals-module mt-4 pt-4 border-t border-white/5 space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center px-1",children:[r.jsx("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Bio-Vitals"}),r.jsx("button",{onClick:()=>i(!a),className:"text-[9px] font-bold text-emerald-400/60 hover:text-emerald-400 transition-colors uppercase tracking-widest",children:a?"Dlj Analys":"Visa Analys"})]}),a&&r.jsx("div",{className:"p-3 bg-slate-900/50 rounded-2xl border border-white/5 animate-in fade-in slide-in-from-top-2 duration-300",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded ${y.bg} ${y.text}`,children:o.status}),r.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed italic",children:o.description})]})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"flex justify-between items-end px-1",children:r.jsxs("span",{className:"text-[10px] font-bold text-sky-400 flex items-center gap-1",children:[" ",e.water,r.jsxs("span",{className:"opacity-40",children:["/",d]})]})}),r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6].map(j=>r.jsx("div",{onClick:()=>u(j),className:`h-1.5 flex-1 rounded-full cursor-pointer transition-all ${e.water>=j?"bg-sky-400 shadow-[0_0_8px_rgba(56,189,248,0.4)]":"bg-slate-800"}`},j))})]}),r.jsxs("div",{className:"w-24 space-y-2",children:[r.jsx("div",{className:"flex justify-between items-end px-1",children:r.jsxs("span",{className:"text-[10px] font-bold text-amber-400",children:[" ",e.caffeine||0]})}),r.jsxs("div",{className:"flex gap-1 justify-end",children:[r.jsx("button",{onClick:()=>m(),className:"text-xs hover:scale-110 transition-transform",title:"Kaffe",children:""}),r.jsx("button",{onClick:()=>m(),className:"text-xs hover:scale-110 transition-transform",title:"Nocco",children:""})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between items-end px-1",children:[r.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"SMN"}),r.jsxs("span",{className:`text-xs font-black ${y.text}`,children:[e.sleep.toFixed(1),"h"]})]}),r.jsx("input",{type:"range",min:"0",max:"12",step:"0.5",value:e.sleep,onChange:c,className:`w-full h-1 bg-slate-800/50 rounded-lg appearance-none cursor-pointer ${y.accent} ${y.hover} transition-all`})]}),r.jsx("div",{className:"h-6 flex items-end gap-1 px-1 opacity-50 hover:opacity-100 transition-opacity",children:l.map((j,k)=>r.jsxs("div",{className:"flex-1 h-full flex flex-col justify-end gap-[1px]",children:[r.jsx("div",{className:"w-full bg-sky-400/40 rounded-t-[1px]",style:{height:`${Math.min(100,j.vitals.water/d*100)}%`}}),r.jsx("div",{className:"w-full bg-indigo-400/40 rounded-t-[1px]",style:{height:`${Math.min(100,j.vitals.sleep/12*100)}%`}})]},k))})]})}function c0(e,t,n,s){let a=0,i=0,l=0;const o=[],d=s.dailyCalorieGoal||2e3,u=Math.abs(e.calories-d),m=Math.max(0,1-u/(d*.3));a+=m*20;const c=s.dailyProteinGoal||150,f=Math.min(1,e.protein/c);if(a+=f*20,m>.9&&f>.9)o.push("Perfekt nringsintag! ");else if(f<.7&&o.push(`ka proteinintaget (+${Math.round(c-e.protein)}g). `),m<.8){const g=Math.round(d-e.calories);o.push(g>0?`Du ligger under kcal-mlet (-${g} kcal). `:`Du ligger ver kcal-mlet (+${Math.abs(g)} kcal). `)}const y=n.reduce((g,b)=>g+b.caloriesBurned,0);n.length>0?(i=30,o.push("Snyggt jobbat med trningen! ")):y>200?(i=20,o.push("Bra vardagsmotion! ")):o.push("En vilodag behvs ibland, ladda om! ");const j=s.dailyWaterGoal||8,k=Math.min(1.2,t.water/j);l+=Math.min(15,k*15);const T=s.dailySleepGoal||8,p=Math.min(1,t.sleep/T);return l+=p*15,t.water<j&&o.push(`Drick  ${j-t.water} glas till fr full pott.`),t.sleep<T&&o.push(`Sikta p  ${T-t.sleep}h mer smn inatt.`),t.water>=j&&t.sleep>=T&&o.push("Vitals r p topp! "),{total:Math.round(a+i+l),nutrition:Math.round(a),activity:Math.round(i),vitals:Math.round(l),messages:o}}const zc={monday:"MN",tuesday:"TIS",wednesday:"ONS",thursday:"TOR",friday:"FRE",saturday:"LR",sunday:"SN"};function d0({day:e,dateStr:t,dateNumber:n,isToday:s,isPast:a,isYesterday:i,meals:l,dayAnalysis:o,visibleMeals:d,recipes:u,foodItems:m,getSuggestions:c,onMealClick:f,onCookMeal:y,onRemoveMeal:j,onShuffleDay:k,onShuffleMeal:T,onQuickSelect:p,onDragStart:h,onDrop:g,onMagicWand:b,vitals:C,onUpdateVitals:E,exercises:x=[]}){const[w,S]=v.useState(!1),{settings:P}=Gt(),[M,D]=v.useState(!1),G=A=>{if(A!=null&&A.recipeId)return u.find(O=>O.id===A.recipeId)},V=(A,O)=>{if(!(A!=null&&A.ingredientsText))return;const Y=jt(A.ingredientsText,m,O==null?void 0:O.swaps),U=(O==null?void 0:O.servings)||A.servings||4;return Math.round(Y.protein/U)},$=A=>{A.preventDefault(),A.dataTransfer.dropEffect="move"},X=v.useMemo(()=>{let A=0,O=0,Y=0,U=0;return d.forEach(J=>{const Q=l[J],te=G(Q);if(te!=null&&te.ingredientsText&&Q){const R=jt(te.ingredientsText,m,Q.swaps),ee=Q.servings||te.servings||4;A+=Math.round(R.calories/ee),O+=Math.round(R.protein/ee),Y+=Math.round(R.carbs/ee),U+=Math.round(R.fat/ee)}}),{calories:A,protein:O,carbs:Y,fat:U,fiber:0}},[l,d,u,m]),Z=v.useMemo(()=>C?c0(X,C,x,P):null,[X,C,x,P]),L=["day-card-wrapper",w&&"is-flipped"].filter(Boolean).join(" "),_=["day-card",s&&"today",a&&"past",i&&"yesterday"].filter(Boolean).join(" ");return r.jsxs("div",{className:L,"data-date-number":n,children:[r.jsxs("div",{className:`day-card-front ${_}`,children:[r.jsx("span",{className:"date-watermark",children:n}),r.jsxs("div",{className:"day-card-header",children:[r.jsxs("div",{className:"day-info",children:[r.jsx("span",{className:"day-name",children:zc[e]}),r.jsx("span",{className:"day-date",children:t}),Z&&r.jsxs("div",{className:"daily-score-badge ml-2",onClick:A=>{A.stopPropagation(),D(!0)},children:[r.jsx("span",{className:"score-label",children:"Synergy"}),r.jsx("span",{className:"score-value",children:Z.total})]})]}),r.jsx("div",{className:"day-actions",children:r.jsx("button",{className:"flip-btn",onClick:A=>{A.stopPropagation(),S(!0)},title:"Vnd kortet",children:""})})]}),M&&Z&&r.jsx("div",{className:"score-modal-overlay",onClick:()=>D(!1),children:r.jsxs("div",{className:"score-modal p-6 space-y-4",onClick:A=>A.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("h3",{className:"text-sm font-black text-slate-500 uppercase tracking-widest",children:"Dagens Analys"}),r.jsxs("div",{className:"text-2xl font-black text-white",children:[Z.total,r.jsx("span",{className:"text-[10px] text-emerald-500",children:"/100"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[r.jsx("span",{children:"Nring"}),r.jsxs("span",{className:"text-white",children:[Z.nutrition,"/40"]})]}),r.jsx("div",{className:"score-progress-bar",children:r.jsx("div",{className:"score-progress-fill bg-emerald-500",style:{width:`${Z.nutrition/40*100}%`}})})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[r.jsx("span",{children:"Trning"}),r.jsxs("span",{className:"text-white",children:[Z.activity,"/30"]})]}),r.jsx("div",{className:"score-progress-bar",children:r.jsx("div",{className:"score-progress-fill bg-sky-500",style:{width:`${Z.activity/30*100}%`}})})]}),r.jsxs("div",{className:"space-y-1.5",children:[r.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[r.jsx("span",{children:"Vitals"}),r.jsxs("span",{className:"text-white",children:[Z.vitals,"/30"]})]}),r.jsx("div",{className:"score-progress-bar",children:r.jsx("div",{className:"score-progress-fill bg-indigo-500",style:{width:`${Z.vitals/30*100}%`}})})]})]}),r.jsx("div",{className:"space-y-2 mt-6 pt-4 border-t border-white/5",children:Z.messages.map((A,O)=>r.jsxs("div",{className:"text-[11px] text-slate-300 flex items-start gap-2 leading-relaxed",children:[r.jsx("span",{className:"text-emerald-500 mt-1",children:""}),r.jsx("span",{children:A})]},O))}),r.jsx("button",{onClick:()=>D(!1),className:"w-full mt-4 py-3 bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-black uppercase tracking-widest rounded-2xl transition-all border border-white/5 active:scale-95",children:"Stng"})]})}),X.calories>0&&r.jsxs("div",{className:"day-totals",children:[r.jsxs("span",{className:"total-item",children:[" ",X.calories," kcal"]}),r.jsxs("span",{className:"total-item",children:[" ",X.protein,"g"]})]}),r.jsxs("div",{className:"day-meals space-y-4",children:[r.jsx("div",{className:"main-meals",children:d.filter(A=>A!=="snack"&&A!=="beverage").map(A=>{const O=l[A],Y=G(O),U=V(Y,O),J=(c==null?void 0:c(A))||[];return r.jsx(Oc,{meal:A,planned:O,recipe:Y,proteinPerServing:U,foodItems:m,suggestions:J,onSelect:()=>f(A),onCook:()=>Y&&y(A,Y),onRemove:()=>j==null?void 0:j(A),onQuickSelect:Q=>p==null?void 0:p(A,Q),onShuffleMeal:()=>T==null?void 0:T(A),onDragStart:Q=>(O==null?void 0:O.recipeId)&&(h==null?void 0:h(Q,A,O.recipeId)),onDragOver:$,onDrop:Q=>g==null?void 0:g(Q,A),onMagicWand:()=>b==null?void 0:b(A)},A)})}),(d.includes("snack")||d.includes("beverage"))&&r.jsxs("div",{className:"extra-meals mt-6 pt-4 border-t border-white/5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"vrigt"}),r.jsx("div",{className:"h-[1px] flex-1 bg-white/5"})]}),r.jsx("div",{className:"space-y-2",children:d.filter(A=>A==="snack"||A==="beverage").map(A=>{const O=l[A],Y=G(O),U=V(Y,O),J=(c==null?void 0:c(A))||[];return r.jsx(Oc,{meal:A,planned:O,recipe:Y,proteinPerServing:U,foodItems:m,suggestions:J,onSelect:()=>f(A),onCook:()=>Y&&y(A,Y),onRemove:()=>j==null?void 0:j(A),onQuickSelect:Q=>p==null?void 0:p(A,Q),onShuffleMeal:()=>T==null?void 0:T(A),onDragStart:Q=>(O==null?void 0:O.recipeId)&&(h==null?void 0:h(Q,A,O.recipeId)),onDragOver:$,onDrop:Q=>g==null?void 0:g(Q,A),onMagicWand:()=>b==null?void 0:b(A)},A)})})]})]}),C&&E&&r.jsx(o0,{vitals:C,onUpdate:E})]}),r.jsx("div",{className:"day-card-back",children:r.jsxs("div",{className:"back-content",children:[r.jsxs("h3",{className:"back-title",children:[zc[e]," - Ignorerad"]}),r.jsx("p",{className:"back-text",children:"Denna dag r vnd/ignorerad"}),r.jsx("button",{className:"unflip-btn",onClick:()=>S(!1),children:"terstll "})]})})]})}function u0({isOpen:e,onClose:t,editingSlot:n,currentPlannedMeal:s,onSelectRecipe:a,onRemoveMeal:i,onSave:l,getSuggestions:o}){const{recipes:d,foodItems:u}=Fe(),[m,c]=v.useState(""),[f,y]=v.useState("alla"),[j,k]=v.useState((s==null?void 0:s.recipeId)||""),[T,p]=v.useState((s==null?void 0:s.swaps)||{});v.useEffect(()=>{const S=P=>{P.key==="Escape"&&e&&t()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[e,t]),v.useEffect(()=>{e&&(s!=null&&s.recipeId)?(k(s.recipeId),p(s.swaps||{})):e&&(k(""),p({}))},[e,s]);const h=(S,P)=>{p(M=>{const D={...M};return D[S]===P?delete D[S]:D[S]=P,D})},g=v.useMemo(()=>{if(!n)return[];let S=d;if(m){const P=m.toLowerCase();S=S.filter(M=>M.name.toLowerCase().includes(P)||(M.ingredientsText||"").toLowerCase().includes(P))}return f==="snabba"?S=S.filter(P=>(P.cookTime||60)<=20):f==="vegetariskt"&&(S=S.filter(P=>{const M=(P.ingredientsText||"").toLowerCase();return!M.includes("kyckling")&&!M.includes("ntfrs")&&!M.includes("bacon")})),S},[d,n,m,f]),b=v.useMemo(()=>{if(!j)return[];const S=d.find(M=>M.id===j);if(!S||!S.ingredientsText)return[];const P=dr(S.ingredientsText);return Pp(P,u)},[j,d,u]),C=v.useMemo(()=>{if(!j)return null;const S=d.find(P=>P.id===j);return!S||!S.ingredientsText?null:jt(S.ingredientsText,u,T)},[j,d,u,T]);if(!e||!n)return null;const E=()=>{l(j)},x=()=>{i(),c(""),y("alla")},w=S=>d.find(P=>P.id===S);return r.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:t,children:r.jsxs("div",{className:"w-full max-w-5xl h-[85vh] bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-slate-800",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:""})," Vlj recept"]}),r.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:[fo[n.day]," - ",Xe[n.meal]]})]}),r.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors text-xl",onClick:t,children:""})]}),r.jsx("div",{className:"p-4 border-b border-slate-700/50 bg-slate-900/50",children:r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),r.jsx("input",{type:"text",className:"w-full bg-slate-950/50 border border-slate-700 rounded-xl pl-11 pr-4 py-3 text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all font-medium",placeholder:"Sk recept eller ingredienser...",value:m,onChange:S=>c(S.target.value),autoFocus:!0})]})}),r.jsx("div",{className:"flex gap-2 p-3 overflow-x-auto bg-slate-900/50 border-b border-slate-800 scrollbar-hide",children:["alla","favoriter","snabba","vegetariskt"].map(S=>r.jsx("button",{className:`px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide transition-all border ${f===S?"bg-emerald-500 text-white border-emerald-400 shadow-lg shadow-emerald-500/20":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700 hover:text-slate-200"}`,onClick:()=>y(S),children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),r.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-[1fr,350px] overflow-hidden",children:[r.jsxs("div",{className:"overflow-y-auto p-4 flex flex-col gap-6 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-slate-700",children:[!m&&f==="alla"&&r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("h3",{className:"text-xs font-bold text-emerald-400 uppercase tracking-wider px-1",children:"Frslag fr dig"}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:o(n.day,n.meal).map(S=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all group ${j===S.recipe.id?"bg-emerald-500/10 border-emerald-500/50 ring-1 ring-emerald-500/50":"bg-slate-800/40 border-transparent hover:bg-slate-800 hover:border-slate-700"}`,onClick:()=>k(P=>P===S.recipe.id?"":S.recipe.id),children:[r.jsxs("div",{children:[r.jsx("div",{className:`font-semibold text-sm mb-0.5 ${j===S.recipe.id?"text-emerald-400":"text-slate-200 group-hover:text-emerald-300"}`,children:S.recipe.name}),r.jsxs("div",{className:"text-xs text-emerald-500/70 font-medium",children:[" ",S.reasons[0]]})]}),r.jsxs("div",{className:"text-xs font-medium text-slate-500 bg-slate-950/30 px-2 py-1 rounded-md border border-white/5",children:[(S.recipe.prepTime||0)+(S.recipe.cookTime||0),"m"]})]},S.recipe.id))})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider px-1",children:[m?"Skresultat":"Alla Recept"," (",g.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 gap-2",children:g.map(S=>r.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all group ${j===S.id?"bg-emerald-500/10 border-emerald-500/50 ring-1 ring-emerald-500/50":"bg-slate-800/20 border-transparent hover:bg-slate-800 hover:border-slate-700"}`,onClick:()=>k(S.id),children:[r.jsx("div",{className:"flex-1 min-w-0 pr-4",children:r.jsx("div",{className:`font-medium text-sm truncate ${j===S.id?"text-emerald-400":"text-slate-300 group-hover:text-white"}`,children:S.name})}),r.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[r.jsxs("span",{className:"text-xs text-slate-500",children:[(S.prepTime||0)+(S.cookTime||0),"m"]}),r.jsx("div",{className:`w-2 h-2 rounded-full ${(bp[S.mealType||"dinner"]||"text-slate-400 bg-slate-500/10").split(" ")[0].replace("text-","bg-")}`})]})]},S.id))})]})]}),r.jsx("div",{className:"hidden md:flex flex-col bg-slate-950/30 border-l border-slate-700/50 h-full overflow-y-auto relative",children:j?(()=>{const S=w(j);if(!S)return null;const P=S.ingredientsText?jt(S.ingredientsText,u):null;return P&&(Math.round(P.calories/S.servings),Math.round(P.protein/S.servings),Math.round(P.carbs/S.servings),Math.round(P.fat/S.servings)),r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"p-6 pb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wider ${S.mealType==="lunch"?"bg-sky-500/10 text-sky-400 border border-sky-500/20":S.mealType==="dinner"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-slate-700 text-slate-300"}`,children:Xe[S.mealType||"dinner"]||S.mealType}),r.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[(S.prepTime||0)+(S.cookTime||0)," min"]})]}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2 leading-tight",children:S.name}),r.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:S.description})]}),b.length>0&&r.jsxs("div",{className:"mx-6 mb-4 p-4 bg-emerald-950/30 border border-emerald-500/20 rounded-xl",children:[r.jsxs("h4",{className:"flex items-center gap-2 text-xs font-bold text-emerald-400 uppercase tracking-wider mb-3",children:[r.jsx("span",{children:""})," Klimat & Pris-smart"]}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("button",{onClick:()=>{const M={};b.forEach(D=>{(D.reason==="price"||D.reason==="both")&&(M[D.originalItem.id]=D.suggestion.id)}),p(D=>({...D,...M}))},className:"px-3 py-1.5 text-xs font-bold rounded-lg bg-amber-500/10 text-amber-400 border border-amber-500/30 hover:bg-amber-500/20 transition-all",children:" Spara pengar"}),r.jsx("button",{onClick:()=>{const M={};b.forEach(D=>{(D.reason==="co2"||D.reason==="both")&&(M[D.originalItem.id]=D.suggestion.id)}),p(D=>({...D,...M}))},className:"px-3 py-1.5 text-xs font-bold rounded-lg bg-emerald-500/10 text-emerald-400 border border-emerald-500/30 hover:bg-emerald-500/20 transition-all",children:" Tnk p miljn"}),r.jsx("button",{onClick:()=>{const M={};b.forEach(D=>{M[D.originalItem.id]=D.suggestion.id}),p(D=>({...D,...M}))},className:"px-3 py-1.5 text-xs font-bold rounded-lg bg-cyan-500/10 text-cyan-400 border border-cyan-500/30 hover:bg-cyan-500/20 transition-all",children:" Alla byten"}),Object.keys(T).length>0&&r.jsx("button",{onClick:()=>p({}),className:"px-3 py-1.5 text-xs font-bold rounded-lg bg-slate-700/50 text-slate-400 border border-slate-600 hover:bg-slate-600 transition-all",children:" terstll"})]}),r.jsx("div",{className:"space-y-3",children:b.map((M,D)=>{const G=M.originalItem.id,V=T[G]===M.suggestion.id;return r.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[r.jsx("span",{className:`font-bold ${V?"text-emerald-300":"text-slate-200"}`,children:V?M.suggestion.name:M.original.name}),V&&r.jsxs("span",{className:"text-slate-500 text-xs",children:["(",r.jsx("s",{children:M.original.name}),")"]}),!V&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-slate-600",children:""}),r.jsx("span",{className:"text-slate-400",children:M.suggestion.name})]})]}),r.jsxs("div",{className:"text-xs text-emerald-500/70 mt-0.5",children:[M.reason==="price"&&` Spara pengar (${M.savingsFn(1e3)})`,M.reason==="co2"&&` Spara CO (${M.impactFn(1e3)})`,M.reason==="both"&&" Spara bde pengar & milj!"]})]}),G&&r.jsx("button",{onClick:()=>h(G,M.suggestion.id),className:`px-3 py-1 text-xs font-bold rounded-lg transition-all ${V?"bg-emerald-500 text-slate-900 hover:bg-emerald-400":"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-600"}`,children:V?"Vald":"Byt"})]},D)})})]}),C&&r.jsxs("div",{className:"grid grid-cols-2 gap-px bg-slate-800/50 border-y border-slate-800",children:[r.jsxs("div",{className:"bg-slate-900/50 p-4 flex flex-col items-center justify-center text-center",children:[r.jsx("span",{className:"text-xl font-bold text-white block",children:Math.round(C.calories/S.servings)}),r.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"kcal"})]}),r.jsxs("div",{className:"bg-slate-900/50 p-4 flex flex-col items-center justify-center text-center",children:[r.jsxs("span",{className:`text-xl font-bold block ${Object.keys(T).length>0?"text-emerald-400":"text-slate-200"}`,children:[Math.round(C.price/S.servings)," kr"]}),r.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Pris/port"})]})]}),r.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[r.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3",children:"Ingredienser"}),r.jsx("p",{className:"text-sm text-slate-400 whitespace-pre-line leading-relaxed opacity-80 font-mono text-xs",children:S.ingredientsText})]}),r.jsxs("div",{className:"p-4 border-t border-slate-800 bg-slate-900/80 backdrop-blur flex justify-end gap-3",children:[(s==null?void 0:s.recipeId)&&r.jsx("button",{className:"px-4 py-2 rounded-xl text-sm font-semibold text-rose-400 hover:bg-rose-500/10 border border-transparent hover:border-rose-500/20 transition-all",onClick:x,children:"Ta bort"}),r.jsx("button",{className:"px-6 py-2 rounded-xl text-sm font-bold bg-emerald-500 hover:bg-emerald-400 text-slate-950 shadow-lg shadow-emerald-500/20 transition-all hover:scale-105 active:scale-95",onClick:E,children:"Vlj Recept"})]})]})})():r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-600 p-8 text-center",children:[r.jsx("span",{className:"text-4xl mb-4 opacity-50",children:""}),r.jsx("p",{className:"text-sm font-medium",children:"Vlj ett recept fr att se detaljer"})]})})]})]})})}function p0({shoppingList:e,pantryItems:t,pantryQuantities:n={},togglePantryItem:s,setPantryQuantity:a,totalItems:i,onCopy:l,copyStatus:o="idle",formatQuantity:d}){var E,x;const[u,m]=v.useState(!1),[c,f]=v.useState(null),[y,j]=v.useState(""),[k,T]=v.useState(null);if(i===0&&Object.values(e).every(w=>w.length===0))return null;const p=(w,S)=>{S.stopPropagation(),T(w)},h=(w,S)=>{S.stopPropagation();const P=w.name.toLowerCase();S.shiftKey&&a?(f({itemName:w.name,unit:w.unit||"st"}),j(w.quantity.toString())):s(P)},g=()=>{if(c&&a&&y){const w=parseFloat(y);!isNaN(w)&&w>0&&a(c.itemName,w,c.unit)}f(null),j("")},b=()=>o==="copied"?" Kopierat!":o==="error"?" Fel":" Kopiera",C=()=>{const w="flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-xl border transition-all active:scale-95";return o==="copied"?`${w} bg-emerald-500 text-white border-emerald-400`:o==="error"?`${w} bg-rose-500/20 text-rose-400 border-rose-500/30`:`${w} bg-slate-800 hover:bg-slate-700 text-slate-200 border-slate-700`};return r.jsxs("section",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 mb-8 shadow-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 flex items-center justify-center text-xl shadow-inner shadow-emerald-500/5",children:""}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:"Inkpslista"}),r.jsxs("div",{className:"text-sm text-slate-400 font-medium flex items-center gap-2",children:[r.jsxs("span",{children:[i," varor att kpa"]}),t.size>0&&r.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-600"}),t.size>0&&r.jsxs("span",{children:[t.size," har du hemma"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[t.size>0&&r.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/10 px-3 py-1.5 rounded-lg border border-emerald-500/20 shadow-sm",children:"Sparar pengar & milj! "}),r.jsx("button",{className:C(),onClick:l,title:"Kopiera listan",children:b()})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 relative z-10",children:[Object.entries(e).map(([w,S])=>{const P={fresh:" Frukt & Grnt",frozen:" Frys",pantry:" Skafferi"},M=S.filter(D=>!t.has(D.name.toLowerCase()));return M.length===0?null:r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider pl-1",children:P[w]||w}),r.jsx("div",{className:"flex flex-col gap-2",children:M.map((D,G)=>{const V=d?d(D):"",$=n[D.name.toLowerCase()];return r.jsxs("div",{className:"group flex items-center justify-between p-2.5 bg-slate-800/40 border border-transparent hover:border-cyan-500/30 hover:bg-slate-800/60 rounded-xl transition-all",children:[r.jsxs("div",{className:"flex items-center gap-2 cursor-pointer flex-1 min-w-0",onClick:X=>p(D,X),title:"Klicka fr att se var och nr ingrediensen anvnds",children:[r.jsx("span",{className:"text-sm text-slate-200 font-medium pl-1 truncate hover:text-cyan-400 transition-colors",children:D.name}),r.jsxs("div",{className:"flex gap-1.5 whitespace-nowrap overflow-hidden",children:[V&&r.jsx("span",{className:"text-[10px] text-slate-500 font-semibold",children:V}),$&&r.jsxs("span",{className:"text-[10px] text-emerald-500 font-semibold",children:["(Har: ",$.quantity,")"]})]})]}),r.jsx("button",{className:"w-7 h-7 flex items-center justify-center rounded-lg bg-emerald-500/10 text-emerald-500 border border-emerald-500/20 hover:bg-emerald-500 hover:text-white transition-all cursor-pointer",onClick:X=>h(D,X),title:"Markera som kpt (Shift+klick fr mngd)",children:""})]},G)})})]},w)}),(()=>{const w={fresh:"",frozen:"",pantry:""},S=[];return Object.entries(e).forEach(([P,M])=>{M.forEach(D=>{t.has(D.name.toLowerCase())&&S.push({name:D.name,storageType:P})})}),S.length===0?null:r.jsxs("div",{className:"flex flex-col gap-3 opacity-60 hover:opacity-100 transition-opacity",children:[r.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:" Har hemma"}),r.jsx("div",{className:"flex flex-col gap-2",children:S.map((P,M)=>r.jsxs("div",{className:"group flex items-center justify-between p-2.5 bg-slate-800/20 border border-dashed border-slate-800 hover:border-slate-600 rounded-xl cursor-pointer transition-all",onClick:()=>s(P.name.toLowerCase()),children:[r.jsxs("span",{className:"text-sm text-slate-500 pl-1 flex items-center gap-2",children:[r.jsx("span",{className:"opacity-50 text-xs",children:w[P.storageType]}),r.jsx("span",{className:"line-through",children:P.name})]}),r.jsx("span",{className:"w-7 h-7 flex items-center justify-center rounded-lg bg-slate-700/50 text-slate-400 group-hover:bg-slate-700 group-hover:text-slate-200 transition-all",children:""})]},M))})]})})()]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:()=>f(null),children:r.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 w-80 shadow-2xl",onClick:w=>w.stopPropagation(),children:[r.jsxs("h3",{className:"text-lg font-bold text-white mb-4",children:["Hur mycket ",c.itemName," har du?"]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("input",{type:"number",value:y,onChange:w=>j(w.target.value),className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white text-lg focus:outline-none focus:border-emerald-500",placeholder:"Mngd",autoFocus:!0,onKeyDown:w=>{w.key==="Enter"&&g(),w.key==="Escape"&&f(null)}}),r.jsx("span",{className:"px-4 py-2 bg-slate-700 rounded-lg text-slate-300 font-medium",children:c.unit})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-xl font-semibold transition-all",children:"Avbryt"}),r.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-emerald-500 hover:bg-emerald-400 text-white rounded-xl font-semibold transition-all",children:"Spara"})]})]})}),k&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>T(null),children:r.jsxs("div",{className:"w-full max-w-md bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",onClick:w=>w.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700 bg-slate-800",children:[r.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[" ",k.name]}),r.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors text-xl",onClick:()=>T(null),children:""})]}),r.jsxs("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:[r.jsxs("div",{className:"mb-4 p-3 bg-cyan-500/10 border border-cyan-500/20 rounded-xl",children:[r.jsx("div",{className:"text-sm text-slate-400",children:"Totalt behov:"}),r.jsxs("div",{className:"text-xl font-bold text-cyan-400",children:[k.quantity," ",k.unit]})]}),r.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:["Anvnds i ",((E=k.usages)==null?void 0:E.length)||0," recept"]}),r.jsx("div",{className:"flex flex-col gap-2",children:(x=k.usages)==null?void 0:x.map((w,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800/60 rounded-xl border border-slate-700",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-white",children:w.recipeName}),r.jsxs("div",{className:"text-xs text-slate-400",children:[" ",fo[w.day],"  ",Xe[w.meal]]})]}),r.jsxs("div",{className:"text-sm font-bold text-emerald-400",children:[w.quantity," ",w.unit]})]},S))})]}),r.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-800",children:r.jsx("button",{onClick:()=>{s(k.name.toLowerCase()),T(null)},className:"w-full py-3 bg-emerald-500 hover:bg-emerald-400 text-white rounded-xl font-bold transition-all flex items-center justify-center gap-2",children:' Markera som "Har hemma"'})})]})})]})}function m0(e,t,n,s,a){const[i,l]=v.useState("idle"),o=v.useMemo(()=>{const c=new Map;Pt.forEach(y=>{a.forEach(j=>{var T;const k=(T=e[y])==null?void 0:T[j];if(k!=null&&k.recipeId){const p=t.find(h=>h.id===k.recipeId);p!=null&&p.ingredientsText&&dr(p.ingredientsText).forEach(g=>{let b=En(g,n);if(b&&k.swaps&&k.swaps[b.id]){const S=n.find(P=>P.id===k.swaps[b.id]);S&&(b=S,g.name=S.name)}const C=b?b.name.toLowerCase():g.name.toLowerCase(),E=g.quantity||1,x=g.unit||"st",w={day:y,meal:j,recipeName:p.name,quantity:E,unit:x};if(c.has(C)){const S=c.get(C);S.quantity+=E,S.usages.push(w),S.dayMeals.some(M=>M.day===y&&M.meal===j)||S.dayMeals.push({day:y,meal:j})}else c.set(C,{name:(b==null?void 0:b.name)||g.name,category:(b==null?void 0:b.category)||"other",quantity:E,unit:x,dayMeals:[{day:y,meal:j}],storageType:(b==null?void 0:b.storageType)||"pantry",usages:[w]})})}})});const f={fresh:[],frozen:[],pantry:[]};return c.forEach(y=>{const j=y.storageType;f[j]?f[j].push(y):f.pantry.push(y)}),f},[e,t,n,a,s]),d=Object.values(o).reduce((c,f)=>c+f.filter(y=>!s.includes(y.name.toLowerCase())).length,0),u=c=>{const f=Math.round(c.quantity*10)/10;return c.unit==="st"||c.unit===""?f>1?`${f} st`:"":`${f} ${c.unit}`},m=v.useCallback(async()=>{const c=[" Inkpslista"];Object.entries(o).forEach(([f,y])=>{const j=y.filter(k=>!s.includes(k.name.toLowerCase()));if(j.length>0){const k=f==="fresh"?"Frukt & Grnt":f==="frozen"?"Frys":"Skafferi";c.push(`
${k}:`),j.forEach(T=>{const p=u(T);c.push(`- ${T.name}${p?` (${p})`:""}`)})}});try{return await navigator.clipboard.writeText(c.join(`
`)),l("copied"),setTimeout(()=>l("idle"),2e3),!0}catch{return l("error"),setTimeout(()=>l("idle"),2e3),!1}},[o,s]);return{shoppingList:o,totalItems:d,handleCopyShoppingList:m,copyStatus:i,formatQuantity:u}}const f0={respectMealType:!0,avoidRepeatsInWeek:!0,preferSeasonal:!0},h0={winter:["kl","rotfrukter","potatis","morot","palsternacka"],spring:["sparris","rdisa","spenat","rter"],summer:["tomat","gurka","zucchini","paprika","majs"],autumn:["pumpa","svamp","pple","pron","squash"]};function g0(){const e=new Date().getMonth();return e>=2&&e<=4?"spring":e>=5&&e<=7?"summer":e>=8&&e<=10?"autumn":"winter"}function x0(e,t,n={}){const s={...f0,...n},a=g0(),i=v.useMemo(()=>{if(!t)return new Set;const m=new Set;return Pt.forEach(c=>{const f=t[c];f&&Object.values(f).forEach(y=>{var j;y!=null&&y.recipeId&&m.add(y.recipeId),(j=y==null?void 0:y.additionalRecipeIds)==null||j.forEach(k=>m.add(k))})}),m},[t]),l=v.useCallback((m,c)=>{let f=50;return s.respectMealType&&m.mealType&&(m.mealType===c?f+=30:c==="lunch"&&m.mealType==="dinner"||c==="dinner"&&m.mealType==="lunch"?f+=10:f-=20),s.avoidRepeatsInWeek&&i.has(m.id)&&(f-=100),s.preferSeasonal&&m.ingredientsText&&h0[a].some(k=>m.ingredientsText.toLowerCase().includes(k))&&(f+=15),s.maxCookTime&&(m.cookTime||0)>s.maxCookTime&&(f-=50),f},[s,i,a]),o=v.useCallback(m=>{if(e.length===0)return null;const f=e.map(k=>({recipe:k,score:l(k,m)})).filter(k=>k.score>0);if(f.length===0)return e[Math.floor(Math.random()*e.length)];const y=f.reduce((k,T)=>k+T.score,0);let j=Math.random()*y;for(const k of f)if(j-=k.score,j<=0)return k.recipe;return f[0].recipe},[e,l]),d=v.useCallback((m,c=3)=>e.length===0?[]:e.map(y=>({recipe:y,score:l(y,m)})).filter(y=>y.score>0).sort((y,j)=>j.score-y.score).slice(0,c).map(y=>y.recipe),[e,l]),u=v.useCallback((m,c,f)=>{const y={};return c.forEach(j=>{var k,T;if(!((T=(k=f[m])==null?void 0:k[j])!=null&&T.recipeId)){const p=o(j);p&&(y[j]={recipeId:p.id,servings:p.servings||4})}}),y},[o]);return{getRandomRecipe:o,getSuggestions:d,randomizeDay:u}}function v0(e,t){const n=v.useCallback(()=>{const i=new Date().getMonth();return i>=2&&i<=4?"spring":i>=5&&i<=7?"summer":i>=8&&i<=10?"autumn":"winter"},[]),s=v.useCallback(i=>{let l=0,o=0,d=0,u=0,m=0;const c=[],f=[],y=n(),j=new Set;let k=0,T=0,p=0,h=0;const g={};return Pt.forEach(b=>{const C=i.meals[b],E={isComplete:!1,proteinCategories:[],missingComplement:null,tags:[],tips:[],synergies:[]};if(!C||Object.keys(C).length===0){g[b]=E;return}const x=new Set;Object.entries(C).forEach(([w,S])=>{var D;if(!(S!=null&&S.recipeId))return;const P=e.find(G=>G.id===S.recipeId);if(!P)return;k++;const M=jt(P.ingredientsText||"",t,S.swaps);M.isCompleteProtein&&(E.isComplete=!0,E.tags.push("complete-meal")),M.proteinCategories.forEach(G=>{x.add(G),j.add(G)}),((D=P.seasons)!=null&&D.includes(y)||M.tags.includes("seasonal-house"))&&(p++,E.tags.push("seasonal")),(P.priceCategory==="budget"||M.tags.includes("budget-win"))&&(h++,E.tags.push("budget-win")),M.synergies.forEach(G=>{E.synergies.some(V=>V.id===G.id)||E.synergies.push(G)})}),x.has("legume")&&x.has("grain")?(E.isComplete=!0,E.tags.push("complete-day")):x.has("legume")&&!x.has("grain")&&!E.isComplete?(E.missingComplement="grain",E.tips.push("Lgg till ett spannml (t.ex. ris) fr att gra proteinet fullvrdigt! ")):x.has("grain")&&!x.has("legume")&&!E.isComplete&&(E.missingComplement="legume",E.tips.push("Lgg till en baljvxt (t.ex. bnor) fr att gra proteinet fullvrdigt! ")),E.proteinCategories=Array.from(x),E.isComplete&&T++,g[b]=E}),k===0?{score:0,proteinScore:0,varietyScore:0,budgetScore:0,seasonalityScore:0,tips:["Brja med att lgga till ngra recept i din vecka! "],criticalIssues:["Inga mltider planerade"],dayAnalysis:g}:(o=Math.min(100,T/7*100),d=Math.min(100,j.size/5*100),m=Math.min(100,p/k*100),u=Math.min(100,h/k*100),l=Math.round(o*.4+d*.2+m*.2+u*.2),o<50&&(c.push("Testa att kombinera bnor med rris eller quinoa fr fullvrdigt protein. +"),f.push("Lg proteinkvalitet p flera dagar")),d<60&&c.push("Variera dina proteinkllor mer! Lgg till lite tofu, ntter eller frn i planen."),m<40&&c.push(`Just nu r det ${y}  anvnd mer rotfrukter och kl fr att ta i ssong! `),u<50&&c.push("Tips: Lgg till fler linsgrytor eller soppor fr att f ner veckokostnaden. "),l>85&&c.push("Wow! Din vecka r en vegansk nringsbomb. Bra jobbat! "),{score:l,proteinScore:Math.round(o),varietyScore:Math.round(d),budgetScore:Math.round(u),seasonalityScore:Math.round(m),tips:c,criticalIssues:f,dayAnalysis:g})},[e,t,n]),a=v.useCallback((i,l,o)=>{const d=s(i),u=l||Object.keys(d.dayAnalysis).find(T=>!d.dayAnalysis[T].isComplete);if(!u)return null;const c=d.dayAnalysis[u].missingComplement;let f=e.filter(T=>{const p=jt(T.ingredientsText||"",t);return c?p.proteinCategories.includes(c):p.isCompleteProtein});if(o&&(f=f.filter(T=>T.mealType===o)),f.length===0)return null;const y=new Set;Object.values(i.meals).forEach(T=>{Object.values(T).forEach(p=>{p!=null&&p.recipeId&&y.add(p.recipeId)})});const j=f.filter(T=>!y.has(T.id)),k=j.length>0?j:f;return k[Math.floor(Math.random()*k.length)]},[e,t,s]);return{analyzePlan:s,getOptimizationSuggestion:a}}function y0(e){const t=e.toLowerCase().trim();if(!t)return{type:"search",data:{query:""}};const{date:n,remaining:s}=k0(t),a=s.trim()||t,i=j0(a);if(i)return{...i,date:n};const l=a.match(/(?:vikt\s*[:\s]*|)(\d+(?:[.,]\d+)?)\s*(?:kg|kilo)?$/);if(l&&(a.startsWith("vikt")||a.endsWith("kg")||a.endsWith("kilo"))){const u=parseFloat(l[1].replace(",","."));if(!isNaN(u)&&u>20&&u<500)return{type:"weight",data:{weight:u},date:n}}const o=b0(a);if(o)return{...o,date:n};const d=N0(a);return d?{...d,date:n}:{type:"search",data:{query:e},date:n}}function k0(e){const t=new Date,n=a=>a.toISOString().split("T")[0];if(e.includes("idag"))return{date:n(t),remaining:e.replace("idag","")};if(e.includes("igr")){const a=new Date(t);return a.setDate(a.getDate()-1),{date:n(a),remaining:e.replace("igr","")}}if(e.includes("frrgr")){const a=new Date(t);return a.setDate(a.getDate()-2),{date:n(a),remaining:e.replace("frrgr","")}}const s=e.match(/\b(\d{4}-)?(\d{1,2})-(\d{1,2})\b/);if(s){let a=s[1]?s[1].replace("-",""):t.getFullYear(),i=s[2].padStart(2,"0"),l=s[3].padStart(2,"0");return{date:`${a}-${i}-${l}`,remaining:e.replace(s[0],"")}}return{remaining:e}}function j0(e){const t=e.match(/(\d+(?:[.,]\d+)?)\s*(?:h|t|timmar|tim)?\s*smn/i)||e.match(/smn\s*(\d+(?:[.,]\d+)?)\s*(?:h|t|timmar|tim)?/i);if(t)return{type:"vitals",data:{vitalType:"sleep",amount:parseFloat(t[1].replace(",","."))}};const n=e.match(/(\d+)?\s*(kaffe|vatten|water|nocco|energydryck|energy|energidryck)/i);if(n){const s=parseInt(n[1]||"1"),a=n[2].toLowerCase();let i="water";return a.includes("kaffe")?i="coffee":a.includes("nocco")?i="nocco":a.includes("energy")||a.includes("energi")?i="energy":(a.includes("vatten")||a.includes("water"))&&(i="water"),{type:"vitals",data:{vitalType:i,amount:s}}}return null}function b0(e){const t={lpning:"running",lpn:"running",lp:"running",run:"running",cykling:"cycling",cykl:"cycling",cyk:"cycling",bike:"cycling",styrka:"strength",styrk:"strength",gym:"strength",lyft:"strength",promenad:"walking",prom:"walking",walk:"walking",gng:"walking",simning:"swimming",simn:"swimming",sim:"swimming",swim:"swimming",yoga:"yoga"};let n=null;const s=Object.keys(t).sort((o,d)=>d.length-o.length);for(const o of s)if(new RegExp(`\\b${o}\\w*\\b`,"i").test(e)){n=t[o];break}if(!n&&(e.includes("trning")||e.includes("trnat")||e.includes("pass")),!n&&!e.match(/\d+\s*(min|h|t|m)/))return null;const a=e.match(/(\d+)\s*(min|h|t|m)?/);let i=30;if(a){i=parseInt(a[1]);const o=a[2];(o==="h"||o==="t")&&(i*=60)}let l="moderate";return e.includes("ltt")||e.includes("lg")||e.includes("slow")?l="low":e.includes("hg")||e.includes("hrt")||e.includes("hard")||e.includes("tuff")?l="high":(e.includes("max")||e.includes("ultra"))&&(l="ultra"),{type:"exercise",data:{exerciseType:n||"other",duration:i,intensity:l,notes:e.length>20?e:void 0}}}function N0(e){var m;const t={frukost:"breakfast",fruk:"breakfast",lunch:"lunch",lun:"lunch",middag:"dinner",midda:"dinner",mid:"dinner",mellanml:"snack",mellis:"snack",mellan:"snack",dryck:"beverage",drick:"beverage",dry:"beverage"};let n,s=e.toLowerCase();const a=Object.keys(t).sort((c,f)=>f.length-c.length);for(const c of a){const f=new RegExp(`\\b${c}\\w*\\b`,"i");if(f.test(e)){n=t[c],s=e.replace(f,"").trim();break}}const i=s.match(/(\d+(?:[.,]\d+)?)\s*(g|ml|st|pcs|kg|l|port)?/i);let l,o,d=s;if(i&&(l=parseFloat(i[1].replace(",",".")),o=((m=i[2])==null?void 0:m.toLowerCase())||"g",d=s.replace(i[0],"").trim()),!d)return null;let u=n;if(!u){const c=new Date().getHours();c>=6&&c<10?u="breakfast":c>=11&&c<14?u="lunch":c>=17&&c<20?u="dinner":u="snack"}return{type:"food",data:{query:d,quantity:l,unit:o,mealType:u}}}const mi=[{type:"running",icon:"",label:"Lpning"},{type:"cycling",icon:"",label:"Cykling"},{type:"strength",icon:"",label:"Styrka"},{type:"walking",icon:"",label:"Promenad"},{type:"swimming",icon:"",label:"Simning"},{type:"yoga",icon:"",label:"Yoga"},{type:"other",icon:"",label:"Annat"}],w0=[{value:"low",label:"Lg"},{value:"moderate",label:"Medel"},{value:"high",label:"Hg"},{value:"ultra",label:"Max"}],S0={sleep:"",water:"",coffee:"",nocco:"",energy:""};function T0(){var O,Y;const{foodItems:e,recipes:t,addExercise:n,addMealEntry:s,addWeightEntry:a,calculateExerciseCalories:i,updateVitals:l,getVitalsForDate:o}=Fe(),[d,u]=v.useState(""),[m,c]=v.useState(!1),[f,y]=v.useState(new Date().toISOString().split("T")[0]),j=v.useRef(null),[k,T]=v.useState(null),[p,h]=v.useState(null),[g,b]=v.useState(null),[C,E]=v.useState(null),[x,w]=v.useState(null),[S,P]=v.useState(null),[M,D]=v.useState(null),[G,V]=v.useState(!1),$=v.useMemo(()=>y0(d),[d]);v.useEffect(()=>{G||($.type==="exercise"?(T($.data.exerciseType),h($.data.duration),b($.data.intensity)):$.type==="food"?(E($.data.quantity||1),w($.data.unit||"g"),P($.data.mealType||"snack")):$.type==="weight"?E($.data.weight):$.type==="vitals"&&(D($.data.vitalType),E($.data.amount)),$.date&&y($.date))},[$,G]),v.useEffect(()=>{d||(V(!1),T(null),h(null),b(null),E(null),w(null),P(null),D(null))},[d]);const X=v.useMemo(()=>{if($.type!=="food")return null;const U=$.data.query.toLowerCase(),J=t.find(te=>te.name.toLowerCase()===U||te.name.toLowerCase().includes(U));if(J)return{type:"recipe",item:J};const Q=e.find(te=>te.name.toLowerCase()===U||te.name.toLowerCase().includes(U));return Q?{type:"foodItem",item:Q}:null},[$,e,t]),Z=()=>{const U=f;if($.type==="exercise"){const J=k||"other",Q=p||30,te=g||"moderate",R=i(J,Q,te);n({date:U,type:J,durationMinutes:Q,intensity:te,caloriesBurned:R}),u("")}else if($.type==="weight")a(C||0,U),u("");else if($.type==="food"&&X)s({date:U,mealType:S||"snack",items:[{type:X.type,referenceId:X.item.id,servings:C||1}]}),u("");else if($.type==="vitals"&&M){const J=C||0,Q=o(U),te={};M==="sleep"?te.sleep=J:(M==="water"||(te.caffeine=(Q.caffeine||0)+J),te.water=(Q.water||0)+J),l(U,te),u("")}},L=f===new Date().toISOString().split("T")[0],_=f===new Date(Date.now()-864e5).toISOString().split("T")[0],A=()=>L?"Idag":_?"Igr":f;return r.jsxs("div",{className:`command-center ${m?"is-active":""}`,children:[r.jsxs("div",{className:"omnibox-wrapper",children:[r.jsxs("button",{className:`date-picker-trigger ${L?"":"active"}`,onClick:()=>{const U=L?new Date(Date.now()-864e5).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];y(U)},title:"Byt mellan idag/igr (eller klicka fr att vlja via input)",children:[" ",A()]}),r.jsx("div",{className:"omnibox-icon",children:""}),r.jsx("input",{ref:j,type:"text",value:d,onChange:U=>u(U.target.value),onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),placeholder:"Logga trning, mat, kaffe eller smn...",onKeyDown:U=>U.key==="Enter"&&Z()}),r.jsx("div",{className:"omnibox-shortcut",children:" fr att spara"})]}),d&&r.jsxs("div",{className:"suggestion-panel animate-in fade-in slide-in-from-top-2 duration-300",children:[$.type==="vitals"&&r.jsxs("div",{className:"suggestion-card vitals-card reflective",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("span",{className:"card-icon",children:S0[M||"water"]}),r.jsxs("div",{className:"card-title",children:[r.jsxs("h3",{children:["Regga ",M==="sleep"?"Smn":"Vtska/Energi"]}),r.jsxs("p",{className:"intent-summary",children:[C," ",M==="sleep"?"timmar":M==="coffee"?"koppar":"st"]})]})]}),r.jsx("div",{className:"reflective-inputs",children:r.jsxs("div",{className:"input-row flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",step:M==="sleep"?"0.5":"1",value:C??"",onChange:U=>{E(parseFloat(U.target.value)),V(!0)},className:"reflective-field w-20"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase",children:M==="sleep"?"Timmar":"Antal"})]}),r.jsx("div",{className:"text-[10px] text-emerald-500 font-bold uppercase tracking-widest",children:A()})]})}),r.jsxs("button",{className:"confirm-btn",onClick:Z,children:["Spara ",M==="sleep"?"Smn":"Logg"]})]}),$.type==="exercise"&&r.jsxs("div",{className:"suggestion-card exercise-card reflective",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("span",{className:"card-icon",children:((O=mi.find(U=>U.type===k))==null?void 0:O.icon)||""}),r.jsxs("div",{className:"card-title",children:[r.jsx("h3",{children:"Regga trning"}),r.jsxs("p",{className:"intent-summary",children:[p," min ",(Y=mi.find(U=>U.type===k))==null?void 0:Y.label]})]})]}),r.jsxs("div",{className:"reflective-inputs",children:[r.jsx("div",{className:"input-row",children:r.jsx("div",{className:"type-chips",children:mi.map(U=>r.jsx("button",{className:`chip ${k===U.type?"active":""}`,onClick:()=>{T(U.type),V(!0)},children:U.icon},U.type))})}),r.jsxs("div",{className:"input-row",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:p||"",onChange:U=>{h(parseInt(U.target.value)),V(!0)},className:"reflective-field w-16"}),r.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase",children:"Minuter"})]}),r.jsx("div",{className:"intensity-selector",children:w0.map(U=>r.jsx("button",{className:`intensity-btn ${g===U.value?"active":""}`,onClick:()=>{b(U.value),V(!0)},children:U.label},U.value))})]})]}),r.jsx("button",{className:"confirm-btn",onClick:Z,children:"Spara Trning"})]}),$.type==="weight"&&r.jsxs("div",{className:"suggestion-card weight-card reflective",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("span",{className:"card-icon",children:""}),r.jsxs("div",{className:"card-title",children:[r.jsx("h3",{children:"Uppdatera vikt"}),r.jsxs("p",{children:["Ny vikt: ",r.jsxs("strong",{children:[C," kg"]})]})]})]}),r.jsx("div",{className:"reflective-inputs",children:r.jsxs("div",{className:"input-row",children:[r.jsx("input",{type:"number",step:"0.1",value:C||"",autoFocus:!0,onChange:U=>{E(parseFloat(U.target.value)),V(!0)},className:"reflective-field bigger text-center"}),r.jsx("span",{className:"text-slate-400 font-bold",children:"KG"})]})}),r.jsx("button",{className:"confirm-btn",onClick:Z,children:"Spara Vikt"})]}),$.type==="food"&&X&&r.jsxs("div",{className:"suggestion-card food-card reflective",children:[r.jsxs("div",{className:"card-header",children:[r.jsx("span",{className:"card-icon",children:X.type==="recipe"?"":""}),r.jsxs("div",{className:"card-title",children:[r.jsxs("h3",{children:["Regga ",Xe[S||"snack"]]}),r.jsx("p",{className:"intent-summary",children:X.item.name})]})]}),r.jsxs("div",{className:"reflective-inputs",children:[r.jsx("div",{className:"input-row",children:r.jsx("div",{className:"meal-type-chips",children:Object.keys(Xe).map(U=>r.jsx("button",{className:`chip ${S===U?"active":""}`,onClick:()=>{P(U),V(!0)},children:Xe[U]},U))})}),r.jsxs("div",{className:"input-row flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:C||"",onChange:U=>{E(parseFloat(U.target.value)),V(!0)},className:"reflective-field w-20"}),r.jsxs("select",{value:x||"g",onChange:U=>{w(U.target.value),V(!0)},className:"reflective-select",children:[r.jsx("option",{value:"g",children:"gram"}),r.jsx("option",{value:"st",children:"st"}),r.jsx("option",{value:"port",children:"port"}),r.jsx("option",{value:"ml",children:"ml"})]})]}),r.jsx("div",{className:"text-[10px] text-slate-500 font-bold italic",children:X.type==="recipe"?"Hittade recept":"Hittade ingrediens"})]})]}),r.jsx("button",{className:"confirm-btn",onClick:Z,children:"Logga Mat"})]}),$.type==="food"&&!X&&r.jsxs("div",{className:"suggestion-card search-card",children:[r.jsx("div",{className:"card-icon",children:""}),r.jsxs("div",{className:"card-content",children:[r.jsx("h3",{children:"Databas-sk"}),r.jsxs("p",{children:['Inget direkt svar fr "',$.data.query,'"']})]})]})]})]})}const $c={monday:"Mn",tuesday:"Tis",wednesday:"Ons",thursday:"Tor",friday:"Fre",saturday:"Lr",sunday:"Sn"},C0=({analysis:e,onOptimize:t})=>{const{score:n,proteinScore:s,varietyScore:a,budgetScore:i,seasonalityScore:l,tips:o,criticalIssues:d}=e,u=c=>c>=80?"text-emerald-400":c>=50?"text-amber-400":"text-rose-400",m=c=>c>=80?"bg-emerald-500/10":c>=50?"bg-amber-500/10":"bg-rose-500/10";return r.jsxs("div",{className:"bg-[#1a1c1e] rounded-2xl p-6 border border-white/5 shadow-xl transition-all duration-300 hover:border-emerald-500/20",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["Smart Plan Analys ",r.jsx("span",{className:"text-emerald-500",children:""})]}),r.jsx("p",{className:"text-gray-400 mt-1",children:"Optimerad fr vegansk nring & hlsa"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:`px-6 py-4 rounded-xl ${m(n)} border border-white/5 flex flex-col items-center min-w-[120px]`,children:[r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-gray-400 mb-1",children:"Greens Score"}),r.jsx("span",{className:`text-4xl font-black ${u(n)}`,children:n})]}),r.jsx("button",{onClick:t,className:"h-full px-6 py-3 bg-emerald-500 hover:bg-emerald-600 active:scale-95 text-white font-bold rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/20 whitespace-nowrap",children:"Snabba p min vecka "})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(As,{label:"Proteinkvalitet",score:s,icon:""}),r.jsx(As,{label:"Varierad kost",score:a,icon:""}),r.jsx(As,{label:"Budget",score:i,icon:""}),r.jsx(As,{label:"I ssong",score:l,icon:""})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-gray-400 font-bold text-[10px] uppercase tracking-widest mb-3 px-1",children:"Veckostatus"}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:Pt.map(c=>{const f=e.dayAnalysis[c],y=f.proteinCategories.length>0;return r.jsxs("div",{className:`p-2 rounded-xl border ${y?"bg-white/5 border-white/10":"bg-transparent border-white/5 opacity-30"} flex flex-col items-center gap-1.5`,children:[r.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:$c[c]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(fi,{active:f.isComplete,icon:"",label:"Protein"}),r.jsx(fi,{active:f.tags.includes("seasonal"),icon:"",label:"Ssong"}),r.jsx(fi,{active:f.tags.includes("budget-win"),icon:"",label:"Budget"})]})]},c)})})]}),d.length>0&&r.jsxs("div",{className:"mb-6 p-4 bg-rose-500/10 border border-rose-500/20 rounded-xl",children:[r.jsx("h3",{className:"text-rose-400 font-bold text-sm uppercase tracking-wider mb-2 flex items-center gap-2",children:" Kritiska brister"}),r.jsx("ul",{className:"space-y-1",children:d.map((c,f)=>r.jsxs("li",{className:"text-gray-300 text-sm flex items-center gap-2",children:[r.jsx("span",{className:"w-1 h-1 bg-rose-500 rounded-full"}),c]},f))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-emerald-400/80 font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:" Smarta Tips"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[o.map((c,f)=>r.jsxs("div",{className:"p-3 bg-white/5 border border-white/5 rounded-lg text-gray-300 text-sm leading-relaxed flex gap-3",children:[r.jsx("span",{className:"text-emerald-500 mt-0.5",children:""}),c]},`tip-${f}`)),Pt.map(c=>{const f=e.dayAnalysis[c],y=f.tips.map((k,T)=>r.jsxs("div",{className:"p-3 bg-emerald-500/5 border border-emerald-500/10 rounded-lg text-emerald-100/90 text-sm leading-relaxed flex gap-3",children:[r.jsx("span",{className:"text-emerald-500 font-bold mt-0.5",children:$c[c]}),k]},`day-tip-${c}-${T}`)),j=f.synergies.map((k,T)=>r.jsxs("div",{className:"p-3 bg-cyan-500/5 border border-cyan-500/10 rounded-lg text-cyan-50 text-sm leading-relaxed flex gap-3",children:[r.jsx("span",{className:"text-cyan-400 font-bold",children:k.icon}),r.jsxs("div",{children:[r.jsx("span",{className:"font-bold block text-cyan-300",children:k.name}),k.description]})]},`syn-${c}-${T}`));return[...y,...j]})]})]})]})},As=({label:e,score:t,icon:n})=>{const s=a=>a>=80?"bg-emerald-500":a>=50?"bg-amber-500":"bg-rose-500";return r.jsxs("div",{className:"bg-white/5 border border-white/5 p-4 rounded-xl",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-lg",children:n}),r.jsxs("span",{className:"text-white font-bold",children:[t,"%"]})]}),r.jsx("div",{className:"text-xs text-gray-400 font-medium mb-3 truncate",children:e}),r.jsx("div",{className:"h-1.5 w-full bg-white/5 rounded-full overflow-hidden",children:r.jsx("div",{className:`h-full ${s(t)} transition-all duration-1000`,style:{width:`${t}%`}})})]})},fi=({active:e,icon:t,label:n})=>r.jsx("span",{title:e?n:`Saknar ${n.toLowerCase()}`,className:`text-[10px] transition-all duration-500 ${e?"opacity-100 scale-100 filter-none":"opacity-20 scale-90 grayscale"}`,children:t});function E0(e){const t=new Date(e),n=new Date(t.getFullYear(),0,1),s=(t.getTime()-n.getTime())/864e5;return Math.ceil((s+n.getDay()+1)/7)}function P0(e,t){const n=new Date(e);n.setDate(n.getDate()+t);const s=n.getDate(),a=n.toLocaleString("sv-SE",{month:"short"}).toUpperCase();return{dateStr:`${s} ${a}.`,dateNumber:s}}function Ms(){var re;const{recipes:e,weeklyPlans:t,saveWeeklyPlan:n,foodItems:s,pantryItems:a,pantryQuantities:i,togglePantryItem:l,setPantryQuantity:o,updateVitals:d,getVitalsForDate:u,exerciseEntries:m}=Fe(),{settings:c}=Gt(),{openRecipe:f}=Mp(),[y,j]=v.useState(mo()),[k,T]=v.useState(),[p,h]=v.useState(null),[g,b]=v.useState(!1),[C,E]=v.useState(!1),[x,w]=v.useState(()=>{const K=localStorage.getItem("greens-show-analysis");return K===null?!0:K==="true"}),S=Hs.useRef(!1),P=Hs.useRef("");v.useEffect(()=>{S.current=!0;const K=t==null?void 0:t.find(de=>de.weekStartDate===y);T(K?K.meals:{monday:{},tuesday:{},wednesday:{},thursday:{},friday:{},saturday:{},sunday:{}}),t!==void 0&&E(!0),setTimeout(()=>{S.current=!1},100)},[y,t]),v.useEffect(()=>{localStorage.setItem("greens-show-analysis",String(x))},[x]),v.useEffect(()=>{if(k&&C&&!S.current){const K=JSON.stringify(k);K!==P.current&&(P.current=K,console.log("[WeeklyPage] Saving weekPlan to context:",y),n(y,k))}},[k,y,C,n]);const M=c.visibleMeals,{shoppingList:D,totalItems:G,handleCopyShoppingList:V,copyStatus:$,formatQuantity:X}=m0(k||{monday:{},tuesday:{},wednesday:{},thursday:{},friday:{},saturday:{},sunday:{}},e,s,a,M),{getRandomRecipe:Z,getSuggestions:L,randomizeDay:_}=x0(e,k),{analyzePlan:A,getOptimizationSuggestion:O}=v0(e,s),Y=v.useMemo(()=>{if(!k)return null;const K={id:"current",weekStartDate:y,meals:k,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return A(K)},[k,A,y]),U=E0(y),J=K=>{const de=new Date(y);de.setDate(de.getDate()+K*7),j(ct(de))},Q=(K,de)=>{h({day:K,meal:de}),b(!0)},te=(K,de,pe)=>{f(pe)},R=(K,de)=>{if(!p||!k||!K)return;const pe=e.find(Ce=>Ce.id===K);T(Ce=>Ce&&{...Ce,[p.day]:{...Ce[p.day],[p.meal]:{recipeId:K,servings:(pe==null?void 0:pe.servings)||4,swaps:de}}}),b(!1),h(null)},ee=()=>{!p||!k||(T(K=>K&&{...K,[p.day]:{...K[p.day],[p.meal]:void 0}}),b(!1),h(null))},ae=K=>{if(!k)return;const de=_(K,M,k);T(pe=>pe&&{...pe,[K]:{...pe[K],...de}})},oe=()=>{k&&Pt.forEach(K=>{const de=_(K,M,k);T(pe=>pe&&{...pe,[K]:{...pe[K],...de}})})},_e=(K,de)=>{if(!k)return;const pe={id:"current",weekStartDate:y,meals:k,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Ce=O(pe,K,de);Ce&&T(Ee=>({...Ee,[K]:{...Ee[K],[de]:{recipeId:Ce.id,servings:Ce.servings||4}}}))},W=(K,de,pe,Ce)=>{K.dataTransfer.setData("application/json",JSON.stringify({day:de,meal:pe,recipeId:Ce})),K.dataTransfer.effectAllowed="move"},ne=(K,de,pe)=>{var Kt;K.preventDefault();const Ce=K.dataTransfer.getData("application/json");if(!Ce||!k)return;const{day:Ee,meal:Nt,recipeId:cs}=JSON.parse(Ce),Mn=(Kt=k[Ee])==null?void 0:Kt[Nt];Mn&&T(fn=>{if(!fn)return fn;const B={...fn};return B[de]={...B[de],[pe]:{...Mn}},(Ee!==de||Nt!==pe)&&(B[Ee]={...B[Ee],[Nt]:void 0}),B})};if(!k)return r.jsx("div",{className:"weekly-page loading",children:"Laddar veckoplan..."});const ie=(K,de)=>[];return r.jsxs("div",{className:"weekly-page",children:[r.jsx(a0,{weekNumber:U,weekStartDate:y,onPrevWeek:()=>J(-1),onNextWeek:()=>J(1),onRandomizeWeek:oe}),r.jsx(T0,{}),r.jsx("div",{className:"flex justify-end mb-2",children:r.jsx("button",{onClick:()=>w(!x),className:"text-[10px] uppercase tracking-widest font-bold text-slate-500 hover:text-slate-300 transition-colors flex items-center gap-1",children:x?" Dlj Analys":" Visa Analys"})}),Y&&x&&r.jsx("div",{className:"mb-8 animate-in fade-in slide-in-from-top-2 duration-300",children:r.jsx(C0,{analysis:Y,onOptimize:()=>{console.log("Optimizing plan...")}})}),r.jsx("div",{className:"days-grid",children:Pt.map((K,de)=>{var B;const{dateStr:pe,dateNumber:Ce}=P0(y,de),Ee=new Date(y);Ee.setDate(Ee.getDate()+de);const Nt=new Date;Nt.setHours(0,0,0,0),Ee.setHours(0,0,0,0);const cs=Ee.getTime()===Nt.getTime(),Mn=Ee<Nt,Kt=new Date(Nt);Kt.setDate(Kt.getDate()-1);const fn=Ee.getTime()===Kt.getTime();return r.jsx(d0,{day:K,dateStr:pe,dateNumber:Ce,isToday:cs,isPast:Mn,isYesterday:fn,meals:k[K]||{},dayAnalysis:(B=Y==null?void 0:Y.dayAnalysis)==null?void 0:B[K],visibleMeals:M,recipes:e,foodItems:s,getSuggestions:I=>L(I),onMealClick:I=>Q(K,I),onCookMeal:(I,F)=>te(K,I,F),onRemoveMeal:I=>{T(F=>F&&{...F,[K]:{...F[K],[I]:void 0}})},onShuffleDay:()=>ae(K),onShuffleMeal:I=>{const F=Z(I);F&&T(H=>H&&{...H,[K]:{...H[K],[I]:{recipeId:F.id,servings:F.servings||4}}})},onQuickSelect:(I,F)=>{const H=e.find(se=>se.id===F);H&&T(se=>se&&{...se,[K]:{...se[K],[I]:{recipeId:F,servings:H.servings||4}}})},onDragStart:(I,F,H)=>W(I,K,F,H),onDrop:(I,F)=>ne(I,K,F),onMagicWand:I=>_e(K,I),vitals:u(ct(Ee)),onUpdateVitals:I=>d(ct(Ee),I),exercises:m.filter(I=>I.date===ct(Ee))},K)})}),r.jsx(p0,{shoppingList:D,pantryItems:new Set(a),pantryQuantities:i,togglePantryItem:l,setPantryQuantity:o,totalItems:G,onCopy:V,copyStatus:$,formatQuantity:X}),r.jsx(u0,{isOpen:g,onClose:()=>b(!1),editingSlot:p,currentPlannedMeal:p?(re=k[p.day])==null?void 0:re[p.meal]:void 0,onSelectRecipe:()=>{},onRemoveMeal:ee,onSave:R,getSuggestions:ie})]})}function A0(){const{pantryItems:e,togglePantryItem:t,setPantryItems:n,recipes:s}=Fe(),[a,i]=v.useState(""),l=["Salt","Peppar","Olivolja","Smr","Mjlk","gg","Lk","Vitlk","Pasta","Ris","Krossade tomater","Socker","Mjl","Bakpulver","Soja","Buljong"],o=v.useMemo(()=>[...e].sort((m,c)=>m.localeCompare(c)),[e]),d=v.useMemo(()=>e.length===0?[]:s.map(m=>{if(!m.ingredientsText)return{recipe:m,matchPercentage:0,missing:[]};const c=dr(m.ingredientsText),f=c.length;if(f===0)return{recipe:m,matchPercentage:0,missing:[]};let y=0;const j=[];return c.forEach(k=>{const T=k.name.toLowerCase();e.some(h=>T.includes(h.toLowerCase())||h.toLowerCase().includes(T))?y++:j.push(k.name)}),{recipe:m,matchPercentage:Math.round(y/f*100),missing:j}}).filter(m=>m.matchPercentage>0).sort((m,c)=>c.matchPercentage-m.matchPercentage),[s,e]),u=m=>{if(m.preventDefault(),a.trim()){const c=a.trim().charAt(0).toUpperCase()+a.trim().slice(1);e.includes(c)||t(c),i("")}};return r.jsxs("div",{className:"animate-in fade-in duration-500 pb-24 max-w-7xl mx-auto",children:[r.jsxs("header",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-400 to-teal-500 bg-clip-text text-transparent mb-2",children:"Matrddaren "}),r.jsx("p",{className:"text-slate-400",children:"Bocka fr vad du har hemma s freslr vi recept."})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr,400px] gap-8",children:[r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[r.jsxs("form",{onSubmit:u,className:"relative mb-6",children:[r.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:""}),r.jsx("input",{type:"text",className:"w-full bg-slate-950 border border-slate-700 rounded-xl pl-11 pr-4 py-3 text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 transition-all",placeholder:"Lgg till vad du har hemma (t.ex. 'Quinoa')...",value:a,onChange:m=>i(m.target.value)})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-3 px-1",children:"Vanliga Basvaror"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(m=>{const c=e.includes(m);return r.jsxs("button",{onClick:()=>t(m),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${c?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-slate-800 text-slate-400 border border-slate-700 hover:bg-slate-700"}`,children:[c?" ":"+ ",m]},m)})})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[r.jsxs("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:["Ditt Skafferi (",e.length,")"]}),e.length>0&&r.jsx("button",{className:"text-xs text-rose-400 hover:text-rose-300 transition-colors",onClick:()=>{confirm("Rensa hela skafferiet?")&&n([])},children:"Rensa allt"})]}),e.length===0?r.jsxs("div",{className:"text-center py-8 text-slate-600 border border-dashed border-slate-800 rounded-xl",children:[r.jsx("span",{className:"text-2xl block mb-2 opacity-50",children:""}),"Ekat tomt hr. Lgg till basvaror ovan!"]}):r.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(m=>r.jsxs("button",{onClick:()=>t(m),className:"group flex items-center gap-2 px-3 py-2 bg-slate-800/60 border border-slate-700 hover:border-rose-500/30 hover:bg-rose-500/10 rounded-xl transition-all",children:[r.jsx("span",{className:"text-slate-200",children:m}),r.jsx("span",{className:"text-slate-500 group-hover:text-rose-400",children:""})]},m))})]})]})}),r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-900/50 border border-slate-800 rounded-2xl p-6 relative overflow-hidden h-full",children:[r.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),r.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Vad kan du laga?"]}),r.jsx("div",{className:"space-y-3 overflow-y-auto max-h-[600px] pr-2 custom-scrollbar",children:d.length===0?r.jsx("p",{className:"text-slate-500 text-sm italic",children:e.length<3?"Lgg till fler ingredienser fr att se matchningar...":"Inga recept matchar just nu. Prova lgga till fler basvaror!"}):d.map(({recipe:m,matchPercentage:c,missing:f})=>r.jsxs("div",{className:"bg-slate-950/50 border border-slate-800 rounded-xl p-4 hover:border-emerald-500/30 transition-all group cursor-pointer",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-bold text-slate-200 group-hover:text-emerald-400 transition-colors",children:m.name}),r.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-md ${c===100?"bg-emerald-500 text-emerald-950":c>=75?"bg-emerald-500/20 text-emerald-400":c>=50?"bg-yellow-500/20 text-yellow-400":"bg-slate-700 text-slate-400"}`,children:[c,"% Match"]})]}),f.length>0&&c<100&&r.jsxs("div",{className:"mt-2 text-xs",children:[r.jsx("span",{className:"text-slate-500",children:"Saknas: "}),r.jsxs("span",{className:"text-rose-400/80",children:[f.slice(0,3).join(", "),f.length>3&&` +${f.length-3} till`]})]})]},m.id))})]})})]})]})}const hi={name:"",description:"",servings:4,prepTime:10,cookTime:20,mealType:"dinner",ingredientsText:"",instructionsText:"",totalWeight:0,priceCategory:"medium",seasons:[]};function M0(){const{recipes:e,addRecipe:t,updateRecipe:n,deleteRecipe:s,foodItems:a,getRecipeWithNutrition:i}=Fe(),{openRecipe:l}=Mp(),[o,d]=v.useState(!1),[u,m]=v.useState(null),[c,f]=v.useState(hi),y=v.useMemo(()=>jt(c.ingredientsText,a),[c.ingredientsText,a]),j=v.useMemo(()=>({calories:Math.round(y.calories/c.servings),protein:Math.round(y.protein/c.servings),price:Math.round(y.price/c.servings),co2:Math.round(y.co2/c.servings*100)/100}),[y,c.servings]),k=b=>{b?(m(b),f({name:b.name,description:b.description||"",servings:b.servings,prepTime:b.prepTime||0,cookTime:b.cookTime||0,mealType:b.mealType||"dinner",ingredientsText:b.ingredientsText||"",instructionsText:b.instructionsText||b.instructions.join(`
`),totalWeight:b.totalWeight||0,priceCategory:b.priceCategory||"medium",seasons:b.seasons||[]})):(m(null),f(hi)),d(!0)},T=()=>{d(!1),m(null),f(hi)},p=b=>{b.preventDefault();const C={name:c.name,description:c.description,servings:c.servings,prepTime:c.prepTime,cookTime:c.cookTime,mealType:c.mealType,ingredientsText:c.ingredientsText,instructionsText:c.instructionsText,totalWeight:c.totalWeight||y.calories*2,priceCategory:c.priceCategory,seasons:c.seasons,ingredients:[],instructions:c.instructionsText.split(`
`).filter(E=>E.trim())};u?n(u.id,C):t(C),T()},h=(b,C)=>{b.stopPropagation(),confirm("r du sker p att du vill ta bort detta recept?")&&s(C)},g=b=>b.ingredientsText?jt(b.ingredientsText,a):null;return r.jsxs("div",{className:"recipes-page",children:[r.jsxs("header",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Recept"}),r.jsxs("p",{className:"page-subtitle",children:[e.length," veganska recept"]})]}),r.jsx("button",{className:"btn btn-primary",onClick:()=>k(),children:"+ Nytt recept"})]}),e.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("span",{className:"empty-icon",children:""}),r.jsx("p",{children:"Inga recept nnu"}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>k(),children:"Skapa ditt frsta recept"})]}):r.jsx("div",{className:"recipes-grid",children:e.map(b=>{const C=g(b),E=(b.prepTime||0)+(b.cookTime||0);return r.jsxs("div",{className:"recipe-card",onClick:()=>k(b),children:[r.jsxs("div",{className:"recipe-card-header",children:[r.jsx("h3",{children:b.name}),r.jsx("button",{className:"delete-btn",onClick:x=>h(x,b.id),title:"Ta bort",children:""})]}),r.jsx("p",{className:"recipe-description",children:b.description}),r.jsxs("div",{className:"recipe-meta",children:[E>0&&r.jsxs("span",{children:[" ",E," min"]}),r.jsxs("span",{children:[" ",b.servings," port"]}),b.mealType&&r.jsx("span",{className:"meal-badge",children:Xe[b.mealType]})]}),C&&r.jsxs("div",{className:"recipe-nutrition",children:[r.jsxs("div",{className:"nutrition-item calories",children:[r.jsx("span",{className:"value",children:Math.round(C.calories/b.servings)}),r.jsx("span",{className:"label",children:"kcal"})]}),r.jsxs("div",{className:"nutrition-item",children:[r.jsxs("span",{className:"value",children:[Math.round(C.protein/b.servings),"g"]}),r.jsx("span",{className:"label",children:"protein"})]}),r.jsxs("div",{className:"nutrition-item",children:[r.jsxs("span",{className:"value",children:[Math.round(C.price/b.servings)," kr"]}),r.jsx("span",{className:"label",children:"pris"})]}),r.jsxs("div",{className:"nutrition-item co2",children:[r.jsx("span",{className:"value",children:(C.co2/b.servings).toFixed(1)}),r.jsx("span",{className:"label",children:"kg CO"})]})]}),r.jsx("div",{className:"recipe-actions",children:r.jsx("button",{className:"btn btn-primary btn-sm",onClick:x=>{x.stopPropagation(),l(b)},children:" Laga"})})]},b.id)})}),o&&r.jsx("div",{className:"modal-overlay",onClick:T,children:r.jsxs("div",{className:"modal modal-large",onClick:b=>b.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("h2",{children:[" ",u?"Redigera Recept":"Skapa Recept"]}),r.jsx("button",{className:"close-btn",onClick:T,children:""})]}),r.jsxs("form",{onSubmit:p,children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"NAMN P RTTEN"}),r.jsx("input",{type:"text",value:c.name,onChange:b=>f({...c,name:b.target.value}),placeholder:"t.ex. Stekt Ris med Tofu",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"BESKRIVNING"}),r.jsx("input",{type:"text",value:c.description,onChange:b=>f({...c,description:b.target.value}),placeholder:"Kort beskrivning"})]})]}),r.jsxs("div",{className:"form-row form-row-4",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"TID (MIN)"}),r.jsx("input",{type:"number",value:c.prepTime+c.cookTime,onChange:b=>f({...c,cookTime:Number(b.target.value)}),min:"0"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"TYP"}),r.jsx("div",{className:"meal-type-buttons",children:["breakfast","lunch","dinner","snack"].map(b=>r.jsx("button",{type:"button",className:`type-btn ${c.mealType===b?"active":""}`,onClick:()=>f({...c,mealType:b}),children:Xe[b]},b))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"PORTIONER"}),r.jsx("input",{type:"number",value:c.servings,onChange:b=>f({...c,servings:Number(b.target.value)||4}),min:"1",max:"20"})]})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("div",{className:"label-row",children:[r.jsx("label",{children:"INGREDIENSER (EN PER RAD)"}),r.jsxs("div",{className:"live-estimate",children:[r.jsxs("span",{className:"estimate-item",children:[" ",y.calories," kcal"]}),r.jsxs("span",{className:"estimate-item",children:[" ",Math.round(y.protein),"g"]}),r.jsxs("span",{className:"estimate-item price",children:[" ",y.price," kr"]}),r.jsxs("span",{className:"estimate-item co2",children:[" ",y.co2.toFixed(1)," kg"]})]})]}),r.jsx("textarea",{className:"ingredients-textarea",value:c.ingredientsText,onChange:b=>f({...c,ingredientsText:b.target.value}),placeholder:`4 port ris (grna kallt)
400g fast tofu
1 pse wokgrnsaker
Soja
Sesamolja
1 vitlksklyfta`,rows:6}),r.jsxs("p",{className:"form-hint",children:[y.matchedCount,"/",y.totalCount," ingredienser matchade  ~",j.calories," kcal/portion"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"INSTRUKTIONER (EN PER RAD)"}),r.jsx("textarea",{className:"instructions-textarea",value:c.instructionsText,onChange:b=>f({...c,instructionsText:b.target.value}),placeholder:`Pressa vtskan ur tofun med hushllspapper. Trna den.
Stek tofun gyllene i olja p hg vrme. Lgg t sidan.
I samma panna: tillstt grnsaker och pressad vitlk.`,rows:5})]}),r.jsx("h3",{className:"form-section-title",children:"Smart Plan Data"}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"PRISNIV"}),r.jsxs("select",{value:c.priceCategory,onChange:b=>f({...c,priceCategory:b.target.value}),className:"price-select",children:[r.jsx("option",{value:"budget",children:" Budget (Billig)"}),r.jsx("option",{value:"medium",children:" Medium (Normal)"}),r.jsx("option",{value:"premium",children:" Premium (Dyr)"})]})]})}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"PASSAR I SSONG"}),r.jsx("div",{className:"checkbox-grid",children:[{id:"winter",label:"Vinter "},{id:"spring",label:"Vr "},{id:"summer",label:"Sommar "},{id:"autumn",label:"Hst "}].map(b=>r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:c.seasons.includes(b.id),onChange:C=>{const E=c.seasons;C.target.checked?f({...c,seasons:[...E,b.id]}):f({...c,seasons:E.filter(x=>x!==b.id)})}}),b.label]},b.id))})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:T,children:"Avbryt"}),r.jsx("button",{type:"submit",className:"btn btn-primary btn-wide",children:" Spara ndringar"})]})]})]})})]})}function L0({nutrition:e,goals:t,viewMode:n}){return n==="compact"?r.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 mb-4 bg-slate-800/50 border border-slate-700 rounded-xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:e.calories}),r.jsx("span",{className:"text-sm text-slate-400",children:"kcal"}),r.jsx("div",{className:"w-24 h-2 bg-slate-700 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${Math.min(e.calories/t.calories*100,100)}%`}})})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"text-violet-400",children:[e.protein,"g P"]}),r.jsxs("span",{className:"text-amber-400",children:[e.carbs,"g K"]}),r.jsxs("span",{className:"text-rose-400",children:[e.fat,"g F"]})]})]}):r.jsxs("div",{className:"daily-summary",children:[r.jsxs("div",{className:"summary-card calories-card",children:[r.jsxs("div",{className:"summary-main",children:[r.jsx("span",{className:"summary-value",children:e.calories}),r.jsx("span",{className:"summary-label",children:"kalorier"})]}),r.jsx("div",{className:"progress-bar",children:r.jsx("div",{className:"progress-fill",style:{width:`${Math.min(e.calories/t.calories*100,100)}%`}})}),r.jsxs("span",{className:"goal-text",children:["ml: ",t.calories]})]}),r.jsxs("div",{className:"macro-cards",children:[r.jsxs("div",{className:"macro-card protein",children:[r.jsxs("span",{className:"macro-value",children:[e.protein,"g"]}),r.jsxs("span",{className:"macro-percent",children:[Math.round(e.protein/t.protein*100),"%"]}),r.jsx("span",{className:"macro-label",children:"Protein"}),r.jsx("div",{className:"macro-progress",children:r.jsx("div",{className:"macro-fill",style:{width:`${Math.min(e.protein/t.protein*100,100)}%`}})})]}),r.jsxs("div",{className:"macro-card carbs",children:[r.jsxs("span",{className:"macro-value",children:[e.carbs,"g"]}),r.jsxs("span",{className:"macro-percent",children:[Math.round(e.carbs/t.carbs*100),"%"]}),r.jsx("span",{className:"macro-label",children:"Kolhydrater"}),r.jsx("div",{className:"macro-progress",children:r.jsx("div",{className:"macro-fill",style:{width:`${Math.min(e.carbs/t.carbs*100,100)}%`}})})]}),r.jsxs("div",{className:"macro-card fat",children:[r.jsxs("span",{className:"macro-value",children:[e.fat,"g"]}),r.jsxs("span",{className:"macro-percent",children:[Math.round(e.fat/t.fat*100),"%"]}),r.jsx("span",{className:"macro-label",children:"Fett"}),r.jsx("div",{className:"macro-progress",children:r.jsx("div",{className:"macro-fill",style:{width:`${Math.min(e.fat/t.fat*100,100)}%`}})})]})]})]})}function R0({viewMode:e,dailyEntries:t,entriesByMeal:n,getItemName:s,getItemCalories:a,updateMealEntry:i,handleDeleteEntry:l,setIsFormOpen:o,setMealType:d,setBreakdownItem:u}){return e==="compact"?r.jsx("div",{className:"flex flex-col gap-1.5 bg-slate-800/30 rounded-xl p-3 border border-slate-700/50",children:t.length===0?r.jsxs("div",{className:"text-center text-slate-500 py-4",children:[r.jsx("span",{children:"Inga mltider loggade"}),r.jsx("button",{className:"ml-3 text-emerald-400 hover:text-emerald-300",onClick:()=>o(!0),children:"+ Lgg till"})]}):r.jsxs(r.Fragment,{children:[t.map(m=>r.jsxs("div",{className:"group flex items-center justify-between py-2 px-3 bg-slate-800/50 hover:bg-slate-800 rounded-lg transition-all",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("span",{className:"text-[10px] uppercase text-slate-500 w-16 shrink-0",children:Xe[m.mealType]}),r.jsx("span",{className:"text-sm text-slate-200 truncate",children:m.items.map(c=>s(c)).join(", ")})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[m.items.map((c,f)=>r.jsx(Bc,{item:c,onUpdate:y=>{i(m.id,{items:m.items.map((j,k)=>k===f?{...j,servings:y}:j)})},isCompact:!0},f)),m.items.length>0&&r.jsxs("button",{className:"text-sm font-medium text-emerald-400 ml-2 hover:text-emerald-300 hover:underline cursor-pointer transition-colors",onClick:c=>{c.stopPropagation(),u(m.items[0])},children:[m.items.reduce((c,f)=>c+a(f),0)," kcal"]}),r.jsx("button",{className:"text-slate-500 hover:text-rose-400 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>l(m.id),children:""})]})]},m.id)),r.jsx(I0,{setIsFormOpen:o})]})}):r.jsx("div",{className:"meals-timeline",children:Object.entries(n).map(([m,c])=>r.jsxs("div",{className:"meal-section",children:[r.jsxs("h3",{className:"meal-title",children:[r.jsxs("span",{className:"meal-icon",children:[m==="breakfast"&&"",m==="lunch"&&"",m==="dinner"&&"",m==="snack"&&"",m==="beverage"&&""]}),Xe[m]]}),c.length===0?r.jsxs("div",{className:"meal-empty",children:[r.jsx("span",{children:"Inga mltider"}),r.jsx("button",{className:"btn btn-ghost",onClick:()=>{d(m),o(!0)},children:"+ Lgg till"})]}):r.jsx("div",{className:"meal-entries",children:c.map(f=>r.jsxs("div",{className:"meal-entry",children:[f.items.map((y,j)=>r.jsxs("div",{className:"entry-item",children:[r.jsx("div",{className:"entry-info",children:r.jsx("span",{className:"entry-name",children:s(y)})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bc,{item:y,onUpdate:k=>{i(f.id,{items:f.items.map((T,p)=>p===j?{...T,servings:k}:T)})}}),r.jsxs("button",{className:"entry-calories ml-2 hover:text-emerald-300 hover:underline cursor-pointer",onClick:k=>{k.stopPropagation(),u(y)},children:[a(y)," kcal"]})]})]},j)),r.jsx("button",{className:"btn-delete",onClick:()=>l(f.id),children:""})]},f.id))})]},m))})}function Bc({item:e,onUpdate:t,isCompact:n=!1}){const s=e.type==="recipe"?.25:25,a=e.type==="recipe"?300:1,i=Math.round(e.servings*a);return r.jsxs("div",{className:`flex items-center ${n?"gap-1":"gap-2"}`,children:[r.jsx("button",{className:`${n?"w-5 h-5 text-xs":"w-6 h-6 text-sm"} flex items-center justify-center rounded bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-slate-200`,onClick:()=>t(Math.max(s,e.servings-s)),children:""}),r.jsxs("div",{className:`flex flex-col items-center ${n?"min-w-[50px]":"min-w-[60px]"}`,children:[r.jsx("span",{className:`${n?"text-xs":"text-sm"} text-slate-200 font-medium`,children:e.type==="recipe"?`${e.servings} port`:`${e.servings}g`}),e.type==="recipe"&&r.jsxs("span",{className:`${n?"text-[9px]":"text-[10px]"} text-slate-500`,children:["",i,"g"]})]}),r.jsx("button",{className:`${n?"w-5 h-5 text-xs":"w-6 h-6 text-sm"} flex items-center justify-center rounded bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-slate-200`,onClick:()=>t(e.servings+s),children:"+"})]})}function I0({setIsFormOpen:e}){return r.jsxs("div",{className:"flex items-center justify-center gap-3 mt-2",children:[r.jsx("button",{className:"flex items-center justify-center gap-2 py-2 px-4 text-sm bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 border border-emerald-500/20 rounded-lg transition-all",onClick:()=>e(!0),children:"+ Lgg till mltid"}),r.jsx("button",{className:"flex items-center justify-center gap-2 py-2 px-4 text-sm bg-violet-500/10 text-violet-400 hover:bg-violet-500/20 border border-violet-500/20 rounded-lg transition-all",onClick:()=>alert("Synka mellanml till veckoplanering - kommer snart!"),title:"Spara dagens mellanml till veckovyn",children:" Spara mellanml"})]})}function D0({isOpen:e,onClose:t,mealType:n,setMealType:s,searchQuery:a,setSearchQuery:i,searchResults:l,proposals:o,quickAddServings:d,setQuickAddServings:u,handleQuickAdd:m}){return v.useEffect(()=>{const c=f=>{f.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,t]),e?r.jsx("div",{className:"modal-overlay",onClick:t,children:r.jsxs("div",{className:"modal quick-add-modal",onClick:c=>c.stopPropagation(),children:[r.jsx("h2",{children:" Sk och lgg till"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Mltidstyp"}),r.jsx("div",{className:"meal-type-selector",children:Object.entries(Xe).map(([c,f])=>r.jsx("button",{type:"button",className:`meal-type-btn ${n===c?"active":""}`,onClick:()=>s(c),children:f},c))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Sk recept eller rvara"}),r.jsx("input",{type:"text",placeholder:"Skriv fr att ska...",value:a,onChange:c=>i(c.target.value),autoFocus:!0})]}),!a&&o.length>0&&r.jsxs("div",{className:"search-results proposals-results",children:[r.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold mb-2 tracking-wider",children:"Ofta anvnda"}),o.map(c=>r.jsxs("div",{className:"search-result-item",children:[r.jsxs("div",{className:"result-info",children:[r.jsx("span",{className:"result-type",children:c.type==="recipe"?"":""}),r.jsxs("div",{children:[r.jsx("strong",{children:c.name}),r.jsx("small",{children:c.subtitle})]})]}),r.jsx("div",{className:"result-actions",children:r.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>m(c.type,c.id,c.defaultPortion),children:"+ Lgg till"})})]},`prop-${c.type}-${c.id}`))]}),a&&l.length>0&&r.jsx("div",{className:"search-results",children:l.map(c=>r.jsxs("div",{className:"search-result-item",children:[r.jsxs("div",{className:"result-info",children:[r.jsx("span",{className:"result-type",children:c.type==="recipe"?"":""}),r.jsxs("div",{children:[r.jsx("strong",{children:c.name}),r.jsx("small",{children:c.subtitle})]})]}),r.jsxs("div",{className:"result-actions",children:[r.jsxs("div",{className:"portion-control",children:[r.jsx("button",{className:"btn-portion",onClick:()=>u(Math.max(.25,d-.25)),children:""}),r.jsx("span",{className:"portion-value",children:d}),r.jsx("button",{className:"btn-portion",onClick:()=>u(d+.25),children:"+"})]}),r.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>m(c.type,c.id,c.defaultPortion),children:"+ Lgg till"})]})]},`${c.type}-${c.id}`))}),a&&l.length===0&&r.jsxs("p",{className:"no-results",children:['Inga resultat fr "',a,'"']}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Stng"})})]})}):null}function F0({item:e,onClose:t,recipes:n,foodItems:s,getFoodItem:a}){if(!e)return null;const i=e.type==="recipe",l=i?n.find(h=>h.id===e.referenceId):null,o=i?null:a(e.referenceId),d=i?l==null?void 0:l.name:o==null?void 0:o.name,u=e.servings,m={g:1,kg:1e3,ml:1,dl:100,l:1e3,msk:15,tsk:5,portion:200,pcs:100},c=i&&(l!=null&&l.ingredientsText)?dr(l.ingredientsText).map(h=>{const g=En(h,s),b=m[h.unit]||100,E=h.quantity*b/(l.servings||1)*u;return{name:h.name,amount:Math.round(E),unit:"g",calories:g?Math.round(g.calories/100*E):0,protein:g?Math.round(g.protein/100*E*10)/10:0,carbs:g?Math.round(g.carbs/100*E*10)/10:0,fat:g?Math.round(g.fat/100*E*10)/10:0,iron:g?(g.iron||0)/100*E:0,calcium:g?(g.calcium||0)/100*E:0,zinc:g?(g.zinc||0)/100*E:0,vitaminB12:g?(g.vitaminB12||0)/100*E:0,isComplete:g==null?void 0:g.isCompleteProtein,missingAminoAcids:g==null?void 0:g.missingAminoAcids,complementaryCategories:g==null?void 0:g.complementaryCategories}}):[],f=!i&&o?[{name:o.name,amount:u,unit:"g",calories:Math.round(o.calories/100*u),protein:Math.round(o.protein/100*u*10)/10,carbs:Math.round(o.carbs/100*u*10)/10,fat:Math.round(o.fat/100*u*10)/10,iron:(o.iron||0)/100*u,calcium:(o.calcium||0)/100*u,zinc:(o.zinc||0)/100*u,vitaminB12:(o.vitaminB12||0)/100*u,isComplete:o.isCompleteProtein,missingAminoAcids:o.missingAminoAcids,complementaryCategories:o.complementaryCategories}]:[],y=i?c:f,j=y.reduce((h,g)=>({calories:h.calories+g.calories,protein:h.protein+g.protein,carbs:h.carbs+g.carbs,fat:h.fat+g.fat,iron:h.iron+(g.iron||0),calcium:h.calcium+(g.calcium||0),zinc:h.zinc+(g.zinc||0),vitaminB12:h.vitaminB12+(g.vitaminB12||0)}),{calories:0,protein:0,carbs:0,fat:0,iron:0,calcium:0,zinc:0,vitaminB12:0}),k=y.some(h=>h.isComplete)||y.some(h=>{var g;return(g=h.complementaryCategories)==null?void 0:g.includes("grains")})&&y.some(h=>{var g;return(g=h.complementaryCategories)==null?void 0:g.includes("legumes")}),T=y.reduce((h,g)=>(!g.isComplete&&g.missingAminoAcids&&g.missingAminoAcids.forEach(b=>h.add(b)),h),new Set),p=y.some(h=>{var g;return(g=h.complementaryCategories)==null?void 0:g.includes("grains")})&&y.some(h=>{var g;return(g=h.complementaryCategories)==null?void 0:g.includes("legumes")});return r.jsx("div",{className:"modal-overlay",onClick:t,children:r.jsxs("div",{className:"modal",onClick:h=>h.stopPropagation(),style:{maxWidth:"500px"},children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-bold text-slate-100",children:d}),r.jsx("span",{className:"text-sm text-slate-400",children:i?`${u} portion${u!==1?"er":""}`:`${u}g`})]}),r.jsx("button",{className:"text-slate-400 hover:text-slate-200 text-xl",onClick:t,children:""})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4 p-3 bg-slate-800/50 rounded-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("span",{className:"block text-lg font-bold text-emerald-400",children:Math.round(j.calories)}),r.jsx("span",{className:"text-xs text-slate-500",children:"kcal"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("span",{className:"block text-lg font-bold text-violet-400",children:[j.protein.toFixed(1),"g"]}),r.jsx("span",{className:"text-xs text-slate-500",children:"protein"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("span",{className:"block text-lg font-bold text-amber-400",children:[j.carbs.toFixed(1),"g"]}),r.jsx("span",{className:"text-xs text-slate-500",children:"kolhydrat"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("span",{className:"block text-lg font-bold text-rose-400",children:[j.fat.toFixed(1),"g"]}),r.jsx("span",{className:"text-xs text-slate-500",children:"fett"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg border border-slate-700/50",children:[r.jsx("h3",{className:"text-[10px] text-slate-500 uppercase font-bold mb-2",children:"Proteinkvalitet"}),k?r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("span",{className:"text-xs text-emerald-400 font-medium flex items-center gap-1",children:[" Fullvrdigt ",p&&r.jsx("span",{className:"text-[10px] opacity-70",children:"(kombinerat)"})]}),r.jsx("span",{className:"text-[10px] text-slate-400",children:"Innehller alla essentiella aminosyror."})]}):r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:"text-xs text-amber-400 font-medium",children:"! Inkomplett protein"}),T.size>0&&r.jsxs("span",{className:"text-[10px] text-slate-400",children:["Lgt p: ",[...T].join(", ")]})]})]}),r.jsxs("div",{className:"bg-slate-800/30 p-3 rounded-lg border border-slate-700/50",children:[r.jsx("h3",{className:"text-[10px] text-slate-500 uppercase font-bold mb-2",children:"Mikronring"}),r.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Jrn:"}),r.jsxs("span",{className:"text-slate-200",children:[j.iron.toFixed(1),"mg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Zink:"}),r.jsxs("span",{className:"text-slate-200",children:[j.zinc.toFixed(1),"mg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"Kalcium:"}),r.jsxs("span",{className:"text-slate-200",children:[Math.round(j.calcium),"mg"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-slate-400",children:"B12:"}),r.jsxs("span",{className:"text-slate-200",children:[j.vitaminB12.toFixed(1),"g"]})]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-1 max-h-48 overflow-y-auto",children:[r.jsxs("div",{className:"grid grid-cols-[1fr_auto_auto_auto_auto] gap-2 text-[10px] text-slate-500 uppercase font-bold px-2 pb-1 border-b border-slate-700 sticky top-0 bg-slate-900",children:[r.jsx("span",{children:"Ingrediens"}),r.jsx("span",{className:"w-14 text-right",children:"Mngd"}),r.jsx("span",{className:"w-12 text-right",children:"Kcal"}),r.jsx("span",{className:"w-10 text-right",children:"P"}),r.jsx("span",{className:"w-10 text-right",children:"Mikro"})]}),y.map((h,g)=>r.jsxs("div",{className:"grid grid-cols-[1fr_auto_auto_auto_auto] gap-2 text-sm py-1.5 px-2 hover:bg-slate-800/50 rounded",children:[r.jsx("span",{className:"text-slate-300 truncate",title:h.name,children:h.name}),r.jsxs("span",{className:"w-14 text-right text-slate-400",children:[h.amount,h.unit]}),r.jsx("span",{className:"w-12 text-right text-emerald-400",children:h.calories}),r.jsx("span",{className:"w-10 text-right text-violet-400",children:h.protein}),r.jsxs("span",{className:"w-10 text-right text-slate-400 text-[10px]",children:[h.iron>.5?"Fe ":"",h.calcium>10?"Ca ":""]})]},g))]}),r.jsx("button",{className:"w-full mt-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",onClick:t,children:"Stng"})]})})}function _0({onDateSelect:e}){const{mealEntries:t,recipes:n,foodItems:s,calculateDailyNutrition:a}=Fe(),{settings:i}=Gt(),l=v.useMemo(()=>{const x=[];for(let w=6;w>=0;w--){const S=new Date;S.setDate(S.getDate()-w);const P=ct(S),M=a(P);x.push({date:P,label:w===0?"Idag":new Date(P).toLocaleDateString("sv-SE",{weekday:"short"}),calories:M.calories,protein:M.protein})}return x},[t,n,s,a]),o=Math.round(l.reduce((x,w)=>x+w.calories,0)/7),d=Math.round(l.reduce((x,w)=>x+w.protein,0)/7*10)/10,u=i.dailyCalorieGoal||2e3,m=i.dailyProteinGoal||150,c=100,f=300,y=32,j=8,k=2.5,T=2.5,p=u*k,h=m*T,g=Math.max(...l.map(x=>x.calories),u,1),b=Math.max(...l.map(x=>x.protein),m,1),C=Math.min(g,p),E=Math.min(b,h);return r.jsxs("div",{className:"nutrition-insights p-4 bg-slate-900/50 rounded-2xl border border-slate-800 animate-fadeIn mt-4",children:[r.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[r.jsx("span",{children:""})," Insikter & Trender"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"trend-card",children:[r.jsxs("div",{className:"flex justify-between items-end mb-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-slate-500 block",children:"Kaloritrend (7 dgr)"}),r.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:[o," ",r.jsx("span",{className:"text-xs font-normal text-slate-500",children:"kcal snitt"})]})]}),r.jsxs("span",{className:"text-[10px] text-slate-500",children:["Ml: ",u]})]}),r.jsxs("svg",{viewBox:`0 0 ${f} ${c}`,className:"w-full h-24 overflow-visible group/cal",children:[r.jsx("line",{x1:"0",y1:c-u/C*c,x2:f,y2:c-u/C*c,stroke:"#334155",strokeDasharray:"4 2"}),l.map((x,w)=>{const S=x.calories/C*c,P=x.calories>p,M=Math.min(S,c),D=w*(y+j),G=w===6;return r.jsxs("g",{className:"cursor-pointer group/bar transition-all duration-300",onClick:()=>e==null?void 0:e(x.date),children:[r.jsx("title",{children:`${x.date}: ${x.calories} kcal`}),r.jsx("rect",{x:D,y:c-M,width:y,height:M,fill:G?"#10b981":"#10b98144",className:"hover:fill-emerald-400 transition-colors duration-200",rx:"4"}),P&&r.jsx("text",{x:D+y/2,y:c-M+10,textAnchor:"middle",className:"text-[10px] fill-white font-bold pointer-events-none",children:"!"}),r.jsx("text",{x:D+y/2,y:c+12,textAnchor:"middle",className:`text-[8px] uppercase tracking-tighter transition-colors ${G?"fill-emerald-400 font-bold":"fill-slate-500"} group-hover/bar:fill-white`,children:x.label}),r.jsx("text",{x:D+y/2,y:c-M-4,textAnchor:"middle",className:"text-[8px] fill-emerald-300 font-bold opacity-0 group-hover/bar:opacity-100 transition-opacity",children:x.calories})]},x.date)})]})]}),r.jsxs("div",{className:"trend-card",children:[r.jsxs("div",{className:"flex justify-between items-end mb-2",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-slate-500 block",children:"Proteintrend (7 dgr)"}),r.jsxs("span",{className:"text-lg font-bold text-violet-400",children:[d,"g ",r.jsx("span",{className:"text-xs font-normal text-slate-500",children:"snitt"})]})]}),r.jsxs("span",{className:"text-[10px] text-slate-500",children:["Ml: ",m,"g"]})]}),r.jsxs("svg",{viewBox:`0 0 ${f} ${c}`,className:"w-full h-24 overflow-visible group/prot",children:[r.jsx("line",{x1:"0",y1:c-m/E*c,x2:f,y2:c-m/E*c,stroke:"#334155",strokeDasharray:"4 2"}),l.map((x,w)=>{const S=x.protein/E*c,P=x.protein>h,M=Math.min(S,c),D=w*(y+j),G=w===6;return r.jsxs("g",{className:"cursor-pointer group/bar transition-all duration-300",onClick:()=>e==null?void 0:e(x.date),children:[r.jsx("title",{children:`${x.date}: ${x.protein}g protein`}),r.jsx("rect",{x:D,y:c-M,width:y,height:M,fill:G?"#8b5cf6":"#8b5cf644",className:"hover:fill-violet-400 transition-colors duration-200",rx:"4"}),P&&r.jsx("text",{x:D+y/2,y:c-M+10,textAnchor:"middle",className:"text-[10px] fill-white font-bold pointer-events-none",children:"!"}),r.jsx("text",{x:D+y/2,y:c+12,textAnchor:"middle",className:`text-[8px] uppercase tracking-tighter transition-colors ${G?"fill-violet-400 font-bold":"fill-slate-500"} group-hover/bar:fill-white`,children:x.label}),r.jsxs("text",{x:D+y/2,y:c-M-4,textAnchor:"middle",className:"text-[8px] fill-violet-300 font-bold opacity-0 group-hover/bar:opacity-100 transition-opacity",children:[x.protein,"g"]})]},x.date)})]})]})]}),r.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-xl border border-slate-700/30",children:[r.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block mb-1",children:"Dagens Tips"}),r.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:["Kombinera ",r.jsx("span",{className:"text-amber-400",children:"baljvxter"})," med ",r.jsx("span",{className:"text-sky-400",children:"spannml"})," fr att f i dig alla essentiella aminosyror!"]})]}),r.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-xl border border-slate-700/30",children:[r.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block mb-1",children:"Prognos"}),r.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:["Baserat p veckan ligger du p ",r.jsxs("span",{className:"text-emerald-400",children:[Math.round(o/u*100),"%"]})," av ditt kalorieml.",o<u?" Ett litet verskott kan behvas fr muskelbygge.":" Snyggt jobbat!"]})]}),r.jsxs("div",{className:"bg-slate-800/40 p-3 rounded-xl border border-slate-700/30",children:[r.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold block mb-1",children:"Mikro-koll"}),r.jsxs("p",{className:"text-xs text-slate-300 leading-relaxed",children:["Har du tit ",r.jsx("span",{className:"text-rose-400",children:"broccoli"})," eller ",r.jsx("span",{className:"text-rose-400",children:"spenat"})," idag? Bra kllor till bde jrn och kalcium fr veganer."]})]})]})]})}function O0(){const{foodItems:e,recipes:t,mealEntries:n,addMealEntry:s,updateMealEntry:a,deleteMealEntry:i,getMealEntriesForDate:l,calculateDailyNutrition:o,getRecipeWithNutrition:d,getFoodItem:u,getPlannedMealsForDate:m,getExercisesForDate:c}=Fe(),{settings:f}=Gt(),[y,j]=v.useState(ct()),[k,T]=v.useState(!1),p=()=>{const W=new Date().getHours();return W>=5&&W<10?"breakfast":W>=10&&W<14?"lunch":W>=14&&W<20?"dinner":"snack"},[h,g]=v.useState(p()),[b,C]=v.useState("compact"),[E,x]=v.useState(""),[w,S]=v.useState(1),[P]=v.useState("portions"),[M,D]=v.useState(null),G=v.useMemo(()=>l(y),[l,y]),V=v.useMemo(()=>c(y),[c,y]),$=v.useMemo(()=>o(y),[o,y]),X=v.useMemo(()=>{const W={breakfast:[],lunch:[],dinner:[],snack:[],beverage:[]};return G.forEach(ne=>{W[ne.mealType].push(ne)}),W},[G]),Z=v.useMemo(()=>{if(!E.trim())return[];const W=E.toLowerCase(),ne=t.filter(re=>re.name.toLowerCase().includes(W)).slice(0,5).map(re=>({type:"recipe",id:re.id,name:re.name,subtitle:`${re.servings} portioner`})),ie=e.filter(re=>re.name.toLowerCase().includes(W)).slice(0,5).map(re=>({type:"foodItem",id:re.id,name:re.name,subtitle:`${re.calories} kcal/100g`,defaultPortion:re.defaultPortionGrams}));return[...ne,...ie].slice(0,8)},[E,t,e]),L=v.useMemo(()=>{const W={};return n.forEach(ne=>{const ie=new Date(ne.createdAt||ne.date).getTime();ne.items.forEach(re=>{const K=`${re.type}-${re.referenceId}`;W[K]||(W[K]={type:re.type,id:re.referenceId,count:0,lastUsed:ie}),W[K].count++,W[K].lastUsed=Math.max(W[K].lastUsed,ie)})}),Object.values(W).sort((ne,ie)=>{const re=ne.lastUsed,K=ie.lastUsed;return ne.count!==ie.count?ie.count-ne.count:K-re}).slice(0,10).map(ne=>{if(ne.type==="recipe"){const ie=t.find(re=>re.id===ne.id);return{type:"recipe",id:ne.id,name:(ie==null?void 0:ie.name)||"Oknt recept",subtitle:"Ofta anvnd"}}else{const ie=e.find(re=>re.id===ne.id);return{type:"foodItem",id:ne.id,name:(ie==null?void 0:ie.name)||"Oknd rvara",subtitle:"Ofta anvnd",defaultPortion:ie==null?void 0:ie.defaultPortionGrams}}})},[n,t,e]),_=(W,ne,ie)=>{let re=w;W==="foodItem"&&(P==="st"&&ie?re=ie*w:P==="grams"?re=w:re=(ie||100)*w),s({date:y,mealType:h,items:[{type:W,referenceId:ne,servings:re}]}),x(""),S(1)},A=W=>{confirm("Ta bort denna mltid?")&&i(W)},O=W=>{if(W.type==="recipe"){const ne=t.find(ie=>ie.id===W.referenceId);return(ne==null?void 0:ne.name)||"Oknt recept"}else{const ne=e.find(ie=>ie.id===W.referenceId);return(ne==null?void 0:ne.name)||"Oknd rvara"}},Y=W=>{if(W.type==="recipe"){const ne=t.find(re=>re.id===W.referenceId);if(ne!=null&&ne.ingredientsText){const re=jt(ne.ingredientsText,e);return Math.round(re.calories/ne.servings*W.servings)}const ie=d(W.referenceId);if(ie)return Math.round(ie.nutritionPerServing.calories*W.servings)}else{const ne=u(W.referenceId);if(ne)return Math.round(ne.calories*(W.servings/100))}return 0},U=W=>{const ne=new Date(y);ne.setDate(ne.getDate()+W),j(ct(ne))},J=y===ct(),Q=v.useMemo(()=>m(y),[m,y]),te=v.useMemo(()=>Q.filter(W=>!G.some(ie=>ie.mealType===W.mealType&&ie.items.some(re=>re.referenceId===W.meal.recipeId))),[Q,G]),R=(W,ne)=>{s({date:y,mealType:W,items:[{type:"recipe",referenceId:ne,servings:1}]})},ee=()=>{te.forEach(W=>{R(W.mealType,W.meal.recipeId)})},ae={calories:f.dailyCalorieGoal,protein:f.dailyProteinGoal,carbs:f.dailyCarbsGoal,fat:f.dailyFatGoal},[oe,_e]=v.useState(!1);return r.jsxs("div",{className:"calories-page",children:[r.jsxs("header",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Kalorier"}),r.jsx("p",{className:"page-subtitle",children:"Logga mltider och flj dina makron"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:`btn ${oe?"btn-primary":"btn-secondary"} btn-sm shadow-sm`,onClick:()=>_e(!oe),children:oe?" Dlj Insikter":" Visa Trender"}),r.jsx("button",{className:"btn btn-primary",onClick:()=>T(!0),children:"+ Logga mltid"})]})]}),r.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[r.jsx("button",{className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${b==="compact"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-slate-800 text-slate-400 border border-slate-700"}`,onClick:()=>C("compact"),children:" Kompakt"}),r.jsx("button",{className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all ${b==="normal"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-slate-800 text-slate-400 border border-slate-700"}`,onClick:()=>C("normal"),children:" Detaljerad"})]}),r.jsxs("div",{className:"date-nav",children:[r.jsx("button",{className:"btn btn-ghost",onClick:()=>U(-1),children:" Fregende"}),r.jsxs("div",{className:"current-date",children:[r.jsx("input",{type:"date",value:y,onChange:W=>j(W.target.value)}),J&&r.jsx("span",{className:"today-badge",children:"Idag"})]}),r.jsx("button",{className:"btn btn-ghost",onClick:()=>U(1),children:"Nsta "})]}),te.length>0&&r.jsxs("div",{className:"planned-meals-banner",children:[r.jsxs("div",{className:"banner-content",children:[r.jsx("span",{className:"banner-icon",children:""}),r.jsxs("div",{className:"banner-text",children:[r.jsxs("strong",{children:[te.length," planerade mltid",te.length>1?"er":""]}),r.jsx("span",{className:"banner-subtitle",children:te.map(W=>{const ne=t.find(ie=>ie.id===W.meal.recipeId);return(ne==null?void 0:ne.name)||"Oknt recept"}).join(", ")})]})]}),r.jsx("button",{className:"btn btn-primary btn-sm",onClick:ee,children:" Logga alla"})]}),oe?r.jsx(_0,{onDateSelect:j}):r.jsx(L0,{nutrition:$,goals:ae,viewMode:b}),r.jsx(R0,{viewMode:b,dailyEntries:G,entriesByMeal:X,getItemName:O,getItemCalories:Y,updateMealEntry:a,handleDeleteEntry:A,setIsFormOpen:T,setMealType:g,setBreakdownItem:D}),V.length>0&&r.jsxs("section",{className:"mt-8",children:[r.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest mb-4 px-2",children:"Trningspass"}),r.jsx("div",{className:"space-y-2",children:V.map(W=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/50 border border-white/5 rounded-2xl",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-xl",children:""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-bold text-slate-200",children:W.type==="running"?"Lpning":W.type==="cycling"?"Cykling":W.type==="strength"?"Styrka":W.type==="walking"?"Promenad":W.type==="swimming"?"Simning":W.type==="yoga"?"Yoga":"Annat"}),r.jsxs("div",{className:"text-[10px] text-slate-500",children:[W.durationMinutes," min  ",W.intensity]})]})]}),r.jsxs("span",{className:"text-rose-400 font-black",children:["-",W.caloriesBurned," kcal"]})]},W.id))})]}),r.jsx(D0,{isOpen:k,onClose:()=>T(!1),mealType:h,setMealType:g,searchQuery:E,setSearchQuery:x,searchResults:Z,proposals:L,quickAddServings:w,setQuickAddServings:S,handleQuickAdd:_}),r.jsx(F0,{item:M,onClose:()=>D(null),recipes:t,foodItems:e,getFoodItem:u})]})}const z0=["breakfast","lunch","dinner","snack"];function $0(){const{settings:e,theme:t,toggleTheme:n,toggleMealVisibility:s,updateSettings:a}=Gt(),{currentUser:i}=Fe();return r.jsxs("div",{className:"profile-page",children:[r.jsx("header",{className:"mb-12",children:r.jsxs("div",{className:"flex items-center gap-6 p-8 bg-slate-900/50 rounded-3xl border border-white/5 backdrop-blur-sm",children:[r.jsx("div",{className:"w-20 h-20 bg-emerald-500 rounded-[2rem] flex items-center justify-center text-4xl shadow-2xl shadow-emerald-500/20",children:""}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("h1",{className:"text-3xl font-black text-white",children:(i==null?void 0:i.name)||"Gst"}),r.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full uppercase tracking-widest font-bold ${(i==null?void 0:i.plan)==="evergreen"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-slate-800 text-gray-400"}`,children:(i==null?void 0:i.plan)==="evergreen"?" Evergreen":"Gratis"})]}),r.jsx("p",{className:"text-gray-400 font-medium opacity-60 tracking-wide uppercase text-xs",children:(i==null?void 0:i.email)||"Ingen e-post"}),r.jsxs("p",{className:"text-emerald-400/50 text-[10px] font-bold uppercase tracking-tighter",children:["Medlem sedan ",i!=null&&i.createdAt?new Date(i.createdAt).toLocaleDateString():"idag"]})]})]})}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Utseende"}),r.jsx("div",{className:"setting-card",children:r.jsxs("div",{className:"setting-row",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx("span",{className:"setting-label",children:"Tema"}),r.jsx("span",{className:"setting-description",children:"Vlj mellan ljust och mrkt lge"})]}),r.jsxs("div",{className:"theme-toggle",children:[r.jsx("button",{className:`theme-btn ${t==="light"?"active":""}`,onClick:()=>t!=="light"&&n(),children:" Ljust"}),r.jsx("button",{className:`theme-btn ${t==="dark"?"active":""}`,onClick:()=>t!=="dark"&&n(),children:" Mrkt"})]})]})})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Veckovy"}),r.jsxs("div",{className:"setting-card",children:[r.jsxs("div",{className:"setting-info",style:{marginBottom:"1rem"},children:[r.jsx("span",{className:"setting-label",children:"Synliga mltider"}),r.jsx("span",{className:"setting-description",children:"Vlj vilka mltider som ska visas i veckovy"})]}),r.jsx("div",{className:"meal-checkboxes",children:z0.map(l=>r.jsxs("label",{className:"checkbox-label",children:[r.jsx("input",{type:"checkbox",checked:e.visibleMeals.includes(l),onChange:()=>s(l)}),r.jsx("span",{className:"checkbox-custom"}),r.jsx("span",{children:Xe[l]})]},l))})]})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Dagliga Ml"}),r.jsx("div",{className:"setting-card",children:r.jsxs("div",{className:"goals-grid",children:[r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{htmlFor:"calorieGoal",children:"Kalorier (kcal)"}),r.jsx("input",{type:"number",id:"calorieGoal",value:e.dailyCalorieGoal,onChange:l=>a({dailyCalorieGoal:Number(l.target.value)}),min:"0"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{htmlFor:"proteinGoal",children:"Protein (g)"}),r.jsx("input",{type:"number",id:"proteinGoal",value:e.dailyProteinGoal,onChange:l=>a({dailyProteinGoal:Number(l.target.value)}),min:"0"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{htmlFor:"carbsGoal",children:"Kolhydrater (g)"}),r.jsx("input",{type:"number",id:"carbsGoal",value:e.dailyCarbsGoal,onChange:l=>a({dailyCarbsGoal:Number(l.target.value)}),min:"0"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{htmlFor:"fatGoal",children:"Fett (g)"}),r.jsx("input",{type:"number",id:"fatGoal",value:e.dailyFatGoal,onChange:l=>a({dailyFatGoal:Number(l.target.value)}),min:"0"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{htmlFor:"sleepGoal",children:"Smnml (h)"}),r.jsx("input",{type:"number",id:"sleepGoal",value:e.dailySleepGoal||8,onChange:l=>a({dailySleepGoal:Number(l.target.value)}),min:"0",step:"0.5"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{htmlFor:"waterGoal",children:"Vattenml (glas)"}),r.jsx("input",{type:"number",id:"waterGoal",value:e.dailyWaterGoal||8,onChange:l=>a({dailyWaterGoal:Number(l.target.value)}),min:"0"})]})]})})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Fysisk Profil"}),r.jsx("div",{className:"setting-card",children:r.jsxs("div",{className:"goals-grid",children:[r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{children:"Kn"}),r.jsxs("select",{value:e.gender||"other",onChange:l=>a({gender:l.target.value}),className:"w-full bg-slate-800 border-white/5 rounded-xl p-3 text-white appearance-none",children:[r.jsx("option",{value:"male",children:"Man"}),r.jsx("option",{value:"female",children:"Kvinna"}),r.jsx("option",{value:"other",children:"Annat / Snitt"})]})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{children:"lder"}),r.jsx("input",{type:"number",value:e.age||"",onChange:l=>a({age:Number(l.target.value)}),placeholder:"30"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{children:"Lngd (cm)"}),r.jsx("input",{type:"number",value:e.height||"",onChange:l=>a({height:Number(l.target.value)}),placeholder:"175"})]}),r.jsxs("div",{className:"goal-input-group",children:[r.jsx("label",{children:"Trningsml"}),r.jsxs("select",{value:e.trainingGoal||"neutral",onChange:l=>a({trainingGoal:l.target.value}),className:"w-full bg-slate-800 border-white/5 rounded-xl p-3 text-white appearance-none",children:[r.jsx("option",{value:"neutral",children:"Neutral (Balans)"}),r.jsx("option",{value:"deff",children:"Deff (-500 kcal)"}),r.jsx("option",{value:"bulk",children:"Bulk (+500 kcal)"})]})]})]})})]}),r.jsxs("section",{className:"settings-section",children:[r.jsx("h2",{children:"Data"}),r.jsx("div",{className:"setting-card",children:r.jsxs("div",{className:"setting-row",children:[r.jsxs("div",{className:"setting-info",children:[r.jsx("span",{className:"setting-label",children:"Rensa all data"}),r.jsx("span",{className:"setting-description",children:"Ta bort all sparad data (kan inte ngras)"})]}),r.jsx("button",{className:"btn btn-danger",onClick:()=>{confirm("r du sker? All data raderas permanent.")&&(localStorage.clear(),window.location.reload())},children:"Rensa data"})]})})]})]})}const At=[{type:"running",icon:"",label:"Lpning"},{type:"cycling",icon:"",label:"Cykling"},{type:"strength",icon:"",label:"Styrka"},{type:"walking",icon:"",label:"Promenad"},{type:"swimming",icon:"",label:"Simning"},{type:"yoga",icon:"",label:"Yoga"},{type:"other",icon:"",label:"Annat"}],br=[{value:"low",label:"Lg",color:"text-slate-400"},{value:"moderate",label:"Medel",color:"text-emerald-400"},{value:"high",label:"Hg",color:"text-rose-400"},{value:"ultra",label:"Max",color:"text-purple-400"}];function B0(){var Z,L,_,A,O,Y,U,J,Q,te;const{exerciseEntries:e,weightEntries:t,addExercise:n,deleteExercise:s,addWeightEntry:a,getLatestWeight:i,calculateExerciseCalories:l,calculateBMR:o}=Fe(),{settings:d,updateSettings:u}=Gt(),[m,c]=v.useState(ct()),[f,y]=v.useState(!1),[j,k]=v.useState(!1),[T,p]=v.useState(""),[h,g]=v.useState(i().toString()),[b,C]=v.useState({type:"running",duration:"30",intensity:"moderate",notes:""});v.useEffect(()=>{const R=ee=>{ee.key==="Escape"&&(y(!1),k(!1))};return(f||j)&&window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[f,j]);const E=v.useMemo(()=>{if(!T)return null;const R=T.toLowerCase();let ee=null;R.includes("l")||R.includes("run")?ee="running":R.includes("cy")||R.includes("bik")?ee="cycling":R.includes("st")||R.includes("gym")||R.includes("lyft")?ee="strength":R.includes("ga")||R.includes("prom")||R.includes("walk")?ee="walking":R.includes("si")||R.includes("swi")?ee="swimming":R.includes("yo")&&(ee="yoga");const ae=R.match(/(\d+)\s*(min|h|t|m)?/);let oe=null;if(ae){oe=parseInt(ae[1]);const W=ae[2];(W==="h"||W==="t")&&(oe*=60)}let _e=null;return R.includes("ltt")||R.includes("lg")||R.includes("slow")?_e="low":R.includes("hg")||R.includes("hrt")||R.includes("hard")||R.includes("tuff")?_e="high":R.includes("max")||R.includes("ultra")?_e="ultra":(R.includes("med")||R.includes("norm"))&&(_e="moderate"),{type:ee,duration:oe,intensity:_e}},[T]),x=(E==null?void 0:E.type)||b.type,w=((Z=E==null?void 0:E.duration)==null?void 0:Z.toString())||b.duration,S=(E==null?void 0:E.intensity)||b.intensity,P=v.useMemo(()=>e.filter(R=>R.date===m),[e,m]),M=v.useMemo(()=>P.reduce((R,ee)=>R+ee.caloriesBurned,0),[P]),D=o(),G=d.trainingGoal==="deff"?-500:d.trainingGoal==="bulk"?500:0,V=D+M+G,$=R=>{R.preventDefault();const ee=parseInt(w)||0,ae=l(x,ee,S);n({date:m,type:x,durationMinutes:ee,intensity:S,caloriesBurned:ae,notes:b.notes}),y(!1),C({...b,notes:""}),p("")},X=R=>{R.preventDefault();const ee=parseFloat(h);isNaN(ee)||(a(ee,m),k(!1))};return r.jsxs("div",{className:"training-page",children:[r.jsxs("header",{className:"page-header flex-col md:flex-row gap-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{children:"Trning & Fysik"}),r.jsx("p",{className:"page-subtitle",children:"Optimera din frbrnning och flj din trend"})]}),r.jsx("div",{className:"flex-1 max-w-xl w-full",children:r.jsxs("div",{className:"relative group",children:[r.jsxs("div",{className:"absolute -top-6 left-0 flex items-center gap-2",children:[r.jsx("span",{className:"text-[10px] font-black text-emerald-500 uppercase tracking-widest",children:"Snabb-logga pass"}),r.jsx("span",{className:"text-[9px] text-slate-500 italic lowercase",children:'t.ex. "45min lpning hg"'})]}),r.jsx("input",{type:"text",value:T,onChange:R=>p(R.target.value),onKeyDown:R=>R.key==="Enter"&&T&&$(R),placeholder:"Vad har du trnat idag?",className:"w-full bg-slate-900/80 backdrop-blur-xl border border-white/5 rounded-2xl p-4 text-white focus:border-emerald-500/30 transition-all outline-none shadow-2xl"}),T&&r.jsx("button",{onClick:$,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-emerald-500 text-slate-950 text-[10px] font-black px-4 py-2 rounded-xl hover:bg-emerald-400 transition-colors",children:"LOGGA"}),T&&r.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-slate-900 border border-white/10 rounded-2xl shadow-2xl z-50 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-xl",children:(L=At.find(R=>R.type===x))==null?void 0:L.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-[10px] font-black text-white",children:(_=At.find(R=>R.type===x))==null?void 0:_.label}),r.jsxs("div",{className:"text-[9px] text-slate-500",children:[w," min  ",(A=br.find(R=>R.value===S))==null?void 0:A.label]})]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("div",{className:"text-[10px] font-black text-emerald-400",children:["-",l(x,parseInt(w)||0,S)," kcal"]})})]})]})}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{className:"btn btn-secondary !rounded-2xl",onClick:()=>k(!0),children:" Logga Vikt"})})]}),r.jsx("section",{className:"goal-section mb-8",children:r.jsx("div",{className:"goal-cards",children:["deff","neutral","bulk"].map(R=>r.jsxs("button",{className:`goal-card ${d.trainingGoal===R?"active":""}`,onClick:()=>u({trainingGoal:R}),children:[r.jsx("span",{className:"goal-icon",children:R==="deff"?"":R==="neutral"?"":""}),r.jsxs("div",{className:"goal-info",children:[r.jsx("span",{className:"goal-label",children:R.toUpperCase()}),r.jsx("span",{className:"goal-desc",children:R==="deff"?"-500 kcal":R==="neutral"?"Balans":"+500 kcal"})]})]},R))})}),r.jsxs("div",{className:"training-grid",children:[r.jsxs("div",{className:"stats-panel space-y-4",children:[r.jsxs("div",{className:"stat-card premium-card",children:[r.jsx("span",{className:"stat-label",children:"Dagens Kaloribehov"}),r.jsxs("div",{className:"stat-value-group",children:[r.jsx("span",{className:"stat-value text-emerald-400",children:V}),r.jsx("span",{className:"stat-unit",children:"kcal"})]}),r.jsxs("div",{className:"stat-breakdown",children:[r.jsxs("span",{children:["BMR: ",D]}),M>0&&r.jsxs("span",{children:["+ Trning: ",M]}),G!==0&&r.jsxs("span",{children:["+ Ml: ",G]})]})]}),r.jsxs("div",{className:"stat-card bg-slate-900/50 border-white/5",children:[r.jsx("span",{className:"stat-label",children:"Veckans Trning"}),r.jsxs("div",{className:"flex justify-between items-end mt-2",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"text-lg font-black text-white",children:[e.filter(R=>{const ee=new Date(R.date),ae=new Date,oe=new Date(ae.setDate(ae.getDate()-ae.getDay()+1));return ee>=oe}).length," pass"]}),r.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:"Denna vecka"})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"text-lg font-black text-emerald-400",children:Math.round(e.reduce((R,ee)=>R+ee.caloriesBurned,0)/(e.length||1))}),r.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase",children:"Snitt kcal/pass"})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-white/5",children:[r.jsx("div",{className:"text-[9px] text-slate-500 font-bold uppercase mb-2",children:"Topp-aktivitet"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl",children:(O=At.find(R=>{var ee;return R.type===(((ee=Object.entries(e.reduce((ae,oe)=>({...ae,[oe.type]:(ae[oe.type]||0)+1}),{})).sort((ae,oe)=>oe[1]-ae[1])[0])==null?void 0:ee[0])||"other")}))==null?void 0:O.icon}),r.jsx("span",{className:"text-xs font-bold text-white uppercase tracking-widest",children:((Y=At.find(R=>{var ee;return R.type===(((ee=Object.entries(e.reduce((ae,oe)=>({...ae,[oe.type]:(ae[oe.type]||0)+1}),{})).sort((ae,oe)=>oe[1]-ae[1])[0])==null?void 0:ee[0])||"other")}))==null?void 0:Y.label)||"Ingen data"})]})]})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("span",{className:"stat-label",children:"Nuvarande Vikt"}),r.jsxs("div",{className:"stat-value-group",children:[r.jsx("span",{className:"stat-value",children:i()}),r.jsx("span",{className:"stat-unit",children:"kg"})]}),r.jsxs("p",{className:"text-[10px] text-slate-500 mt-2",children:["Senast uppdaterad: ",((U=t[0])==null?void 0:U.date)||"Aldrig"]})]})]}),r.jsxs("div",{className:"main-panel space-y-6",children:[r.jsxs("div",{className:"content-card",children:[r.jsx("h3",{className:"section-title",children:"Viktutveckling"}),r.jsx("div",{className:"weight-chart h-48 flex items-center justify-center bg-slate-900/30 rounded-xl border border-white/5 relative overflow-hidden",children:t.length>1?r.jsx("svg",{className:"w-full h-full p-4",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:r.jsx("path",{d:`M ${t.slice().reverse().map((R,ee)=>`${ee/(t.length-1)*100} ${100-(R.weight-60)/40*100}`).join(" L ")}`,fill:"none",stroke:"var(--emerald-500)",strokeWidth:"2",className:"drop-shadow-glow"})}):r.jsx("span",{className:"text-slate-500 text-sm italic",children:"Logga mer vikt fr att se trenden"})})]}),r.jsxs("div",{className:"content-card",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"section-title",children:"Trningsdagbok"}),r.jsx("input",{type:"date",value:m,onChange:R=>c(R.target.value),className:"bg-slate-800 border-none rounded-lg text-xs p-2 text-white"})]}),r.jsx("div",{className:"exercise-list space-y-2",children:P.length>0?P.map(R=>{var ee,ae,oe,_e;return r.jsxs("div",{className:"exercise-row p-3 bg-white/5 rounded-xl border border-white/5 flex items-center justify-between group hover:bg-white/10 transition-all",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-2xl",children:(ee=At.find(W=>W.type===R.type))==null?void 0:ee.icon}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-bold text-sm",children:(ae=At.find(W=>W.type===R.type))==null?void 0:ae.label}),r.jsx("span",{className:`text-[10px] font-bold uppercase ${(oe=br.find(W=>W.value===R.intensity))==null?void 0:oe.color}`,children:(_e=br.find(W=>W.value===R.intensity))==null?void 0:_e.label})]}),r.jsxs("div",{className:"text-xs text-slate-500",children:[R.durationMinutes," min  ",R.notes||"Inga anteckningar"]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-rose-400 font-bold text-sm",children:["-",R.caloriesBurned," kcal"]}),r.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1 hover:text-rose-500 transition-all",onClick:()=>s(R.id),children:""})]})]},R.id)}):r.jsxs("div",{className:"text-center py-8 text-slate-600 italic text-sm",children:["Ingen trning loggad fr ",m]})})]})]})]}),f&&r.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:r.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{children:"Logga Trning"}),r.jsx("button",{className:"text-slate-500 hover:text-white",onClick:()=>y(!1),children:""})]}),r.jsxs("form",{onSubmit:$,className:"space-y-6",children:[r.jsxs("div",{className:"input-group",children:[r.jsxs("label",{className:"text-emerald-400 font-bold text-[10px] uppercase tracking-widest flex items-center gap-2",children:[r.jsx("span",{children:" Snabb-input"}),r.jsx("span",{className:"text-[10px] text-slate-500 lowercase font-normal italic",children:'t.ex. "30min lpning hg"'})]}),r.jsx("input",{type:"text",value:T,onChange:R=>p(R.target.value),placeholder:"Beskriv passet hr...",className:"w-full bg-slate-950/50 border border-emerald-500/20 rounded-2xl p-4 text-white focus:border-emerald-500/50 transition-all outline-none",autoFocus:!0})]}),T&&r.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/10 rounded-2xl flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:(J=At.find(R=>R.type===x))==null?void 0:J.icon}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-bold text-slate-200",children:(Q=At.find(R=>R.type===x))==null?void 0:Q.label}),r.jsxs("div",{className:"text-[10px] text-slate-500",children:[w," min  ",(te=br.find(R=>R.value===S))==null?void 0:te.label," intensitet"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-xs font-bold text-emerald-400",children:["-",l(x,parseInt(w)||0,S)," kcal"]}),r.jsx("div",{className:"text-[10px] text-slate-500 italic",children:"berknat"})]})]}),r.jsx("div",{className:"border-t border-white/5 pt-4 my-2"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:At.map(R=>r.jsxs("button",{type:"button",className:`p-3 rounded-xl border flex flex-col items-center gap-1 transition-all ${x===R.type?"bg-emerald-500/20 border-emerald-500 text-emerald-400":"bg-slate-800 border-white/5 text-slate-400 opacity-60 hover:opacity-100"}`,onClick:()=>{C({...b,type:R.type}),p("")},children:[r.jsx("span",{className:"text-xl",children:R.icon}),r.jsx("span",{className:"text-[10px] font-bold",children:R.label})]},R.type))}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"input-group",children:[r.jsx("label",{children:"Lngd (min)"}),r.jsx("input",{type:"number",value:w,onChange:R=>{C({...b,duration:R.target.value}),p("")},className:"w-full bg-slate-800 border-white/5 rounded-xl p-3 text-white"})]}),r.jsxs("div",{className:"input-group",children:[r.jsx("label",{children:"Intensitet"}),r.jsx("select",{value:S,onChange:R=>{C({...b,intensity:R.target.value}),p("")},className:"w-full bg-slate-800 border-white/5 rounded-xl p-3 text-white appearance-none",children:br.map(R=>r.jsx("option",{value:R.value,children:R.label},R.value))})]})]}),r.jsxs("div",{className:"input-group",children:[r.jsx("label",{children:"Anteckningar (valfritt)"}),r.jsx("textarea",{rows:2,value:b.notes,onChange:R=>C({...b,notes:R.target.value}),className:"w-full bg-slate-800 border-white/5 rounded-xl p-3 text-white resize-none"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>y(!1),children:"Avbryt"}),r.jsx("button",{type:"submit",className:"btn btn-primary flex-1",children:"Spara Trning"})]})]})]})}),j&&r.jsx("div",{className:"modal-overlay",onClick:()=>k(!1),children:r.jsxs("div",{className:"modal-content max-w-sm",onClick:R=>R.stopPropagation(),children:[r.jsx("h2",{children:"Uppdatera Vikt"}),r.jsxs("form",{onSubmit:X,className:"space-y-4",children:[r.jsxs("div",{className:"input-group",children:[r.jsx("label",{children:"Vikt (kg)"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"number",step:"0.1",value:h,autoFocus:!0,onChange:R=>g(R.target.value),className:"w-full bg-slate-800 border-white/5 rounded-xl p-4 text-2xl font-black text-center text-white"}),r.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 font-bold",children:"KG"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",className:"btn btn-secondary flex-1",onClick:()=>k(!1),children:"Avbryt"}),r.jsx("button",{type:"submit",className:"btn btn-primary flex-1",children:"Spara"})]})]})]})})]})}const U0={breakfast:["breakfast","brunch","frukost","morgon"],lunch:["lunch","middag","dinner"],dinner:["lunch","middag","dinner","kvllsmat"],snack:["snack","mellanml","fika"],beverage:["dryck","dricka","beverage","drink"]},W0=()=>{const e=new Date().getMonth();return e>=2&&e<=4?"spring":e>=5&&e<=7?"summer":e>=8&&e<=10?"autumn":"winter"},V0={winter:["rotfrukter","kl","morot","palsternacka","pple","pron"],spring:["sparris","rdisor","rter","spenat","ruccola"],summer:["tomat","gurka","zucchini","br","sallad","dill"],autumn:["svamp","pumpa","squash","plommon","pple","kl"]},Uc=["ris","pasta","potatis","bulgur","couscous","nudlar","brd","quinoa"],G0={monday:"MN",tuesday:"TIS",wednesday:"ONS",thursday:"TOR",friday:"FRE",saturday:"LR",sunday:"SN"};function K0(){const{recipes:e,foodItems:t,weeklyPlans:n,getWeeklyPlan:s,saveWeeklyPlan:a}=Fe(),{settings:i}=Gt(),[l,o]=v.useState(()=>mo()),[d,u]=v.useState(null),[m,c]=v.useState(""),f=v.useMemo(()=>{const x=s(l);return(x==null?void 0:x.meals)||{}},[l,s]),y=v.useMemo(()=>{const x=new Date(l),w=new Date(x.getFullYear(),0,1),S=(x.getTime()-w.getTime())/864e5;return Math.ceil((S+w.getDay()+1)/7)},[l]),j=x=>{const w=new Date(l);w.setDate(w.getDate()+x*7),o(ct(w))},k=v.useCallback(()=>{const x=[];return n.forEach(w=>{Pt.forEach(S=>{const P=w.meals[S];P&&Object.entries(P).forEach(([M,D])=>{D!=null&&D.recipeId&&x.push({recipeId:D.recipeId,day:S,meal:M,date:w.weekStartDate})})})}),x},[n]),T=(x,w)=>{var M;const S=((M=x.mealType)==null?void 0:M.toLowerCase())||"",P=U0[w];return S?w==="snack"?S.includes("snack")||S.includes("mellanml")||S.includes("fika"):P.some(D=>S.includes(D)):w==="snack"?(x.cookTime||60)<=15||["snack","smoothie","yoghurt","frukt","ntter","bars"].some(V=>x.name.toLowerCase().includes(V)):!0},p=v.useCallback((x,w)=>{const S=k(),P=W0(),M=[];return e.forEach(D=>{const G=[],V=[];let $=0;if(!T(D,w))return;V.push("suitable"),x==="friday"&&S.filter(ae=>ae.day==="friday").filter(ae=>ae.recipeId===D.id).length>=2&&($+=30,G.push(" Fredagsfavorit"),V.push("friday-favorite"));const X=S.filter(R=>R.recipeId===D.id),Z=X.length>0?Math.max(...X.map(R=>new Date(R.date).getTime())):0,L=Z?Math.floor((Date.now()-Z)/(1e3*60*60*24)):999;L>=30&&X.length>0?($+=25,G.push(` ${L} dagar sedan`),V.push("long-time")):L>=14&&($+=10);const _=V0[P],A=(D.ingredientsText||"").toLowerCase(),O=_.filter(R=>A.includes(R));O.length>0&&($+=15*O.length,G.push(` Ssong: ${O.join(", ")}`),V.push("seasonal")),["monday","tuesday","wednesday","thursday"].includes(x)&&(D.cookTime||60)<=30&&($+=15,G.push(` Snabbt (${D.cookTime||"?"} min)`),V.push("quick"));const U=Object.values(f).flatMap(R=>Object.values(R||{}).map(ee=>ee==null?void 0:ee.recipeId)).filter(Boolean),J=Uc.filter(R=>A.includes(R)),Q=U.map(R=>{const ee=e.find(ae=>ae.id===R);return Uc.filter(ae=>((ee==null?void 0:ee.ingredientsText)||"").toLowerCase().includes(ae))}).flat(),te=J.filter(R=>Q.includes(R)).length;J.length>0&&te===0&&($+=10,G.push(` Kolhydratvariation: ${J.join(", ")}`),V.push("carb-variety")),D.ingredientsText&&jt(D.ingredientsText,t).calories>0&&($+=5),($>0||G.length>0)&&M.push({recipe:D,score:$,reasons:G,tags:V})}),M.sort((D,G)=>G.score-D.score).slice(0,8)},[e,t,f,k]),h=v.useMemo(()=>{if(!d)return[];let x=e.filter(w=>T(w,d.meal));if(m){const w=m.toLowerCase();x=x.filter(S=>S.name.toLowerCase().includes(w)||(S.description||"").toLowerCase().includes(w)||(S.ingredientsText||"").toLowerCase().includes(w))}return x},[e,d,m]),g=x=>{if(!d)return;const w={...f,[d.day]:{...f[d.day],[d.meal]:{recipeId:x}}};a(l,w),u(null),c("")},b=(x,w)=>{const S={...f[x]};delete S[w],a(l,{...f,[x]:S})},C=x=>{var w;return((w=e.find(S=>S.id===x))==null?void 0:w.name)||"Oknt"},E=v.useMemo(()=>d?p(d.day,d.meal):[],[d,p]);return r.jsxs("div",{className:"planning-page",children:[r.jsxs("header",{className:"planning-header",children:[r.jsxs("div",{className:"week-nav",children:[r.jsx("button",{className:"nav-btn",onClick:()=>j(-1),children:""}),r.jsxs("h1",{children:[" Planera Vecka ",y]}),r.jsx("button",{className:"nav-btn",onClick:()=>j(1),children:""})]}),r.jsx("p",{className:"planning-subtitle",children:"Smarta frslag baserat p dina mnster"})]}),r.jsx("div",{className:"week-grid",children:Pt.map(x=>r.jsxs("div",{className:"day-column",children:[r.jsx("div",{className:"day-header",children:r.jsx("span",{className:"day-short",children:G0[x]})}),r.jsx("div",{className:"day-meals",children:i.visibleMeals.map(w=>{var M;const S=(M=f[x])==null?void 0:M[w],P=(d==null?void 0:d.day)===x&&(d==null?void 0:d.meal)===w;return r.jsx("div",{className:`meal-cell ${S?"has-meal":"empty"} ${P?"selected":""}`,onClick:()=>u({day:x,meal:w}),children:S!=null&&S.recipeId?r.jsxs("div",{className:"meal-content",children:[r.jsx("span",{className:"meal-icon",children:w==="breakfast"?"":w==="lunch"?"":w==="dinner"?"":w==="beverage"?"":""}),r.jsx("span",{className:"meal-name",children:C(S.recipeId)}),r.jsx("button",{className:"remove-btn",onClick:D=>{D.stopPropagation(),b(x,w)},children:""})]}):r.jsx("span",{className:"add-icon",children:"+"})},w)})})]},x))}),d&&r.jsxs("div",{className:"suggestion-panel",children:[r.jsxs("div",{className:"panel-header",children:[r.jsxs("h2",{children:[fo[d.day]," - ",Xe[d.meal]]}),r.jsx("button",{className:"close-btn",onClick:()=>u(null),children:""})]}),r.jsx("input",{type:"text",className:"recipe-search",placeholder:" Sk recept...",value:m,onChange:x=>c(x.target.value)}),!m&&E.length>0&&r.jsxs("div",{className:"suggestions-section",children:[r.jsx("h3",{children:" Frslag fr dig"}),r.jsx("div",{className:"suggestion-cards",children:E.map(({recipe:x,reasons:w,tags:S})=>r.jsxs("div",{className:`suggestion-card ${S.includes("friday-favorite")?"highlight":""}`,onClick:()=>g(x.id),children:[r.jsx("div",{className:"suggestion-name",children:x.name}),r.jsx("div",{className:"suggestion-reasons",children:w.slice(0,2).map((P,M)=>r.jsx("span",{className:"reason-tag",children:P},M))})]},x.id))})]}),r.jsxs("div",{className:"all-recipes-section",children:[r.jsx("h3",{children:m?"Skresultat":"Alla recept"}),r.jsxs("div",{className:"recipe-list",children:[h.map(x=>r.jsxs("div",{className:"recipe-item",onClick:()=>g(x.id),children:[r.jsx("span",{className:"recipe-name",children:x.name}),x.cookTime&&r.jsxs("span",{className:"recipe-time",children:[" ",x.cookTime," min"]})]},x.id)),h.length===0&&r.jsx("p",{className:"no-recipes",children:"Inga recept hittades fr denna mltidstyp."})]})]})]})]})}const H0=()=>{const{users:e,currentUser:t,setCurrentUser:n}=Fe();return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx("span",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:""}),"Anvndarhantering"]}),r.jsx("div",{className:"bg-slate-900/50 rounded-3xl border border-slate-800 overflow-hidden shadow-2xl",children:r.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[r.jsx("thead",{className:"bg-slate-800/50 text-gray-500 border-b border-slate-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-4 font-semibold uppercase tracking-wider text-[10px]",children:"Namn / Email"}),r.jsx("th",{className:"px-6 py-4 font-semibold uppercase tracking-wider text-[10px]",children:"Roll"}),r.jsx("th",{className:"px-6 py-4 font-semibold uppercase tracking-wider text-[10px]",children:"Plan"}),r.jsx("th",{className:"px-6 py-4 font-semibold uppercase tracking-wider text-[10px]",children:"Status"}),r.jsx("th",{className:"px-6 py-4 font-semibold uppercase tracking-wider text-[10px] text-right",children:"tgrd"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800/50",children:e.map(s=>r.jsxs("tr",{className:`hover:bg-white/[0.02] transition-colors ${(t==null?void 0:t.id)===s.id?"bg-blue-500/5":""}`,children:[r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"font-medium text-white",children:s.name}),r.jsx("div",{className:"text-xs text-gray-500",children:s.email})]}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`text-[10px] px-2 py-1 rounded-lg uppercase tracking-widest font-bold ${s.role==="admin"?"bg-rose-500/10 text-rose-500 border border-rose-500/20":"bg-slate-800 text-gray-400"}`,children:s.role})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`text-[10px] px-2 py-1 rounded-lg uppercase tracking-widest font-bold ${s.plan==="evergreen"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-slate-800 text-gray-400"}`,children:s.plan==="evergreen"?" Evergreen":"Gratis"})}),r.jsx("td",{className:"px-6 py-4",children:(t==null?void 0:t.id)===s.id?r.jsxs("span",{className:"flex items-center gap-1.5 text-blue-400 text-xs font-bold",children:[r.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Aktiv Nu"]}):r.jsx("span",{className:"text-gray-500 text-xs",children:"Offline"})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsx("button",{onClick:()=>n(s),className:`px-4 py-1.5 rounded-xl text-xs font-bold transition-all ${(t==null?void 0:t.id)===s.id?"bg-blue-500/10 text-blue-400 cursor-default shadow-inner":"bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 shadow-sm"}`,children:(t==null?void 0:t.id)===s.id?"Vald":"Byt till"})})]},s.id))})]})})]})},Q0=[{title:"Hushllskonto (Shared Planning)",description:"Dela din vecka, planering och skafferi med upp till 5 familjemedlemmar. Samtidigt som ni behller individuell kaloritracking.",status:"planned",tags:["Premium","Household"]},{title:"AI Receptgenerator",description:"Skapa skrddarsydda recept baserat p vad du har i skafferiet just nu med hjlp av GPT-4.",status:"research",tags:["AI","Pantry"]},{title:"Smart Inkpslista v2",description:"Automatisk kategorisering av inkpslistan baserat p butikslayout och optimering fr billigaste butiksval.",status:"in-progress",tags:["Shopping"]},{title:"Mobil App (PWA Enchancements)",description:"Bttre offline-std och push-notiser nr det r dags att brja laga middagen.",status:"planned",tags:["Mobile"]},{title:"Vatten & Smn Tracking",description:"Integrera holistisk hlsa med din kost fr en komplett bild av ditt vlmende.",status:"planned",tags:["Health"]},{title:"Exportera till PDF / Utskrift",description:"Skriv ut din veckoplan eller enskilda recept med snygg layout fr kksvggen.",status:"planned",tags:["Utilities"]}],Y0=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx("span",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-400",children:""}),"Kommande Funktioner & Roadmap"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Q0.map((e,t)=>r.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-5 rounded-2xl hover:bg-slate-800/50 transition-all group",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:"font-bold text-white group-hover:text-purple-400 transition-colors",children:e.title}),r.jsx("span",{className:`text-[10px] px-2 py-1 rounded-full uppercase tracking-widest font-bold ${e.status==="in-progress"?"bg-amber-500/10 text-amber-500":e.status==="research"?"bg-sky-500/10 text-sky-500":"bg-slate-800 text-gray-400"}`,children:e.status==="in-progress"?"Pgr":e.status==="research"?"Utforskas":"Planerad"})]}),r.jsx("p",{className:"text-sm text-gray-400 leading-relaxed mb-4",children:e.description}),r.jsx("div",{className:"flex gap-2",children:e.tags.map(n=>r.jsx("span",{className:"text-[10px] text-gray-500 bg-white/5 px-2 py-0.5 rounded-md border border-white/5",children:n},n))})]},t))})]}),Wc={fresh:" Frsk",pantry:" Skafferi",frozen:" Fryst"},gi={name:"",description:"",calories:0,protein:0,carbs:0,fat:0,fiber:0,unit:"kg",category:"other",storageType:"pantry",pricePerUnit:0,co2PerUnit:0,containsGluten:!1,iron:0,calcium:0,zinc:0,vitaminB12:0,isCompleteProtein:!1,missingAminoAcids:[],complementaryCategories:[],proteinCategory:void 0,seasons:[]};function q0({headless:e=!1}){const{foodItems:t,addFoodItem:n,updateFoodItem:s,deleteFoodItem:a}=Fe(),[i,l]=v.useState(!1),[o,d]=v.useState(null),[u,m]=v.useState(gi),[c,f]=v.useState(""),[y,j]=v.useState("all"),[k,T]=v.useState("list"),p=t.filter(x=>{const w=x.name.toLowerCase().includes(c.toLowerCase()),S=y==="all"||x.category===y;return w&&S}),h=x=>{x?(d(x),m({name:x.name,description:x.description||"",calories:x.calories,protein:x.protein,carbs:x.carbs,fat:x.fat,fiber:x.fiber||0,unit:x.unit,category:x.category,storageType:x.storageType||"pantry",pricePerUnit:x.pricePerUnit||0,co2PerUnit:x.co2PerUnit||0,containsGluten:x.containsGluten||!1,iron:x.iron||0,calcium:x.calcium||0,zinc:x.zinc||0,vitaminB12:x.vitaminB12||0,isCompleteProtein:x.isCompleteProtein||!1,missingAminoAcids:x.missingAminoAcids||[],complementaryCategories:x.complementaryCategories||[],proteinCategory:x.proteinCategory,seasons:x.seasons||[]})):(d(null),m(gi)),l(!0)},g=()=>{l(!1),d(null),m(gi)},b=x=>{x.preventDefault(),o?s(o.id,u):n(u),g()},C=x=>{confirm("r du sker p att du vill ta bort denna rvara?")&&a(x)},E=(x,w,S)=>{s(x.id,{[w]:S})};return r.jsxs("div",{className:"database-page",children:[!e&&r.jsxs("header",{className:"page-header",children:[r.jsxs("div",{children:[r.jsx("h1",{children:"Matdatabas"}),r.jsx("p",{className:"page-subtitle",children:"Hantera rvaror och nringsvrden"})]}),r.jsxs("div",{className:"header-actions",children:[r.jsxs("div",{className:"view-toggle",children:[r.jsx("button",{className:`toggle-btn ${k==="grid"?"active":""}`,onClick:()=>T("grid"),title:"Rutnt",children:""}),r.jsx("button",{className:`toggle-btn ${k==="list"?"active":""}`,onClick:()=>T("list"),title:"Lista",children:""})]}),r.jsx("button",{className:"btn btn-primary",onClick:()=>h(),children:"+ Lgg till"})]})]}),r.jsxs("div",{className:"filters",children:[r.jsx("input",{type:"text",className:"search-input",placeholder:"Sk efter rvara...",value:c,onChange:x=>f(x.target.value)}),r.jsxs("select",{className:"category-select",value:y,onChange:x=>j(x.target.value),children:[r.jsx("option",{value:"all",children:"Alla kategorier"}),Object.entries(kn).map(([x,w])=>r.jsx("option",{value:x,children:w},x))]}),e&&r.jsx("button",{className:"btn btn-primary",onClick:()=>h(),children:"+ Ny"})]}),p.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("span",{className:"empty-icon",children:""}),r.jsx("p",{children:"Inga rvaror hittades"}),r.jsx("button",{className:"btn btn-secondary",onClick:()=>h(),children:"Lgg till din frsta rvara"})]}):k==="list"?r.jsxs("div",{className:"food-table-wrapper",children:[r.jsxs("table",{className:"food-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"th-name",children:"Rvara"}),r.jsx("th",{className:"th-type",children:"Typ"}),r.jsx("th",{className:"th-cooked",children:"Tillagad"}),r.jsx("th",{className:"th-price",children:"Pris (kr)"}),r.jsx("th",{className:"th-unit",children:"Enhet"}),r.jsx("th",{className:"th-num",children:"Kcal"}),r.jsx("th",{className:"th-num",children:"Prot."}),r.jsx("th",{className:"th-num",children:"Fett"}),r.jsx("th",{className:"th-num",children:"Kolh."}),r.jsx("th",{className:"th-gluten",children:"Gluten"}),r.jsx("th",{className:"th-co2",children:"Klimat"}),r.jsx("th",{className:"th-actions"})]})}),r.jsx("tbody",{children:p.map(x=>r.jsxs("tr",{children:[r.jsxs("td",{className:"td-name",children:[r.jsx("strong",{children:x.name}),x.description&&r.jsx("span",{className:"item-desc",children:x.description})]}),r.jsx("td",{className:"td-type",children:r.jsx("span",{className:`storage-badge ${x.storageType||"pantry"}`,children:Wc[x.storageType||"pantry"]})}),r.jsx("td",{className:"td-cooked",children:r.jsx("input",{type:"checkbox",className:"cooked-checkbox",checked:x.isCooked||!1,onChange:w=>E(x,"isCooked",w.target.checked),title:"Tillagad"})}),r.jsx("td",{className:"td-price",children:r.jsx("input",{type:"number",className:"inline-input",value:x.pricePerUnit||0,onChange:w=>E(x,"pricePerUnit",Number(w.target.value)),min:"0"})}),r.jsx("td",{className:"td-unit",children:r.jsx("select",{className:"inline-select",value:x.unit,onChange:w=>E(x,"unit",w.target.value),children:Object.entries(Mc).map(([w,S])=>r.jsx("option",{value:w,children:w.toUpperCase()},w))})}),r.jsx("td",{className:"td-num",children:x.calories}),r.jsx("td",{className:"td-num",children:x.protein}),r.jsx("td",{className:"td-num",children:x.fat}),r.jsx("td",{className:"td-num",children:x.carbs}),r.jsx("td",{className:"td-gluten",children:r.jsx("input",{type:"checkbox",className:"gluten-checkbox",checked:x.containsGluten||!1,onChange:w=>E(x,"containsGluten",w.target.checked)})}),r.jsx("td",{className:"td-co2",children:r.jsx("span",{className:`co2-badge ${Vc(x.co2PerUnit||0)}`,children:x.co2PerUnit||0})}),r.jsxs("td",{className:"td-actions",children:[r.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>h(x),children:""}),r.jsx("button",{className:"btn btn-ghost btn-sm btn-danger",onClick:()=>C(x.id),children:""})]})]},x.id))})]}),r.jsx("p",{className:"table-hint",children:" ndringar sparas automatiskt nr du redigerar flten"})]}):r.jsx("div",{className:"food-grid",children:p.map(x=>r.jsxs("div",{className:"food-card",children:[r.jsxs("div",{className:"food-card-header",children:[r.jsx("h3",{children:x.name}),r.jsx("span",{className:"category-badge",children:kn[x.category]})]}),r.jsxs("div",{className:"nutrition-grid",children:[r.jsxs("div",{className:"nutrition-item",children:[r.jsx("span",{className:"nutrition-value",children:x.calories}),r.jsx("span",{className:"nutrition-label",children:"kcal"})]}),r.jsxs("div",{className:"nutrition-item",children:[r.jsxs("span",{className:"nutrition-value",children:[x.protein,"g"]}),r.jsx("span",{className:"nutrition-label",children:"protein"})]}),r.jsxs("div",{className:"nutrition-item",children:[r.jsxs("span",{className:"nutrition-value",children:[x.carbs,"g"]}),r.jsx("span",{className:"nutrition-label",children:"kolh"})]}),r.jsxs("div",{className:"nutrition-item",children:[r.jsxs("span",{className:"nutrition-value",children:[x.fat,"g"]}),r.jsx("span",{className:"nutrition-label",children:"fett"})]})]}),(x.pricePerUnit||x.co2PerUnit)&&r.jsxs("div",{className:"extra-stats",children:[x.pricePerUnit?r.jsxs("span",{children:[x.pricePerUnit," kr"]}):null,x.co2PerUnit?r.jsxs("span",{className:`co2-badge ${Vc(x.co2PerUnit)}`,children:[x.co2PerUnit," CO"]}):null,x.containsGluten?r.jsx("span",{className:"gluten-badge",children:"Gluten"}):null]}),r.jsxs("div",{className:"food-card-footer",children:[r.jsxs("span",{className:"unit-label",children:["per 100",x.unit==="pcs"?" st":x.unit]}),r.jsxs("div",{className:"card-actions",children:[r.jsx("button",{className:"btn btn-ghost",onClick:()=>h(x),children:"Redigera"}),r.jsx("button",{className:"btn btn-ghost btn-danger",onClick:()=>C(x.id),children:"Ta bort"})]})]})]},x.id))}),i&&r.jsx("div",{className:"modal-overlay",onClick:g,children:r.jsxs("div",{className:"modal modal-large",onClick:x=>x.stopPropagation(),children:[r.jsx("h2",{children:o?"Redigera Rvara":"Lgg till Rvara"}),r.jsxs("form",{onSubmit:b,children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:"Namn"}),r.jsx("input",{type:"text",id:"name",value:u.name,onChange:x=>m({...u,name:x.target.value}),required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"description",children:"Beskrivning (t.ex. varianter)"}),r.jsx("input",{type:"text",id:"description",placeholder:"t.ex. jasminris, basmatiris",value:u.description||"",onChange:x=>m({...u,description:x.target.value})})]}),r.jsxs("div",{className:"form-row form-row-3",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"category",children:"Kategori"}),r.jsx("select",{id:"category",value:u.category,onChange:x=>m({...u,category:x.target.value}),children:Object.entries(kn).map(([x,w])=>r.jsx("option",{value:x,children:w},x))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"storageType",children:"Frvaringstyp"}),r.jsx("select",{id:"storageType",value:u.storageType||"pantry",onChange:x=>m({...u,storageType:x.target.value}),children:Object.entries(Wc).map(([x,w])=>r.jsx("option",{value:x,children:w},x))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"unit",children:"Enhet"}),r.jsx("select",{id:"unit",value:u.unit,onChange:x=>m({...u,unit:x.target.value}),children:Object.entries(Mc).map(([x,w])=>r.jsx("option",{value:x,children:w},x))})]})]}),r.jsx("h3",{className:"form-section-title",children:"Nringsvrden (per 100g)"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"calories",children:"Kalorier (kcal)"}),r.jsx("input",{type:"number",id:"calories",min:"0",value:u.calories,onChange:x=>m({...u,calories:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"protein",children:"Protein (g)"}),r.jsx("input",{type:"number",id:"protein",min:"0",step:"0.1",value:u.protein,onChange:x=>m({...u,protein:Number(x.target.value)})})]})]}),r.jsxs("div",{className:"form-row form-row-3",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"carbs",children:"Kolhydrater (g)"}),r.jsx("input",{type:"number",id:"carbs",min:"0",step:"0.1",value:u.carbs,onChange:x=>m({...u,carbs:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fat",children:"Fett (g)"}),r.jsx("input",{type:"number",id:"fat",min:"0",step:"0.1",value:u.fat,onChange:x=>m({...u,fat:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fiber",children:"Fiber (g)"}),r.jsx("input",{type:"number",id:"fiber",min:"0",step:"0.1",value:u.fiber,onChange:x=>m({...u,fiber:Number(x.target.value)})})]})]}),r.jsx("h3",{className:"form-section-title",children:"Vitaminer & Mineraler (per 100g)"}),r.jsxs("div",{className:"form-row form-row-4",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"iron",children:"Jrn (mg)"}),r.jsx("input",{type:"number",id:"iron",min:"0",step:"0.1",value:u.iron||0,onChange:x=>m({...u,iron:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"calcium",children:"Kalcium (mg)"}),r.jsx("input",{type:"number",id:"calcium",min:"0",value:u.calcium||0,onChange:x=>m({...u,calcium:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"zinc",children:"Zink (mg)"}),r.jsx("input",{type:"number",id:"zinc",min:"0",step:"0.1",value:u.zinc||0,onChange:x=>m({...u,zinc:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"vitaminB12",children:"B12 (g)"}),r.jsx("input",{type:"number",id:"vitaminB12",min:"0",step:"0.1",value:u.vitaminB12||0,onChange:x=>m({...u,vitaminB12:Number(x.target.value)})})]})]}),r.jsx("h3",{className:"form-section-title",children:"Proteinkvalitet"}),r.jsx("div",{className:"form-row",children:r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:u.isCompleteProtein||!1,onChange:x=>m({...u,isCompleteProtein:x.target.checked})}),"Fullvrdigt protein (innehller alla essentiella aminosyror)"]})})}),!u.isCompleteProtein&&r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Kompletterande kategorier (behvs fr fullvrdigt protein)"}),r.jsx("div",{className:"checkbox-grid",children:["grains","legumes","nuts","seeds"].map(x=>{var w;return r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:(w=u.complementaryCategories)==null?void 0:w.includes(x),onChange:S=>{const P=u.complementaryCategories||[];S.target.checked?m({...u,complementaryCategories:[...P,x]}):m({...u,complementaryCategories:P.filter(M=>M!==x)})}}),kn[x]||x]},x)})})]}),r.jsx("h3",{className:"form-section-title",children:"Smart Plan Data"}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"proteinCategory",children:"Proteinkategori (fr aminosyra-balans)"}),r.jsxs("select",{id:"proteinCategory",value:u.proteinCategory||"",onChange:x=>m({...u,proteinCategory:x.target.value||void 0}),children:[r.jsx("option",{value:"",children:"Ingen (ej proteinfokus)"}),r.jsx("option",{value:"legume",children:"Baljvxt (Bnor/Linser)"}),r.jsx("option",{value:"grain",children:"Spannml (Ris/Vete)"}),r.jsx("option",{value:"soy_quinoa",children:"Fullvrdig (Sojaprodukter/Quinoa)"}),r.jsx("option",{value:"seed",children:"Fr (Solros/Pumpa)"}),r.jsx("option",{value:"nut",children:"Nt (Mandel/Valnt)"}),r.jsx("option",{value:"vegetable",children:"Grnsak (Broccoli/Spenat)"})]})]})}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Ssonger (nr r den bst?)"}),r.jsx("div",{className:"checkbox-grid",children:[{id:"winter",label:"Vinter "},{id:"spring",label:"Vr "},{id:"summer",label:"Sommar "},{id:"autumn",label:"Hst "}].map(x=>{var w;return r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:(w=u.seasons)==null?void 0:w.includes(x.id),onChange:S=>{const P=u.seasons||[];S.target.checked?m({...u,seasons:[...P,x.id]}):m({...u,seasons:P.filter(M=>M!==x.id)})}}),x.label]},x.id)})})]}),r.jsx("h3",{className:"form-section-title",children:"Extra Information"}),r.jsxs("div",{className:"form-row form-row-3",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"pricePerUnit",children:"Pris (kr/enhet)"}),r.jsx("input",{type:"number",id:"pricePerUnit",min:"0",step:"1",value:u.pricePerUnit||0,onChange:x=>m({...u,pricePerUnit:Number(x.target.value)})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"co2PerUnit",children:"CO (kg/enhet)"}),r.jsx("input",{type:"number",id:"co2PerUnit",min:"0",step:"0.1",value:u.co2PerUnit||0,onChange:x=>m({...u,co2PerUnit:Number(x.target.value)})})]}),r.jsx("div",{className:"form-group",children:r.jsxs("label",{className:"checkbox-inline",children:[r.jsx("input",{type:"checkbox",checked:u.containsGluten||!1,onChange:x=>m({...u,containsGluten:x.target.checked})}),"Innehller gluten"]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"button",className:"btn btn-secondary",onClick:g,children:"Avbryt"}),r.jsx("button",{type:"submit",className:"btn btn-primary",children:o?"Spara ndringar":"Lgg till"})]})]})]})})]})}function Vc(e){return e<=.5?"co2-low":e<=1?"co2-medium":"co2-high"}const J0=()=>{const e={id:"food-linser",name:"Linser",calories:350,protein:24,carbs:50,fat:1.5,fiber:11,unit:"kg",category:"legumes",iron:7.5,zinc:4.8,isCompleteProtein:!1,proteinCategory:"legume"};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{children:[r.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"p-2 bg-blue-500/10 rounded-lg",children:""}),"Databasformat (JSON)"]}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Appen anvnder ett utkat JSON-format fr att spara livsmedelsdata. Hr r de viktigaste flten:"}),r.jsx("div",{className:"bg-slate-900 rounded-xl p-4 font-mono text-sm border border-slate-800 shadow-inner overflow-x-auto",children:r.jsx("pre",{className:"text-blue-400",children:JSON.stringify(e,null,2)})})]}),r.jsxs("section",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Fltbeskrivning"}),r.jsx("div",{className:"overflow-hidden border border-slate-800 rounded-xl",children:r.jsxs("table",{className:"w-full text-left text-sm",children:[r.jsx("thead",{className:"bg-slate-800/50 text-gray-300",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2",children:"Flt"}),r.jsx("th",{className:"px-4 py-2",children:"Typ"}),r.jsx("th",{className:"px-4 py-2",children:"Beskrivning"})]})}),r.jsxs("tbody",{className:"divide-y divide-slate-800 text-gray-400",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-blue-400",children:"id"}),r.jsx("td",{className:"px-4 py-2",children:"string"}),r.jsx("td",{className:"px-4 py-2",children:"Unikt ID (e.g. food-broccoli)"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-blue-400",children:"calories"}),r.jsx("td",{className:"px-4 py-2",children:"number"}),r.jsx("td",{className:"px-4 py-2",children:"kcal per 100g"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-blue-400",children:"iron / zinc"}),r.jsx("td",{className:"px-4 py-2",children:"number"}),r.jsx("td",{className:"px-4 py-2",children:"mg per 100g"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-blue-400",children:"vitaminB12"}),r.jsx("td",{className:"px-4 py-2",children:"number"}),r.jsx("td",{className:"px-4 py-2",children:"g per 100g"})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"px-4 py-2 text-blue-400",children:"proteinCategory"}),r.jsx("td",{className:"px-4 py-2",children:"enum"}),r.jsx("td",{className:"px-4 py-2",children:"legume | grain | nut | soy_quinoa"})]})]})]})})]}),r.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl flex gap-4",children:[r.jsx("span",{className:"text-2xl",children:""}),r.jsx("p",{className:"text-sm text-amber-200/80 italic",children:"Alla nringsvrden anges per 100g tbar vara. Fr torkade varor (linser/ris) anges vrdet fr den torra rvaran om inte isCooked r satt till true."})]})]})},X0=()=>{const{foodItems:e,addFoodItem:t,updateFoodItem:n}=Fe(),[s,a]=v.useState([]),[i,l]=v.useState(null),[o,d]=v.useState("idle"),u=v.useRef(null),m=k=>{var h;const T=(h=k.target.files)==null?void 0:h[0];if(!T)return;l(T.name),d("analyzing");const p=new FileReader;p.onload=g=>{var b;try{const C=JSON.parse((b=g.target)==null?void 0:b.result),E=Array.isArray(C)?C:[C];c(E)}catch{alert("Felaktigt JSON-format!"),d("idle")}},p.readAsText(T)},c=k=>{const T=[];k.forEach(p=>{if(!p.name||p.protein===void 0)return;const h={id:p.id||`food-${p.name.toLowerCase().replace(/\s+/g,"-")}`,name:p.name,calories:p.calories||0,protein:p.protein,carbs:p.carbs||0,fat:p.fat||0,fiber:p.fiber||0,unit:p.unit||"kg",category:p.category||"other",createdAt:p.createdAt||new Date().toISOString(),updatedAt:p.updatedAt||new Date().toISOString(),...p},g=e.find(b=>b.id===h.id||b.name.toLowerCase()===h.name.toLowerCase());g?g.calories===h.calories&&g.protein===h.protein&&g.fat===h.fat&&g.carbs===h.carbs?T.push({type:"duplicate",imported:h,existing:g,selected:!1}):T.push({type:"modified",imported:h,existing:g,selected:!0}):T.push({type:"new",imported:h,selected:!0})}),a(T),d("resolved")},f=k=>{a(T=>T.map((p,h)=>h===k?{...p,selected:!p.selected}:p))},y=()=>{let k=0,T=0;s.filter(p=>p.selected).forEach(p=>{p.type==="new"?(t(p.imported),k++):p.type==="modified"&&p.existing&&(n(p.existing.id,p.imported),T++)}),alert(`Klart! Lade till ${k} och uppdaterade ${T} rvaror.`),j()},j=()=>{a([]),l(null),d("idle"),u.current&&(u.current.value="")};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"p-8 border-2 border-dashed border-slate-700 rounded-2xl text-center bg-slate-800/20 hover:border-blue-500 transition-colors cursor-pointer",onClick:()=>{var k;return(k=u.current)==null?void 0:k.click()},children:[r.jsx("input",{type:"file",ref:u,onChange:m,accept:".json",className:"hidden"}),r.jsx("div",{className:"text-4xl mb-2",children:""}),r.jsx("h3",{className:"font-bold",children:i||"Klicka fr att ladda upp JSON"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Dra och slpp filer hr eller vlj frn din dator"})]}),o==="resolved"&&r.jsxs("div",{className:"bg-slate-800/40 rounded-2xl p-6 border border-slate-700 animate-in fade-in slide-in-from-bottom-2",children:[r.jsxs("h4",{className:"font-bold mb-4 flex items-center justify-between",children:["Analysresultat",r.jsxs("span",{className:"text-sm font-normal text-gray-400",children:[s.length," objekt hittades"]})]}),r.jsx("div",{className:"space-y-3 mb-6 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:s.map((k,T)=>{var p;return r.jsxs("div",{onClick:()=>f(T),className:`p-3 rounded-lg flex items-center justify-between border cursor-pointer transition-all ${k.selected?k.type==="new"?"bg-green-500/10 border-green-500/40":k.type==="modified"?"bg-amber-500/10 border-amber-500/40 shadow-lg shadow-amber-900/10":"bg-slate-700/20 border-slate-600/30":"opacity-40 grayscale-[0.5] border-slate-700"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${k.selected?"bg-blue-600 border-blue-500":"border-slate-600"}`,children:k.selected&&r.jsx("span",{className:"text-[10px] text-white",children:""})}),r.jsx("span",{className:"text-lg",children:k.type==="new"?"":k.type==="modified"?"":""}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-sm",children:k.imported.name}),r.jsx("div",{className:"text-xs text-gray-500 italic",children:k.type==="new"?"Helt ny post":k.type==="modified"?"Vrden skiljer sig":"Exakt kopia"})]})]}),k.type==="modified"&&r.jsxs("div",{className:"text-[10px] text-amber-200/50 text-right",children:[r.jsxs("div",{className:"line-through opacity-50",children:[(p=k.existing)==null?void 0:p.calories," kcal"]}),r.jsxs("div",{className:"font-bold text-amber-400",children:[k.imported.calories," kcal"]})]})]},T)})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:y,className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg shadow-blue-900/20 transition-all active:scale-95",children:"Verkstll Import"}),r.jsx("button",{onClick:j,className:"px-6 bg-slate-700 hover:bg-slate-600 text-gray-300 font-bold py-3 rounded-xl transition-all",children:"Avbryt"})]})]})]})},Z0=()=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("section",{children:[r.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[r.jsx("span",{className:"p-2 bg-purple-500/10 rounded-lg",children:""}),"Developer Interface"]}),r.jsxs("p",{className:"text-gray-400 mb-4",children:["Du kan interagera med appens data genom ",r.jsx("code",{children:"useData()"})," hooken. Detta r det rekommenderade sttet att bygga nya moduler."]}),r.jsxs("div",{className:"bg-slate-900 rounded-xl p-4 font-mono text-sm border border-slate-800 space-y-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 mb-2",children:"// Hmta alla rvaror"}),r.jsxs("code",{className:"text-purple-400",children:["const ","{ foodItems }"," = useData();"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 mb-2",children:"// Lgg till en ny rvara"}),r.jsx("code",{className:"text-purple-400",children:"addFoodItem(newItem: FoodItem);"})]})]})]}),r.jsxs("section",{children:[r.jsx("h4",{className:"font-semibold mb-3",children:"Backend Integration (Framtid)"}),r.jsxs("div",{className:"p-6 bg-slate-800/30 rounded-2xl border border-slate-700/50",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[r.jsx("span",{className:"font-bold",children:"POST"}),r.jsx("code",{className:"bg-slate-900 px-2 py-1 rounded text-xs",children:"/api/v1/ingredients/bulk"})]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Denna endpoint r frberedd fr framtida synkronisering med en molndatabas. Just nu hanteras all bulk-data lokalt via import-modulen."})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[r.jsx("div",{className:"text-blue-400 font-bold mb-1 italic",children:"Type Safety"}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Fullt std fr TypeScript med ",r.jsx("code",{children:"FoodItem"})," och ",r.jsx("code",{children:"Recipe"})," grnssnitt."]})]}),r.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[r.jsx("div",{className:"text-green-400 font-bold mb-1 italic",children:"Real-time"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Context-API skerstller att alla vyer uppdateras direkt vid import."})]})]})]}),ex=({headless:e=!1})=>{const[t,n]=v.useState("import");return r.jsxs("div",{className:`${e?"":"max-w-4xl mx-auto p-6"} space-y-8 animate-in fade-in duration-500`,children:[!e&&r.jsxs("header",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-black tracking-tight text-white mb-2",children:"Developer & API"}),r.jsx("p",{className:"text-gray-400",children:"Hantera databasen genom bulk-import och utforska API-strukturen."})]}),r.jsxs("div",{className:"p-4 bg-blue-600/20 text-blue-400 rounded-2xl border border-blue-500/20 glass-effect",children:[r.jsx("div",{className:"text-2xl font-bold",children:"v1.2"}),r.jsx("div",{className:"text-[10px] uppercase tracking-widest font-bold opacity-50",children:"API Version"})]})]}),r.jsx("nav",{className:"flex bg-slate-800/50 p-1 rounded-2xl border border-slate-700/50",children:["import","schema","api"].map(s=>r.jsx("button",{onClick:()=>n(s),className:`flex-1 py-3 px-6 rounded-xl font-bold transition-all ${t===s?"bg-blue-600 text-white shadow-lg shadow-blue-900/40 translate-y-[-1px]":"text-gray-400 hover:text-white hover:bg-slate-700/50"}`,children:s==="import"?"Bulk Import":s==="schema"?"Schema":"API Ref"},s))}),r.jsxs("main",{className:"bg-slate-900/50 backdrop-blur-xl rounded-3xl p-8 border border-slate-800 shadow-2xl min-h-[500px]",children:[t==="schema"&&r.jsx(J0,{}),t==="import"&&r.jsx(X0,{}),t==="api"&&r.jsx(Z0,{})]}),!e&&r.jsx("footer",{className:"text-center text-gray-500 text-xs py-8",children:"Greens API Engine  Developed for Advanced Agency  2025"})]})};function tx({headless:e=!1}){return r.jsxs("div",{className:"documentation-page",children:[!e&&r.jsxs("header",{className:"doc-header",children:[r.jsx("h1",{children:" Systemdokumentation & Regler"}),r.jsx("p",{children:"Hr hittar du reglerna som styr hur recept tolkas, timers skapas och enheter omvandlas."})]}),r.jsxs("main",{className:"doc-content",children:[r.jsxs("section",{className:"doc-section",children:[r.jsx("h2",{children:" Smart Timer Inference"}),r.jsx("p",{children:"Systemet analyserar receptsteg fr att hitta tidsangivelser automatiskt."}),r.jsxs("div",{className:"rule-card",children:[r.jsx("h3",{children:"Automatiska Timers"}),r.jsx("p",{children:"Fljande mnster skapar en timer automatiskt:"}),r.jsxs("ul",{children:[r.jsxs("li",{children:[r.jsx("code",{children:"(ca 10 min)"})," - Parentes med 'ca'"]}),r.jsxs("li",{children:[r.jsx("code",{children:"koka i 20 min"})," - Verb + preposition"]}),r.jsxs("li",{children:[r.jsx("code",{children:"15 minuter"})," - Fristende tidsangivelse"]})]})]}),r.jsxs("div",{className:"rule-card",children:[r.jsx("h3",{children:"Manuella Timers (Frslag)"}),r.jsx("p",{children:"Vissa instruktioner r otydliga men antyder att en timer behvs. Dessa skapar en frslagen timer (default 10 min) som du kan justera:"}),r.jsxs("ul",{children:[r.jsx("li",{children:r.jsx("code",{children:'"Koka enligt frpackningen"'})}),r.jsx("li",{children:r.jsx("code",{children:'"Se anvisning"'})})]})]})]}),r.jsxs("section",{className:"doc-section",children:[r.jsx("h2",{children:" Enhetskonvertering & Matvarelogik"}),r.jsx("p",{children:"Fr att ge exakta nringsvrden och tydliga instruktioner (dl/g) anvnder vi en utkad matvarudatabas."}),r.jsxs("div",{className:"rule-card",children:[r.jsx("h3",{children:"Basvaror (Staples)"}),r.jsx("p",{children:"Vissa varor har extra data fr densitet och portionsstorlek:"}),r.jsxs("table",{className:"doc-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{children:"Vara"}),r.jsx("th",{children:"Portion"}),r.jsx("th",{children:"Densitet"}),r.jsx("th",{children:"Kokt vs Okokt"})]})}),r.jsxs("tbody",{children:[r.jsxs("tr",{children:[r.jsx("td",{children:"Ris"}),r.jsx("td",{children:"70g (okokt)"}),r.jsx("td",{children:"85g / dl"}),r.jsx("td",{children:"Vxer 2.5x vid kokning"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Pasta"}),r.jsx("td",{children:"75g (okokt)"}),r.jsx("td",{children:"35g / dl"}),r.jsx("td",{children:"Vxer 2.2x vid kokning"})]}),r.jsxs("tr",{children:[r.jsx("td",{children:"Havregryn"}),r.jsx("td",{children:"40g"}),r.jsx("td",{children:"40g / dl"}),r.jsx("td",{children:"Cooked yield: 1x (grt hanteras separat)"})]})]})]})]}),r.jsxs("div",{className:"rule-card",children:[r.jsx("h3",{children:"Display-regler"}),r.jsxs("p",{children:["Om en ingrediens anges i ",r.jsx("code",{children:"port"})," och vi har data:"]}),r.jsxs("p",{children:[r.jsx("em",{children:"Exempel:"})," ",r.jsx("code",{children:"4 port ris"}),"  ",r.jsx("code",{children:"4 port (3.3 dl / 280g)"})]})]})]}),r.jsxs("section",{className:"doc-section",children:[r.jsx("h2",{children:" Bygg Egna Regler (Kommande)"}),r.jsx("p",{children:"Hr kommer du kunna definiera egna parsningregler och enhetskonverteringar via JSON."}),r.jsx("pre",{className:"code-block",children:`{
  "customUnit": {
    "name": "nve",
    "grams": 30
  },
  "timerPattern": {
    "regex": "vila \\\\d+ min",
    "action": "createTimer"
  }
}`})]})]})]})}const nx=()=>{const{foodItems:e,recipes:t,updateFoodItem:n}=Fe(),[s,a]=Sg(),[i,l]=v.useState("all"),[o,d]=v.useState(""),[u,m]=v.useState(null),c=s.get("tab")||"audit",f=p=>a({tab:p}),y=()=>{const p={foodItems:e,recipes:t,timestamp:new Date().toISOString()},h=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`greens_db_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)},j=v.useMemo(()=>({totalFoods:e.length,totalRecipes:t.length,incompleteFoods:e.filter(p=>p.calories===0||!p.category||p.category==="other").length,missingMicros:e.filter(p=>!p.iron&&!p.zinc&&!p.vitaminB12).length}),[e,t]),k=v.useMemo(()=>e.filter(p=>p.name.toLowerCase().includes(o.toLowerCase())?i==="missing-kcal"?p.calories===0:i==="missing-micros"?!p.iron&&!p.zinc&&!p.vitaminB12:i==="no-category"?!p.category||p.category==="other":!0:!1),[e,i,o]),T=(p,h,g)=>{n(p,{[h]:g})};return r.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[r.jsxs("header",{children:[r.jsx("h1",{className:"text-3xl font-black tracking-tight text-white mb-2",children:"Admin Dashboard"}),r.jsxs("div",{className:"flex items-center justify-between gap-4",children:[r.jsx("p",{className:"text-gray-400 text-sm uppercase tracking-widest font-semibold opacity-50",children:"Systemversikt & Kvalitetskontroll"}),r.jsxs("button",{onClick:y,className:"bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-xl text-xs font-bold transition-all flex items-center gap-2 shadow-lg shadow-emerald-900/20",children:[r.jsx("span",{children:""})," Spara till Disk (JSON)"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(Ls,{label:"Totala Rvaror",value:j.totalFoods,icon:""}),r.jsx(Ls,{label:"Totala Recept",value:j.totalRecipes,icon:""}),r.jsx(Ls,{label:"Ofullstndiga",value:j.incompleteFoods,icon:"",color:"text-red-400"}),r.jsx(Ls,{label:"Saknar Mikros",value:j.missingMicros,icon:"",color:"text-amber-400"})]}),r.jsxs("div",{className:"flex border-b border-slate-800 gap-6 overflow-x-auto no-scrollbar",children:[r.jsx("button",{onClick:()=>f("audit"),className:`pb-4 text-[10px] uppercase tracking-widest font-black transition-all px-2 whitespace-nowrap ${c==="audit"?"text-emerald-400 border-b-2 border-emerald-400":"text-gray-500 hover:text-gray-300"}`,children:" Audit"}),r.jsx("button",{onClick:()=>f("database"),className:`pb-4 text-[10px] uppercase tracking-widest font-black transition-all px-2 whitespace-nowrap ${c==="database"?"text-amber-400 border-b-2 border-amber-400":"text-gray-500 hover:text-gray-300"}`,children:" Databas"}),r.jsx("button",{onClick:()=>f("users"),className:`pb-4 text-[10px] uppercase tracking-widest font-black transition-all px-2 whitespace-nowrap ${c==="users"?"text-blue-400 border-b-2 border-blue-400":"text-gray-500 hover:text-gray-300"}`,children:" Anvndare"}),r.jsx("button",{onClick:()=>f("api"),className:`pb-4 text-[10px] uppercase tracking-widest font-black transition-all px-2 whitespace-nowrap ${c==="api"?"text-sky-400 border-b-2 border-sky-400":"text-gray-500 hover:text-gray-300"}`,children:" API"}),r.jsx("button",{onClick:()=>f("docs"),className:`pb-4 text-[10px] uppercase tracking-widest font-black transition-all px-2 whitespace-nowrap ${c==="docs"?"text-orange-400 border-b-2 border-orange-400":"text-gray-500 hover:text-gray-300"}`,children:" Regler"}),r.jsx("button",{onClick:()=>f("roadmap"),className:`pb-4 text-[10px] uppercase tracking-widest font-black transition-all px-2 whitespace-nowrap ${c==="roadmap"?"text-purple-400 border-b-2 border-purple-400":"text-gray-500 hover:text-gray-300"}`,children:" Roadmap"})]}),c==="audit"&&r.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[r.jsxs("section",{className:"bg-slate-900/50 rounded-3xl border border-slate-800 p-6 md:p-8 shadow-2xl overflow-hidden",children:[r.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[r.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[r.jsx("span",{className:"p-2 bg-emerald-500/10 rounded-lg",children:""}),"Data Audit & Instant Edit"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["all","missing-kcal","missing-micros","no-category"].map(p=>r.jsx("button",{onClick:()=>l(p),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${i===p?"bg-blue-600 text-white":"bg-slate-800 text-gray-400 hover:text-white"}`,children:p==="all"?"Alla":p==="missing-kcal"?"Saknar Kcal":p==="missing-micros"?"Saknar Micros":"Ingen Kategori"},p))})]}),r.jsx("div",{className:"mb-6",children:r.jsx("input",{type:"text",placeholder:"Sk rvara...",value:o,onChange:p=>d(p.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50"})}),r.jsx("div",{className:"overflow-x-auto -mx-6 md:-mx-8",children:r.jsxs("table",{className:"w-full text-left text-sm whitespace-nowrap",children:[r.jsx("thead",{className:"bg-slate-800/50 text-gray-500 border-y border-slate-800",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 md:px-8 py-3 font-semibold uppercase tracking-wider text-[10px]",children:"Rvara"}),r.jsx("th",{className:"px-4 py-3 font-semibold uppercase tracking-wider text-[10px]",children:"Kcal"}),r.jsx("th",{className:"px-4 py-3 font-semibold uppercase tracking-wider text-[10px]",children:"P / K / F"}),r.jsx("th",{className:"px-4 py-3 font-semibold uppercase tracking-wider text-[10px]",children:"Kategori"}),r.jsx("th",{className:"px-4 py-3 font-semibold uppercase tracking-wider text-[10px]",children:"Iron (mg)"}),r.jsx("th",{className:"px-4 py-3 font-semibold uppercase tracking-wider text-[10px]",children:"Zinc (mg)"})]})}),r.jsx("tbody",{className:"divide-y divide-slate-800/50",children:k.map(p=>r.jsxs("tr",{className:"hover:bg-white/[0.04] transition-colors group cursor-pointer",children:[r.jsxs("td",{className:"px-6 md:px-8 py-4 font-medium text-white group-hover:text-blue-400 transition-colors",onClick:()=>m(p),children:[p.name,r.jsx("div",{className:"text-[10px] opacity-0 group-hover:opacity-100 transition-opacity text-blue-400/50",children:"Klicka fr full redigering "})]}),r.jsx("td",{className:"px-4 py-4",onClick:h=>h.stopPropagation(),children:r.jsx("input",{type:"number",value:p.calories,onChange:h=>T(p.id,"calories",Number(h.target.value)),className:`w-16 bg-transparent border-b border-transparent focus:border-blue-500 outline-none text-right ${p.calories===0?"text-red-400 font-bold":"text-gray-300"}`})}),r.jsxs("td",{className:"px-4 py-4 text-gray-500 font-mono text-[10px]",onClick:()=>m(p),children:[p.protein," / ",p.carbs," / ",p.fat]}),r.jsx("td",{className:"px-4 py-4 font-mono text-[10px]",onClick:h=>h.stopPropagation(),children:r.jsx("select",{value:p.category,onChange:h=>T(p.id,"category",h.target.value),className:`bg-transparent outline-none ${p.category==="other"||!p.category?"text-amber-400":"text-blue-400"}`,children:Object.keys(kn).map(h=>r.jsx("option",{value:h,children:kn[h]},h))})}),r.jsx("td",{className:"px-4 py-4",onClick:h=>h.stopPropagation(),children:r.jsx("input",{type:"number",step:"0.1",value:p.iron||0,onChange:h=>T(p.id,"iron",Number(h.target.value)),className:`w-12 bg-transparent border-b border-transparent focus:border-emerald-500 outline-none ${p.iron?"text-emerald-400":"text-amber-400/50"}`})}),r.jsx("td",{className:"px-4 py-4",onClick:h=>h.stopPropagation(),children:r.jsx("input",{type:"number",step:"0.1",value:p.zinc||0,onChange:h=>T(p.id,"zinc",Number(h.target.value)),className:`w-12 bg-transparent border-b border-transparent focus:border-emerald-500 outline-none ${p.zinc?"text-emerald-400":"text-amber-400/50"}`})})]},p.id))})]})})]}),r.jsxs("div",{className:"bg-slate-800/20 border border-slate-700/50 p-6 rounded-3xl",children:[r.jsxs("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[r.jsx("span",{children:""})," Persistens & Lagring"]}),r.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Dina ndringar sparas just nu i webblsarens ",r.jsx("code",{children:"localStorage"}),". Fr att spara permanent till projektfilerna, klicka p ",r.jsx("strong",{children:'"Spara till Disk"'})," ovan och erstt innehllet i ",r.jsx("code",{children:"src/data/sampleData.ts"})," eller anvnd bulk-importen i framtiden."]})]})]}),c==="database"&&r.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsx(q0,{headless:!0})}),c==="api"&&r.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsx(ex,{headless:!0})}),c==="docs"&&r.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsx(tx,{headless:!0})}),c==="users"&&r.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsx(H0,{})}),c==="roadmap"&&r.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:r.jsx(Y0,{})}),u&&r.jsx(rx,{item:u,onClose:()=>m(null),onSave:p=>{n(u.id,p),m(null)}})]})},rx=({item:e,onClose:t,onSave:n})=>{const[s,a]=v.useState({...e});return r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm animate-in fade-in duration-200",onClick:t,children:r.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl space-y-6",onClick:i=>i.stopPropagation(),children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-2xl font-black text-white",children:"Fullstndig Redigering"}),r.jsx("button",{onClick:t,className:"text-gray-500 hover:text-white text-2xl",children:""})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Namn"}),r.jsx("input",{type:"text",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2 outline-none focus:ring-2 focus:ring-blue-500",value:s.name,onChange:i=>a({...s,name:i.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Kategori"}),r.jsx("select",{className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2 outline-none",value:s.category,onChange:i=>a({...s,category:i.target.value}),children:Object.entries(kn).map(([i,l])=>r.jsx("option",{value:i,children:l},i))})]})]}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Kcal"}),r.jsx("input",{type:"number",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.calories,onChange:i=>a({...s,calories:Number(i.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Prote(g)"}),r.jsx("input",{type:"number",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.protein,onChange:i=>a({...s,protein:Number(i.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Kolh(g)"}),r.jsx("input",{type:"number",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.carbs,onChange:i=>a({...s,carbs:Number(i.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Fett(g)"}),r.jsx("input",{type:"number",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.fat,onChange:i=>a({...s,fat:Number(i.target.value)})})]})]}),r.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-800",children:[r.jsx("h3",{className:"text-sm font-bold text-emerald-400",children:"Mikronringsmnen (mg / g)"}),r.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Iron"}),r.jsx("input",{type:"number",step:"0.1",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.iron||0,onChange:i=>a({...s,iron:Number(i.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Zinc"}),r.jsx("input",{type:"number",step:"0.1",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.zinc||0,onChange:i=>a({...s,zinc:Number(i.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"Calcium"}),r.jsx("input",{type:"number",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.calcium||0,onChange:i=>a({...s,calcium:Number(i.target.value)})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-500",children:"B12"}),r.jsx("input",{type:"number",step:"0.1",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2",value:s.vitaminB12||0,onChange:i=>a({...s,vitaminB12:Number(i.target.value)})})]})]})]}),r.jsxs("div",{className:"pt-6 flex gap-3",children:[r.jsx("button",{onClick:()=>n(s),className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-2xl transition-all active:scale-95",children:"Spara ndringar"}),r.jsx("button",{onClick:t,className:"px-6 bg-slate-800 hover:bg-slate-700 text-gray-300 font-bold py-3 rounded-2xl transition-all",children:"Avbryt"})]})]})})},Ls=({label:e,value:t,icon:n,color:s="text-white"})=>r.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-2xl flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500 text-xs font-bold uppercase tracking-wider mb-1",children:e}),r.jsx("div",{className:`text-3xl font-black ${s}`,children:t})]}),r.jsx("div",{className:"text-3xl opacity-50",children:n})]});function sx(){return r.jsx(zg,{children:r.jsx(Ug,{children:r.jsx(e0,{children:r.jsx(jg,{children:r.jsx(s0,{children:r.jsxs(Jh,{children:[r.jsx(at,{path:"/",element:r.jsx(Ms,{})}),r.jsx(at,{path:"/weekly",element:r.jsx(Ms,{})}),r.jsx(at,{path:"/vecka",element:r.jsx(Ms,{})}),r.jsx(at,{path:"/vecka/recept/:recipeId/*",element:r.jsx(Ms,{})}),r.jsx(at,{path:"/planera",element:r.jsx(K0,{})}),r.jsx(at,{path:"/pantry",element:r.jsx(A0,{})}),r.jsx(at,{path:"/recipes",element:r.jsx(M0,{})}),r.jsx(at,{path:"/calories",element:r.jsx(O0,{})}),r.jsx(at,{path:"/training",element:r.jsx(B0,{})}),r.jsx(at,{path:"/profile",element:r.jsx($0,{})}),r.jsx(at,{path:"/admin",element:r.jsx(nx,{})})]})})})})})})}const ax=rp(document.getElementById("root"));ax.render(r.jsx(Hs.StrictMode,{children:r.jsx(sx,{})}));
